"use strict";let e;var t,r,i,n,a,o,s,l,u,c,f,h,d,p,g,m,w,_,y,b,v,E,S,x,k,A,R,O,$,C=require("child_process"),P=require("os"),T=require("path"),M=require("util"),I=require("stream"),B=require("events"),L=require("fs"),j=require("buffer"),D=require("assert"),N=require("string_decoder"),H=require("timers");function F(e){var t=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}}),t.default=e,t}var U=F(C),z=F(T),G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function W(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q={},V={},Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.splitWhen=Z.flatten=void 0,Z.flatten=function(e){return e.reduce((e,t)=>[].concat(e,t),[])},Z.splitWhen=function(e,t){let r=[[]],i=0;for(let n of e)t(n)?r[++i]=[]:r[i].push(n);return r};var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.isEnoentCodeError=void 0,K.isEnoentCodeError=function(e){return"ENOENT"===e.code};var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.createDirentFromStats=void 0;let Y=class{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}};Q.createDirentFromStats=function(e,t){return new Y(e,t)};var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.convertPosixPathToPattern=X.convertWindowsPathToPattern=X.convertPathToPattern=X.escapePosixPath=X.escapeWindowsPath=X.escape=X.removeLeadingDotSegment=X.makeAbsolute=X.unixify=void 0;const J="win32"===P.platform(),ee=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\()|\\(?![!()*+?@[\]{|}]))/g,et=/(\\?)([(){}]|^!|[!+@](?=\())/g,er=/^\\\\([.?])/,ei=/\\(?![!()+@{}])/g;function en(e){return e.replace(et,"\\$2")}function ea(e){return e.replace(ee,"\\$2")}function eo(e){return en(e).replace(er,"//$1").replace(ei,"/")}function es(e){return ea(e)}X.unixify=function(e){return e.replace(/\\/g,"/")},X.makeAbsolute=function(e,t){return T.resolve(e,t)},X.removeLeadingDotSegment=function(e){if("."===e.charAt(0)){let t=e.charAt(1);if("/"===t||"\\"===t)return e.slice(2)}return e},X.escape=J?en:ea,X.escapeWindowsPath=en,X.escapePosixPath=ea,X.convertPathToPattern=J?eo:es,X.convertWindowsPathToPattern=eo,X.convertPosixPathToPattern=es;var el={},eu=function(e){var t;if("string"!=typeof e||""===e)return!1;for(;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1},ec={"{":"}","(":")","[":"]"},ef=function(e){if("!"===e[0])return!0;for(var t=0,r=-2,i=-2,n=-2,a=-2,o=-2;t<e.length;){if("*"===e[t]||"?"===e[t+1]&&/[\].+)]/.test(e[t])||-1!==i&&"["===e[t]&&"]"!==e[t+1]&&(i<t&&(i=e.indexOf("]",t)),i>t&&(-1===o||o>i||-1===(o=e.indexOf("\\",t))||o>i))||-1!==n&&"{"===e[t]&&"}"!==e[t+1]&&(n=e.indexOf("}",t))>t&&(-1===(o=e.indexOf("\\",t))||o>n)||-1!==a&&"("===e[t]&&"?"===e[t+1]&&/[:!=]/.test(e[t+2])&&")"!==e[t+3]&&(a=e.indexOf(")",t))>t&&(-1===(o=e.indexOf("\\",t))||o>a)||-1!==r&&"("===e[t]&&"|"!==e[t+1]&&(r<t&&(r=e.indexOf("|",t)),-1!==r&&")"!==e[r+1]&&(a=e.indexOf(")",r))>r&&(-1===(o=e.indexOf("\\",r))||o>a)))return!0;if("\\"===e[t]){var s=e[t+1];t+=2;var l=ec[s];if(l){var u=e.indexOf(l,t);-1!==u&&(t=u+1)}if("!"===e[t])return!0}else t++}return!1},eh=function(e){if("!"===e[0])return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if("\\"===e[t]){var r=e[t+1];t+=2;var i=ec[r];if(i){var n=e.indexOf(i,t);-1!==n&&(t=n+1)}if("!"===e[t])return!0}else t++}return!1},ed=function(e,t){if("string"!=typeof e||""===e)return!1;if(eu(e))return!0;var r=ef;return t&&!1===t.strict&&(r=eh),r(e)},ep=T.posix.dirname,eg="win32"===P.platform(),em=/\\/g,ew=/[\{\[].*[\}\]]$/,e_=/(^|[^\\])([\{\[]|\([^\)]+$)/,ey=/\\([\!\*\?\|\[\]\(\)\{\}])/g,eb={};eb.isInteger=e=>"number"==typeof e?Number.isInteger(e):"string"==typeof e&&""!==e.trim()&&Number.isInteger(Number(e)),eb.find=(e,t)=>e.nodes.find(e=>e.type===t),eb.exceedsLimit=(e,t,r=1,i)=>!!(!1!==i&&eb.isInteger(e)&&eb.isInteger(t))&&(Number(t)-Number(e))/Number(r)>=i,eb.escapeNode=(e,t=0,r)=>{let i=e.nodes[t];i&&(r&&i.type===r||"open"===i.type||"close"===i.type)&&!0!==i.escaped&&(i.value="\\"+i.value,i.escaped=!0)},eb.encloseBrace=e=>"brace"===e.type&&e.commas>>0+e.ranges>>0==0&&(e.invalid=!0,!0),eb.isInvalidBrace=e=>"brace"===e.type&&(!0===e.invalid||!!e.dollar||(e.commas>>0+e.ranges>>0==0||!0!==e.open||!0!==e.close)&&(e.invalid=!0,!0)),eb.isOpenOrClose=e=>"open"===e.type||"close"===e.type||!0===e.open||!0===e.close,eb.reduce=e=>e.reduce((e,t)=>("text"===t.type&&e.push(t.value),"range"===t.type&&(t.type="text"),e),[]),eb.flatten=(...e)=>{let t=[],r=e=>{for(let i=0;i<e.length;i++){let n=e[i];Array.isArray(n)?r(n):void 0!==n&&t.push(n)}return t};return r(e),t};var ev=(e,t={})=>{let r=(e,i={})=>{let n=t.escapeInvalid&&eb.isInvalidBrace(i),a=!0===e.invalid&&!0===t.escapeInvalid,o="";if(e.value)return(n||a)&&eb.isOpenOrClose(e)?"\\"+e.value:e.value;if(e.value)return e.value;if(e.nodes)for(let t of e.nodes)o+=r(t);return o};return r(e)};/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const eE=function(e){return"number"==typeof e?e-e==0:"string"==typeof e&&""!==e.trim()&&(Number.isFinite?Number.isFinite(+e):isFinite(+e))},eS=(e,t,r)=>{var i,n;let a,o,s;if(!1===eE(e))throw TypeError("toRegexRange: expected the first argument to be a number");if(void 0===t||e===t)return String(e);if(!1===eE(t))throw TypeError("toRegexRange: expected the second argument to be a number.");let l={relaxZeros:!0,...r};"boolean"==typeof l.strictZeros&&(l.relaxZeros=!1===l.strictZeros);let u=e+":"+t+"="+String(l.relaxZeros)+String(l.shorthand)+String(l.capture)+String(l.wrap);if(eS.cache.hasOwnProperty(u))return eS.cache[u].result;let c=Math.min(e,t),f=Math.max(e,t);if(1===Math.abs(c-f)){let r=e+"|"+t;return l.capture?`(${r})`:!1===l.wrap?r:`(?:${r})`}let h=eP(e)||eP(t),d={min:e,max:t,a:c,b:f},p=[],g=[];return h&&(d.isPadded=h,d.maxLen=String(d.max).length),c<0&&(g=ex(f<0?Math.abs(f):1,Math.abs(c),d,l),c=d.a=0),f>=0&&(p=ex(c,f,d,l)),d.negatives=g,d.positives=p,d.result=(a=ek(i=g,n=p,"-",!1)||[],o=ek(n,i,"",!1)||[],s=ek(i,n,"-?",!0)||[],a.concat(s).concat(o).join("|")),!0===l.capture?d.result=`(${d.result})`:!1!==l.wrap&&p.length+g.length>1&&(d.result=`(?:${d.result})`),eS.cache[u]=d,d.result};function ex(e,t,r,i){let n,a=function(e,t){let r=1,i=1,n=eO(e,1),a=new Set([t]);for(;e<=n&&n<=t;)a.add(n),r+=1,n=eO(e,r);for(n=e$(t+1,i)-1;e<n&&n<=t;)a.add(n),i+=1,n=e$(t+1,i)-1;return(a=[...a]).sort(eA),a}(e,t),o=[],s=e;for(let e=0;e<a.length;e++){let t=a[e],l=function(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let i=function(e,t){let r=[];for(let i=0;i<e.length;i++)r.push([e[i],t[i]]);return r}(e,t),n=i.length,a="",o=0;for(let e=0;e<n;e++){let[t,r]=i[e];t===r?a+=t:"0"!==t||"9"!==r?a+=`[${t}${r-t==1?"":"-"}${r}]`:o++}return o&&(a+=!0===r.shorthand?"\\d":"[0-9]"),{pattern:a,count:[o],digits:n}}(String(s),String(t),i),u="";if(!r.isPadded&&n&&n.pattern===l.pattern){n.count.length>1&&n.count.pop(),n.count.push(l.count[0]),n.string=n.pattern+eC(n.count),s=t+1;continue}r.isPadded&&(u=function(e,t,r){if(!t.isPadded)return e;let i=Math.abs(t.maxLen-String(e).length),n=!1!==r.relaxZeros;switch(i){case 0:return"";case 1:return n?"0?":"0";case 2:return n?"0{0,2}":"00";default:return n?`0{0,${i}}`:`0{${i}}`}}(t,r,i)),l.string=u+l.pattern+eC(l.count),o.push(l),s=t+1,n=l}return o}function ek(e,t,r,i,n){let a=[];for(let n of e){let{string:e}=n;i||eR(t,"string",e)||a.push(r+e),i&&eR(t,"string",e)&&a.push(r+e)}return a}function eA(e,t){return e>t?1:t>e?-1:0}function eR(e,t,r){return e.some(e=>e[t]===r)}function eO(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function e$(e,t){return e-e%Math.pow(10,t)}function eC(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function eP(e){return/^-?(0+)\d/.test(e)}eS.cache={},eS.clearCache=()=>eS.cache={};const eT=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),eM=e=>t=>!0===e?Number(t):String(t),eI=e=>"number"==typeof e||"string"==typeof e&&""!==e,eB=e=>Number.isInteger(+e),eL=e=>{let t=`${e}`,r=-1;if("-"===t[0]&&(t=t.slice(1)),"0"===t)return!1;for(;"0"===t[++r];);return r>0},ej=(e,t,r)=>"string"==typeof e||"string"==typeof t||!0===r.stringify,eD=(e,t,r)=>{if(t>0){let r="-"===e[0]?"-":"";r&&(e=e.slice(1)),e=r+e.padStart(r?t-1:t,"0")}return!1===r?String(e):e},eN=(e,t)=>{let r="-"===e[0]?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},eH=(e,t)=>{let r;e.negatives.sort((e,t)=>e<t?-1:e>t?1:0),e.positives.sort((e,t)=>e<t?-1:e>t?1:0);let i=t.capture?"":"?:",n="",a="";return(e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(a=`-(${i}${e.negatives.join("|")})`),r=n&&a?`${n}|${a}`:n||a,t.wrap)?`(${i}${r})`:r},eF=(e,t,r,i)=>{if(r)return eS(e,t,{wrap:!1,...i});let n=String.fromCharCode(e);if(e===t)return n;let a=String.fromCharCode(t);return`[${n}-${a}]`},eU=(e,t,r)=>{if(Array.isArray(e)){let t=!0===r.wrap,i=r.capture?"":"?:";return t?`(${i}${e.join("|")})`:e.join("|")}return eS(e,t,r)},ez=(...e)=>RangeError("Invalid range arguments: "+M.inspect(...e)),eG=(e,t,r)=>{if(!0===r.strictRanges)throw ez([e,t]);return[]},eW=(e,t)=>{if(!0===t.strictRanges)throw TypeError(`Expected step "${e}" to be a number`);return[]},eq=(e,t,r=1,i={})=>{let n=Number(e),a=Number(t);if(!Number.isInteger(n)||!Number.isInteger(a)){if(!0===i.strictRanges)throw ez([e,t]);return[]}0===n&&(n=0),0===a&&(a=0);let o=n>a,s=String(e),l=String(t),u=String(r);r=Math.max(Math.abs(r),1);let c=eL(s)||eL(l)||eL(u),f=c?Math.max(s.length,l.length,u.length):0,h=!1===c&&!1===ej(e,t,i),d=i.transform||eM(h);if(i.toRegex&&1===r)return eF(eN(e,f),eN(t,f),!0,i);let p={negatives:[],positives:[]},g=e=>p[e<0?"negatives":"positives"].push(Math.abs(e)),m=[],w=0;for(;o?n>=a:n<=a;)!0===i.toRegex&&r>1?g(n):m.push(eD(d(n,w),f,h)),n=o?n-r:n+r,w++;return!0===i.toRegex?r>1?eH(p,i):eU(m,null,{wrap:!1,...i}):m},eV=(e,t,r=1,i={})=>{if(!eB(e)&&e.length>1||!eB(t)&&t.length>1)return eG(e,t,i);let n=i.transform||(e=>String.fromCharCode(e)),a=`${e}`.charCodeAt(0),o=`${t}`.charCodeAt(0),s=a>o,l=Math.min(a,o),u=Math.max(a,o);if(i.toRegex&&1===r)return eF(l,u,!1,i);let c=[],f=0;for(;s?a>=o:a<=o;)c.push(n(a,f)),a=s?a-r:a+r,f++;return!0===i.toRegex?eU(c,null,{wrap:!1,options:i}):c},eZ=(e,t,r,i={})=>{if(null==t&&eI(e))return[e];if(!eI(e)||!eI(t))return eG(e,t,i);if("function"==typeof r)return eZ(e,t,1,{transform:r});if(eT(r))return eZ(e,t,0,r);let n={...i};return(!0===n.capture&&(n.wrap=!0),eB(r=r||n.step||1))?eB(e)&&eB(t)?eq(e,t,r,n):eV(e,t,Math.max(Math.abs(r),1),n):null==r||eT(r)?eZ(e,t,1,r):eW(r,n)},eK=(e="",t="",r=!1)=>{let i=[];if(e=[].concat(e),!(t=[].concat(t)).length)return e;if(!e.length)return r?eb.flatten(t).map(e=>`{${e}}`):t;for(let n of e)if(Array.isArray(n))for(let e of n)i.push(eK(e,t,r));else for(let e of t)!0===r&&"string"==typeof e&&(e=`{${e}}`),i.push(Array.isArray(e)?eK(n,e,r):n+e);return eb.flatten(i)},{MAX_LENGTH:eQ,CHAR_BACKSLASH:eY,CHAR_BACKTICK:eX,CHAR_COMMA:eJ,CHAR_DOT:e0,CHAR_LEFT_PARENTHESES:e1,CHAR_RIGHT_PARENTHESES:e2,CHAR_LEFT_CURLY_BRACE:e5,CHAR_RIGHT_CURLY_BRACE:e3,CHAR_LEFT_SQUARE_BRACKET:e6,CHAR_RIGHT_SQUARE_BRACKET:e8,CHAR_DOUBLE_QUOTE:e4,CHAR_SINGLE_QUOTE:e9,CHAR_NO_BREAK_SPACE:e7,CHAR_ZERO_WIDTH_NOBREAK_SPACE:te}={MAX_LENGTH:65536,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:"\n",CHAR_NO_BREAK_SPACE:"\xa0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"},tt=(e,t={})=>{let r=(e,i={})=>{let n=eb.isInvalidBrace(i),a=!0===e.invalid&&!0===t.escapeInvalid,o=!0===n||!0===a,s=!0===t.escapeInvalid?"\\":"",l="";if(!0===e.isOpen||!0===e.isClose)return s+e.value;if("open"===e.type)return o?s+e.value:"(";if("close"===e.type)return o?s+e.value:")";if("comma"===e.type)return"comma"===e.prev.type?"":o?e.value:"|";if(e.value)return e.value;if(e.nodes&&e.ranges>0){let r=eb.reduce(e.nodes),i=eZ(...r,{...t,wrap:!1,toRegex:!0});if(0!==i.length)return r.length>1&&i.length>1?`(${i})`:i}if(e.nodes)for(let t of e.nodes)l+=r(t,e);return l};return r(e)},tr=(e,t={})=>{let r=void 0===t.rangeLimit?1e3:t.rangeLimit,i=(e,n={})=>{e.queue=[];let a=n,o=n.queue;for(;"brace"!==a.type&&"root"!==a.type&&a.parent;)o=(a=a.parent).queue;if(e.invalid||e.dollar){o.push(eK(o.pop(),ev(e,t)));return}if("brace"===e.type&&!0!==e.invalid&&2===e.nodes.length){o.push(eK(o.pop(),["{}"]));return}if(e.nodes&&e.ranges>0){let i=eb.reduce(e.nodes);if(eb.exceedsLimit(...i,t.step,r))throw RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let n=eZ(...i,t);0===n.length&&(n=ev(e,t)),o.push(eK(o.pop(),n)),e.nodes=[];return}let s=eb.encloseBrace(e),l=e.queue,u=e;for(;"brace"!==u.type&&"root"!==u.type&&u.parent;)l=(u=u.parent).queue;for(let t=0;t<e.nodes.length;t++){let r=e.nodes[t];if("comma"===r.type&&"brace"===e.type){1===t&&l.push(""),l.push("");continue}if("close"===r.type){o.push(eK(o.pop(),l,s));continue}if(r.value&&"open"!==r.type){l.push(eK(l.pop(),r.value));continue}r.nodes&&i(r,e)}return l};return eb.flatten(i(e))},ti=(e,t={})=>{let r;if("string"!=typeof e)throw TypeError("Expected a string");let i=t||{},n="number"==typeof i.maxLength?Math.min(eQ,i.maxLength):eQ;if(e.length>n)throw SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let a={type:"root",input:e,nodes:[]},o=[a],s=a,l=a,u=0,c=e.length,f=0,h=0,d=()=>e[f++],p=e=>{if("text"===e.type&&"dot"===l.type&&(l.type="text"),l&&"text"===l.type&&"text"===e.type){l.value+=e.value;return}return s.nodes.push(e),e.parent=s,e.prev=l,l=e,e};for(p({type:"bos"});f<c;)if(s=o[o.length-1],(r=d())!==te&&r!==e7){if(r===eY){p({type:"text",value:(t.keepEscaping?r:"")+d()});continue}if(r===e8){p({type:"text",value:"\\"+r});continue}if(r===e6){let e;for(u++;f<c&&(e=d());){if(r+=e,e===e6){u++;continue}if(e===eY){r+=d();continue}if(e===e8&&0==--u)break}p({type:"text",value:r});continue}if(r===e1){s=p({type:"paren",nodes:[]}),o.push(s),p({type:"text",value:r});continue}if(r===e2){if("paren"!==s.type){p({type:"text",value:r});continue}s=o.pop(),p({type:"text",value:r}),s=o[o.length-1];continue}if(r===e4||r===e9||r===eX){let e,i=r;for(!0!==t.keepQuotes&&(r="");f<c&&(e=d());){if(e===eY){r+=e+d();continue}if(e===i){!0===t.keepQuotes&&(r+=e);break}r+=e}p({type:"text",value:r});continue}if(r===e5){h++,s=p({type:"brace",open:!0,close:!1,dollar:l.value&&"$"===l.value.slice(-1)||!0===s.dollar,depth:h,commas:0,ranges:0,nodes:[]}),o.push(s),p({type:"open",value:r});continue}if(r===e3){if("brace"!==s.type){p({type:"text",value:r});continue}(s=o.pop()).close=!0,p({type:"close",value:r}),h--,s=o[o.length-1];continue}if(r===eJ&&h>0){if(s.ranges>0){s.ranges=0;let e=s.nodes.shift();s.nodes=[e,{type:"text",value:ev(s)}]}p({type:"comma",value:r}),s.commas++;continue}if(r===e0&&h>0&&0===s.commas){let e=s.nodes;if(0===h||0===e.length){p({type:"text",value:r});continue}if("dot"===l.type){if(s.range=[],l.value+=r,l.type="range",3!==s.nodes.length&&5!==s.nodes.length){s.invalid=!0,s.ranges=0,l.type="text";continue}s.ranges++,s.args=[];continue}if("range"===l.type){e.pop();let t=e[e.length-1];t.value+=l.value+r,l=t,s.ranges--;continue}p({type:"dot",value:r});continue}p({type:"text",value:r})}do if("root"!==(s=o.pop()).type){s.nodes.forEach(e=>{e.nodes||("open"===e.type&&(e.isOpen=!0),"close"===e.type&&(e.isClose=!0),e.nodes||(e.type="text"),e.invalid=!0)});let e=o[o.length-1],t=e.nodes.indexOf(s);e.nodes.splice(t,1,...s.nodes)}while(o.length>0)return p({type:"eos"}),a},tn=(e,t={})=>{let r=[];if(Array.isArray(e))for(let i of e){let e=tn.create(i,t);Array.isArray(e)?r.push(...e):r.push(e)}else r=[].concat(tn.create(e,t));return t&&!0===t.expand&&!0===t.nodupes&&(r=[...new Set(r)]),r};tn.parse=(e,t={})=>ti(e,t),tn.stringify=(e,t={})=>"string"==typeof e?ev(tn.parse(e,t),t):ev(e,t),tn.compile=(e,t={})=>("string"==typeof e&&(e=tn.parse(e,t)),tt(e,t)),tn.expand=(e,t={})=>{"string"==typeof e&&(e=tn.parse(e,t));let r=tr(e,t);return!0===t.noempty&&(r=r.filter(Boolean)),!0===t.nodupes&&(r=[...new Set(r)]),r},tn.create=(e,t={})=>""===e||e.length<3?[e]:!0!==t.expand?tn.compile(e,t):tn.expand(e,t);var ta={};const to="[^\\\\/]",ts="[^/]",tl="(?:\\/|$)",tu="(?:^|\\/)",tc=`\\.{1,2}${tl}`,tf=`(?!${tu}${tc})`,th=`(?!\\.{0,1}${tl})`,td=`(?!${tc})`,tp=`${ts}*?`,tg={DOT_LITERAL:"\\.",PLUS_LITERAL:"\\+",QMARK_LITERAL:"\\?",SLASH_LITERAL:"\\/",ONE_CHAR:"(?=.)",QMARK:ts,END_ANCHOR:tl,DOTS_SLASH:tc,NO_DOT:"(?!\\.)",NO_DOTS:tf,NO_DOT_SLASH:th,NO_DOTS_SLASH:td,QMARK_NO_DOT:"[^.\\/]",STAR:tp,START_ANCHOR:tu},tm={...tg,SLASH_LITERAL:"[\\\\/]",QMARK:to,STAR:`${to}*?`,DOTS_SLASH:"\\.{1,2}(?:[\\\\/]|$)",NO_DOT:"(?!\\.)",NO_DOTS:"(?!(?:^|[\\\\/])\\.{1,2}(?:[\\\\/]|$))",NO_DOT_SLASH:"(?!\\.{0,1}(?:[\\\\/]|$))",NO_DOTS_SLASH:"(?!\\.{1,2}(?:[\\\\/]|$))",QMARK_NO_DOT:"[^.\\\\/]",START_ANCHOR:"(?:^|[\\\\/])",END_ANCHOR:"(?:[\\\\/]|$)"};var tw={MAX_LENGTH:65536,POSIX_REGEX_SOURCE:{alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"},REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:T.sep,extglobChars:e=>({"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}),globChars:e=>!0===e?tm:tg};!function(e){let t="win32"===process.platform,{REGEX_BACKSLASH:r,REGEX_REMOVE_BACKSLASH:i,REGEX_SPECIAL_CHARS:n,REGEX_SPECIAL_CHARS_GLOBAL:a}=tw;e.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),e.hasRegexChars=e=>n.test(e),e.isRegexChar=t=>1===t.length&&e.hasRegexChars(t),e.escapeRegex=e=>e.replace(a,"\\$1"),e.toPosixSlashes=e=>e.replace(r,"/"),e.removeBackslashes=e=>e.replace(i,e=>"\\"===e?"":e),e.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return 3===e.length&&e[0]>=9||8===e[0]&&e[1]>=10},e.isWindows=e=>e&&"boolean"==typeof e.windows?e.windows:!0===t||"\\"===T.sep,e.escapeLast=(t,r,i)=>{let n=t.lastIndexOf(r,i);return -1===n?t:"\\"===t[n-1]?e.escapeLast(t,r,n-1):`${t.slice(0,n)}\\${t.slice(n)}`},e.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r},e.wrapOutput=(e,t={},r={})=>{let i=r.contains?"":"^",n=r.contains?"":"$",a=`${i}(?:${e})${n}`;return!0===t.negated&&(a=`(?:^(?!${a}).*$)`),a}}(ta);const{CHAR_ASTERISK:t_,CHAR_AT:ty,CHAR_BACKWARD_SLASH:tb,CHAR_COMMA:tv,CHAR_DOT:tE,CHAR_EXCLAMATION_MARK:tS,CHAR_FORWARD_SLASH:tx,CHAR_LEFT_CURLY_BRACE:tk,CHAR_LEFT_PARENTHESES:tA,CHAR_LEFT_SQUARE_BRACKET:tR,CHAR_PLUS:tO,CHAR_QUESTION_MARK:t$,CHAR_RIGHT_CURLY_BRACE:tC,CHAR_RIGHT_PARENTHESES:tP,CHAR_RIGHT_SQUARE_BRACKET:tT}=tw,tM=e=>e===tx||e===tb,tI=e=>{!0!==e.isPrefix&&(e.depth=e.isGlobstar?1/0:1)},{MAX_LENGTH:tB,POSIX_REGEX_SOURCE:tL,REGEX_NON_SPECIAL_CHARS:tj,REGEX_SPECIAL_CHARS_BACKREF:tD,REPLACEMENTS:tN}=tw,tH=(e,t)=>{if("function"==typeof t.expandRange)return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch(t){return e.map(e=>ta.escapeRegex(e)).join("..")}return r},tF=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,tU=(e,t)=>{let r;if("string"!=typeof e)throw TypeError("Expected a string");e=tN[e]||e;let i={...t},n="number"==typeof i.maxLength?Math.min(tB,i.maxLength):tB,a=e.length;if(a>n)throw SyntaxError(`Input length: ${a}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:i.prepend||""},s=[o],l=i.capture?"":"?:",u=ta.isWindows(t),c=tw.globChars(u),f=tw.extglobChars(c),{DOT_LITERAL:h,PLUS_LITERAL:d,SLASH_LITERAL:p,ONE_CHAR:g,DOTS_SLASH:m,NO_DOT:w,NO_DOT_SLASH:_,NO_DOTS_SLASH:y,QMARK:b,QMARK_NO_DOT:v,STAR:E,START_ANCHOR:S}=c,x=e=>`(${l}(?:(?!${S}${e.dot?m:h}).)*?)`,k=i.dot?"":w,A=i.dot?b:v,R=!0===i.bash?x(i):E;i.capture&&(R=`(${R})`),"boolean"==typeof i.noext&&(i.noextglob=i.noext);let O={input:e,index:-1,start:0,dot:!0===i.dot,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};a=(e=ta.removePrefix(e,O)).length;let $=[],C=[],P=[],T=o,M=()=>O.index===a-1,I=O.peek=(t=1)=>e[O.index+t],B=O.advance=()=>e[++O.index]||"",L=()=>e.slice(O.index+1),j=(e="",t=0)=>{O.consumed+=e,O.index+=t},D=e=>{O.output+=null!=e.output?e.output:e.value,j(e.value)},N=()=>{let e=1;for(;"!"===I()&&("("!==I(2)||"?"===I(3));)B(),O.start++,e++;return e%2!=0&&(O.negated=!0,O.start++,!0)},H=e=>{O[e]++,P.push(e)},F=e=>{O[e]--,P.pop()},U=e=>{if("globstar"===T.type){let t=O.braces>0&&("comma"===e.type||"brace"===e.type),r=!0===e.extglob||$.length&&("pipe"===e.type||"paren"===e.type);"slash"===e.type||"paren"===e.type||t||r||(O.output=O.output.slice(0,-T.output.length),T.type="star",T.value="*",T.output=R,O.output+=T.output)}if($.length&&"paren"!==e.type&&($[$.length-1].inner+=e.value),(e.value||e.output)&&D(e),T&&"text"===T.type&&"text"===e.type){T.value+=e.value,T.output=(T.output||"")+e.value;return}e.prev=T,s.push(e),T=e},z=(e,t)=>{let r={...f[t],conditions:1,inner:""};r.prev=T,r.parens=O.parens,r.output=O.output;let n=(i.capture?"(":"")+r.open;H("parens"),U({type:e,value:t,output:O.output?"":g}),U({type:"paren",extglob:!0,value:B(),output:n}),$.push(r)},G=e=>{let n,a=e.close+(i.capture?")":"");if("negate"===e.type){let r=R;if(e.inner&&e.inner.length>1&&e.inner.includes("/")&&(r=x(i)),(r!==R||M()||/^\)+$/.test(L()))&&(a=e.close=`)$))${r}`),e.inner.includes("*")&&(n=L())&&/^\.[^\\/.]+$/.test(n)){let i=tU(n,{...t,fastpaths:!1}).output;a=e.close=`)${i})${r})`}"bos"===e.prev.type&&(O.negatedExtglob=!0)}U({type:"paren",extglob:!0,value:r,output:a}),F("parens")};if(!1!==i.fastpaths&&!/(^[*!]|[/()[\]{}"])/.test(e)){let r=!1,n=e.replace(tD,(e,t,i,n,a,o)=>"\\"===n?(r=!0,e):"?"===n?t?t+n+(a?b.repeat(a.length):""):0===o?A+(a?b.repeat(a.length):""):b.repeat(i.length):"."===n?h.repeat(i.length):"*"===n?t?t+n+(a?R:""):R:t?e:`\\${e}`);return(!0===r&&(n=!0===i.unescape?n.replace(/\\/g,""):n.replace(/\\+/g,e=>e.length%2==0?"\\\\":e?"\\":"")),n===e&&!0===i.contains)?O.output=e:O.output=ta.wrapOutput(n,O,t),O}for(;!M();){if("\x00"===(r=B()))continue;if("\\"===r){let e=I();if("/"===e&&!0!==i.bash||"."===e||";"===e)continue;if(!e){U({type:"text",value:r+="\\"});continue}let t=/^\\+/.exec(L()),n=0;if(t&&t[0].length>2&&(n=t[0].length,O.index+=n,n%2!=0&&(r+="\\")),!0===i.unescape?r=B():r+=B(),0===O.brackets){U({type:"text",value:r});continue}}if(O.brackets>0&&("]"!==r||"["===T.value||"[^"===T.value)){if(!1!==i.posix&&":"===r){let e=T.value.slice(1);if(e.includes("[")&&(T.posix=!0,e.includes(":"))){let e=T.value.lastIndexOf("["),t=T.value.slice(0,e),r=T.value.slice(e+2),i=tL[r];if(i){T.value=t+i,O.backtrack=!0,B(),o.output||1!==s.indexOf(T)||(o.output=g);continue}}}("["===r&&":"!==I()||"-"===r&&"]"===I())&&(r=`\\${r}`),"]"===r&&("["===T.value||"[^"===T.value)&&(r=`\\${r}`),!0===i.posix&&"!"===r&&"["===T.value&&(r="^"),T.value+=r,D({value:r});continue}if(1===O.quotes&&'"'!==r){r=ta.escapeRegex(r),T.value+=r,D({value:r});continue}if('"'===r){O.quotes=1===O.quotes?0:1,!0===i.keepQuotes&&U({type:"text",value:r});continue}if("("===r){H("parens"),U({type:"paren",value:r});continue}if(")"===r){if(0===O.parens&&!0===i.strictBrackets)throw SyntaxError(tF("opening","("));let e=$[$.length-1];if(e&&O.parens===e.parens+1){G($.pop());continue}U({type:"paren",value:r,output:O.parens?")":"\\)"}),F("parens");continue}if("["===r){if(!0!==i.nobracket&&L().includes("]"))H("brackets");else{if(!0!==i.nobracket&&!0===i.strictBrackets)throw SyntaxError(tF("closing","]"));r=`\\${r}`}U({type:"bracket",value:r});continue}if("]"===r){if(!0===i.nobracket||T&&"bracket"===T.type&&1===T.value.length){U({type:"text",value:r,output:`\\${r}`});continue}if(0===O.brackets){if(!0===i.strictBrackets)throw SyntaxError(tF("opening","["));U({type:"text",value:r,output:`\\${r}`});continue}F("brackets");let e=T.value.slice(1);if(!0===T.posix||"^"!==e[0]||e.includes("/")||(r=`/${r}`),T.value+=r,D({value:r}),!1===i.literalBrackets||ta.hasRegexChars(e))continue;let t=ta.escapeRegex(T.value);if(O.output=O.output.slice(0,-T.value.length),!0===i.literalBrackets){O.output+=t,T.value=t;continue}T.value=`(${l}${t}|${T.value})`,O.output+=T.value;continue}if("{"===r&&!0!==i.nobrace){H("braces");let e={type:"brace",value:r,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};C.push(e),U(e);continue}if("}"===r){let e=C[C.length-1];if(!0===i.nobrace||!e){U({type:"text",value:r,output:r});continue}let t=")";if(!0===e.dots){let e=s.slice(),r=[];for(let t=e.length-1;t>=0&&(s.pop(),"brace"!==e[t].type);t--)"dots"!==e[t].type&&r.unshift(e[t].value);t=tH(r,i),O.backtrack=!0}if(!0!==e.comma&&!0!==e.dots){let i=O.output.slice(0,e.outputIndex),n=O.tokens.slice(e.tokensIndex);for(let a of(e.value=e.output="\\{",r=t="\\}",O.output=i,n))O.output+=a.output||a.value}U({type:"brace",value:r,output:t}),F("braces"),C.pop();continue}if("|"===r){$.length>0&&$[$.length-1].conditions++,U({type:"text",value:r});continue}if(","===r){let e=r,t=C[C.length-1];t&&"braces"===P[P.length-1]&&(t.comma=!0,e="|"),U({type:"comma",value:r,output:e});continue}if("/"===r){if("dot"===T.type&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",s.pop(),T=o;continue}U({type:"slash",value:r,output:p});continue}if("."===r){if(O.braces>0&&"dot"===T.type){"."===T.value&&(T.output=h);let e=C[C.length-1];T.type="dots",T.output+=r,T.value+=r,e.dots=!0;continue}if(O.braces+O.parens===0&&"bos"!==T.type&&"slash"!==T.type){U({type:"text",value:r,output:h});continue}U({type:"dot",value:r,output:h});continue}if("?"===r){let e=T&&"("===T.value;if(!e&&!0!==i.noextglob&&"("===I()&&"?"!==I(2)){z("qmark",r);continue}if(T&&"paren"===T.type){let e=I(),t=r;if("<"===e&&!ta.supportsLookbehinds())throw Error("Node.js v10 or higher is required for regex lookbehinds");("("!==T.value||/[!=<:]/.test(e))&&("<"!==e||/<([!=]|\w+>)/.test(L()))||(t=`\\${r}`),U({type:"text",value:r,output:t});continue}if(!0!==i.dot&&("slash"===T.type||"bos"===T.type)){U({type:"qmark",value:r,output:v});continue}U({type:"qmark",value:r,output:b});continue}if("!"===r){if(!0!==i.noextglob&&"("===I()&&("?"!==I(2)||!/[!=<:]/.test(I(3)))){z("negate",r);continue}if(!0!==i.nonegate&&0===O.index){N();continue}}if("+"===r){if(!0!==i.noextglob&&"("===I()&&"?"!==I(2)){z("plus",r);continue}if(T&&"("===T.value||!1===i.regex){U({type:"plus",value:r,output:d});continue}if(T&&("bracket"===T.type||"paren"===T.type||"brace"===T.type)||O.parens>0){U({type:"plus",value:r});continue}U({type:"plus",value:d});continue}if("@"===r){if(!0!==i.noextglob&&"("===I()&&"?"!==I(2)){U({type:"at",extglob:!0,value:r,output:""});continue}U({type:"text",value:r});continue}if("*"!==r){("$"===r||"^"===r)&&(r=`\\${r}`);let e=tj.exec(L());e&&(r+=e[0],O.index+=e[0].length),U({type:"text",value:r});continue}if(T&&("globstar"===T.type||!0===T.star)){T.type="star",T.star=!0,T.value+=r,T.output=R,O.backtrack=!0,O.globstar=!0,j(r);continue}let t=L();if(!0!==i.noextglob&&/^\([^?]/.test(t)){z("star",r);continue}if("star"===T.type){if(!0===i.noglobstar){j(r);continue}let n=T.prev,a=n.prev,o="slash"===n.type||"bos"===n.type,s=a&&("star"===a.type||"globstar"===a.type);if(!0===i.bash&&(!o||t[0]&&"/"!==t[0])){U({type:"star",value:r,output:""});continue}let l=O.braces>0&&("comma"===n.type||"brace"===n.type),u=$.length&&("pipe"===n.type||"paren"===n.type);if(!o&&"paren"!==n.type&&!l&&!u){U({type:"star",value:r,output:""});continue}for(;"/**"===t.slice(0,3);){let r=e[O.index+4];if(r&&"/"!==r)break;t=t.slice(3),j("/**",3)}if("bos"===n.type&&M()){T.type="globstar",T.value+=r,T.output=x(i),O.output=T.output,O.globstar=!0,j(r);continue}if("slash"===n.type&&"bos"!==n.prev.type&&!s&&M()){O.output=O.output.slice(0,-(n.output+T.output).length),n.output=`(?:${n.output}`,T.type="globstar",T.output=x(i)+(i.strictSlashes?")":"|$)"),T.value+=r,O.globstar=!0,O.output+=n.output+T.output,j(r);continue}if("slash"===n.type&&"bos"!==n.prev.type&&"/"===t[0]){let e=void 0!==t[1]?"|$":"";O.output=O.output.slice(0,-(n.output+T.output).length),n.output=`(?:${n.output}`,T.type="globstar",T.output=`${x(i)}${p}|${p}${e})`,T.value+=r,O.output+=n.output+T.output,O.globstar=!0,j(r+B()),U({type:"slash",value:"/",output:""});continue}if("bos"===n.type&&"/"===t[0]){T.type="globstar",T.value+=r,T.output=`(?:^|${p}|${x(i)}${p})`,O.output=T.output,O.globstar=!0,j(r+B()),U({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-T.output.length),T.type="globstar",T.output=x(i),T.value+=r,O.output+=T.output,O.globstar=!0,j(r);continue}let n={type:"star",value:r,output:R};if(!0===i.bash){n.output=".*?",("bos"===T.type||"slash"===T.type)&&(n.output=k+n.output),U(n);continue}if(T&&("bracket"===T.type||"paren"===T.type)&&!0===i.regex){n.output=r,U(n);continue}(O.index===O.start||"slash"===T.type||"dot"===T.type)&&("dot"===T.type?(O.output+=_,T.output+=_):!0===i.dot?(O.output+=y,T.output+=y):(O.output+=k,T.output+=k),"*"!==I()&&(O.output+=g,T.output+=g)),U(n)}for(;O.brackets>0;){if(!0===i.strictBrackets)throw SyntaxError(tF("closing","]"));O.output=ta.escapeLast(O.output,"["),F("brackets")}for(;O.parens>0;){if(!0===i.strictBrackets)throw SyntaxError(tF("closing",")"));O.output=ta.escapeLast(O.output,"("),F("parens")}for(;O.braces>0;){if(!0===i.strictBrackets)throw SyntaxError(tF("closing","}"));O.output=ta.escapeLast(O.output,"{"),F("braces")}if(!0!==i.strictSlashes&&("star"===T.type||"bracket"===T.type)&&U({type:"maybe_slash",value:"",output:`${p}?`}),!0===O.backtrack)for(let e of(O.output="",O.tokens))O.output+=null!=e.output?e.output:e.value,e.suffix&&(O.output+=e.suffix);return O};tU.fastpaths=(e,t)=>{let r={...t},i="number"==typeof r.maxLength?Math.min(tB,r.maxLength):tB,n=e.length;if(n>i)throw SyntaxError(`Input length: ${n}, exceeds maximum allowed length: ${i}`);e=tN[e]||e;let a=ta.isWindows(t),{DOT_LITERAL:o,SLASH_LITERAL:s,ONE_CHAR:l,DOTS_SLASH:u,NO_DOT:c,NO_DOTS:f,NO_DOTS_SLASH:h,STAR:d,START_ANCHOR:p}=tw.globChars(a),g=r.dot?f:c,m=r.dot?h:c,w=r.capture?"":"?:",_=!0===r.bash?".*?":d;r.capture&&(_=`(${_})`);let y=e=>!0===e.noglobstar?_:`(${w}(?:(?!${p}${e.dot?u:o}).)*?)`,b=e=>{switch(e){case"*":return`${g}${l}${_}`;case".*":return`${o}${l}${_}`;case"*.*":return`${g}${_}${o}${l}${_}`;case"*/*":return`${g}${_}${s}${l}${m}${_}`;case"**":return g+y(r);case"**/*":return`(?:${g}${y(r)}${s})?${m}${l}${_}`;case"**/*.*":return`(?:${g}${y(r)}${s})?${m}${_}${o}${l}${_}`;case"**/.*":return`(?:${g}${y(r)}${s})?${o}${l}${_}`;default:{let t=/^(.*?)\.(\w+)$/.exec(e);if(!t)return;let r=b(t[1]);if(!r)return;return r+o+t[2]}}},v=ta.removePrefix(e,{negated:!1,prefix:""}),E=b(v);return E&&!0!==r.strictSlashes&&(E+=`${s}?`),E};const tz=(e,t)=>{let r,i;let n=t||{},a=e.length-1,o=!0===n.parts||!0===n.scanToEnd,s=[],l=[],u=[],c=e,f=-1,h=0,d=0,p=!1,g=!1,m=!1,w=!1,_=!1,y=!1,b=!1,v=!1,E=!1,S=!1,x=0,k={value:"",depth:0,isGlob:!1},A=()=>f>=a,R=()=>c.charCodeAt(f+1),O=()=>(r=i,c.charCodeAt(++f));for(;f<a;){let e;if((i=O())===tb){b=k.backslashes=!0,(i=O())===tk&&(y=!0);continue}if(!0===y||i===tk){for(x++;!0!==A()&&(i=O());){if(i===tb){b=k.backslashes=!0,O();continue}if(i===tk){x++;continue}if(!0!==y&&i===tE&&(i=O())===tE||!0!==y&&i===tv){if(p=k.isBrace=!0,m=k.isGlob=!0,S=!0,!0===o)continue;break}if(i===tC&&0==--x){y=!1,p=k.isBrace=!0,S=!0;break}}if(!0===o)continue;break}if(i===tx){if(s.push(f),l.push(k),k={value:"",depth:0,isGlob:!1},!0===S)continue;if(r===tE&&f===h+1){h+=2;continue}d=f+1;continue}if(!0!==n.noext){let e=i===tO||i===ty||i===t_||i===t$||i===tS;if(!0===e&&R()===tA){if(m=k.isGlob=!0,w=k.isExtglob=!0,S=!0,i===tS&&f===h&&(E=!0),!0===o){for(;!0!==A()&&(i=O());){if(i===tb){b=k.backslashes=!0,i=O();continue}if(i===tP){m=k.isGlob=!0,S=!0;break}}continue}break}}if(i===t_){if(r===t_&&(_=k.isGlobstar=!0),m=k.isGlob=!0,S=!0,!0===o)continue;break}if(i===t$){if(m=k.isGlob=!0,S=!0,!0===o)continue;break}if(i===tR){for(;!0!==A()&&(e=O());){if(e===tb){b=k.backslashes=!0,O();continue}if(e===tT){g=k.isBracket=!0,m=k.isGlob=!0,S=!0;break}}if(!0===o)continue;break}if(!0!==n.nonegate&&i===tS&&f===h){v=k.negated=!0,h++;continue}if(!0!==n.noparen&&i===tA){if(m=k.isGlob=!0,!0===o){for(;!0!==A()&&(i=O());){if(i===tA){b=k.backslashes=!0,i=O();continue}if(i===tP){S=!0;break}}continue}break}if(!0===m){if(S=!0,!0===o)continue;break}}!0===n.noext&&(w=!1,m=!1);let $=c,C="",P="";h>0&&(C=c.slice(0,h),c=c.slice(h),d-=h),$&&!0===m&&d>0?($=c.slice(0,d),P=c.slice(d)):!0===m?($="",P=c):$=c,$&&""!==$&&"/"!==$&&$!==c&&tM($.charCodeAt($.length-1))&&($=$.slice(0,-1)),!0===n.unescape&&(P&&(P=ta.removeBackslashes(P)),$&&!0===b&&($=ta.removeBackslashes($)));let T={prefix:C,input:e,start:h,base:$,glob:P,isBrace:p,isBracket:g,isGlob:m,isExtglob:w,isGlobstar:_,negated:v,negatedExtglob:E};if(!0===n.tokens&&(T.maxDepth=0,tM(i)||l.push(k),T.tokens=l),!0===n.parts||!0===n.tokens){let t;for(let r=0;r<s.length;r++){let i=t?t+1:h,a=s[r],o=e.slice(i,a);n.tokens&&(0===r&&0!==h?(l[r].isPrefix=!0,l[r].value=C):l[r].value=o,tI(l[r]),T.maxDepth+=l[r].depth),(0!==r||""!==o)&&u.push(o),t=a}if(t&&t+1<e.length){let r=e.slice(t+1);u.push(r),n.tokens&&(l[l.length-1].value=r,tI(l[l.length-1]),T.maxDepth+=l[l.length-1].depth)}T.slashes=s,T.parts=u}return T},tG=ta,tW=e=>e&&"object"==typeof e&&!Array.isArray(e),tq=(e,t,r=!1)=>{if(Array.isArray(e)){let i=e.map(e=>tq(e,t,r));return e=>{for(let t of i){let r=t(e);if(r)return r}return!1}}let i=tW(e)&&e.tokens&&e.input;if(""===e||"string"!=typeof e&&!i)throw TypeError("Expected pattern to be a non-empty string");let n=t||{},a=tG.isWindows(t),o=i?tq.compileRe(e,t):tq.makeRe(e,t,!1,!0),s=o.state;delete o.state;let l=()=>!1;if(n.ignore){let e={...t,ignore:null,onMatch:null,onResult:null};l=tq(n.ignore,e,r)}let u=(r,i=!1)=>{let{isMatch:u,match:c,output:f}=tq.test(r,o,t,{glob:e,posix:a}),h={glob:e,state:s,regex:o,posix:a,input:r,output:f,match:c,isMatch:u};return("function"==typeof n.onResult&&n.onResult(h),!1===u)?(h.isMatch=!1,!!i&&h):l(r)?("function"==typeof n.onIgnore&&n.onIgnore(h),h.isMatch=!1,!!i&&h):("function"==typeof n.onMatch&&n.onMatch(h),!i||h)};return r&&(u.state=s),u};tq.test=(e,t,r,{glob:i,posix:n}={})=>{if("string"!=typeof e)throw TypeError("Expected input to be a string");if(""===e)return{isMatch:!1,output:""};let a=r||{},o=a.format||(n?tG.toPosixSlashes:null),s=e===i,l=s&&o?o(e):e;return!1===s&&(s=(l=o?o(e):e)===i),(!1===s||!0===a.capture)&&(s=!0===a.matchBase||!0===a.basename?tq.matchBase(e,t,r,n):t.exec(l)),{isMatch:!!s,match:s,output:l}},tq.matchBase=(e,t,r,i=tG.isWindows(r))=>{let n=t instanceof RegExp?t:tq.makeRe(t,r);return n.test(T.basename(e))},tq.isMatch=(e,t,r)=>tq(t,r)(e),tq.parse=(e,t)=>Array.isArray(e)?e.map(e=>tq.parse(e,t)):tU(e,{...t,fastpaths:!1}),tq.scan=(e,t)=>tz(e,t),tq.compileRe=(e,t,r=!1,i=!1)=>{if(!0===r)return e.output;let n=t||{},a=n.contains?"":"^",o=n.contains?"":"$",s=`${a}(?:${e.output})${o}`;e&&!0===e.negated&&(s=`^(?!${s}).*$`);let l=tq.toRegex(s,t);return!0===i&&(l.state=e),l},tq.makeRe=(e,t={},r=!1,i=!1)=>{if(!e||"string"!=typeof e)throw TypeError("Expected a non-empty string");let n={negated:!1,fastpaths:!0};return!1!==t.fastpaths&&("."===e[0]||"*"===e[0])&&(n.output=tU.fastpaths(e,t)),n.output||(n=tU(e,t)),tq.compileRe(n,t,r,i)},tq.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(e){if(t&&!0===t.debug)throw e;return/$^/}},tq.constants=tw;const tV=e=>""===e||"./"===e,tZ=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let i=new Set,n=new Set,a=new Set,o=0,s=e=>{a.add(e.output),r&&r.onResult&&r.onResult(e)};for(let a=0;a<t.length;a++){let l=tq(String(t[a]),{...r,onResult:s},!0),u=l.state.negated||l.state.negatedExtglob;for(let t of(u&&o++,e)){let e=l(t,!0);(u?!e.isMatch:e.isMatch)&&(u?i.add(e.output):(i.delete(e.output),n.add(e.output)))}}let l=(o===t.length?[...a]:[...n]).filter(e=>!i.has(e));if(r&&0===l.length){if(!0===r.failglob)throw Error(`No matches found for "${t.join(", ")}"`);if(!0===r.nonull||!0===r.nullglob)return r.unescape?t.map(e=>e.replace(/\\/g,"")):t}return l};tZ.match=tZ,tZ.matcher=(e,t)=>tq(e,t),tZ.isMatch=(e,t,r)=>tq(t,r)(e),tZ.any=tZ.isMatch,tZ.not=(e,t,r={})=>{t=[].concat(t).map(String);let i=new Set,n=[],a=new Set(tZ(e,t,{...r,onResult:e=>{r.onResult&&r.onResult(e),n.push(e.output)}}));for(let e of n)a.has(e)||i.add(e);return[...i]},tZ.contains=(e,t,r)=>{if("string"!=typeof e)throw TypeError(`Expected a string: "${M.inspect(e)}"`);if(Array.isArray(t))return t.some(t=>tZ.contains(e,t,r));if("string"==typeof t){if(tV(e)||tV(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return tZ.isMatch(e,t,{...r,contains:!0})},tZ.matchKeys=(e,t,r)=>{if(!ta.isObject(e))throw TypeError("Expected the first argument to be an object");let i=tZ(Object.keys(e),t,r),n={};for(let t of i)n[t]=e[t];return n},tZ.some=(e,t,r)=>{let i=[].concat(e);for(let e of[].concat(t)){let t=tq(String(e),r);if(i.some(e=>t(e)))return!0}return!1},tZ.every=(e,t,r)=>{let i=[].concat(e);for(let e of[].concat(t)){let t=tq(String(e),r);if(!i.every(e=>t(e)))return!1}return!0},tZ.all=(e,t,r)=>{if("string"!=typeof e)throw TypeError(`Expected a string: "${M.inspect(e)}"`);return[].concat(t).every(t=>tq(t,r)(e))},tZ.capture=(e,t,r)=>{let i=ta.isWindows(r),n=tq.makeRe(String(e),{...r,capture:!0}).exec(i?ta.toPosixSlashes(t):t);if(n)return n.slice(1).map(e=>void 0===e?"":e)},tZ.makeRe=(...e)=>tq.makeRe(...e),tZ.scan=(...e)=>tq.scan(...e),tZ.parse=(e,t)=>{let r=[];for(let i of[].concat(e||[]))for(let e of tn(String(i),t))r.push(tq.parse(e,t));return r},tZ.braces=(e,t)=>{if("string"!=typeof e)throw TypeError("Expected a string");return t&&!0===t.nobrace||!/\{.*\}/.test(e)?[e]:tn(e,t)},tZ.braceExpand=(e,t)=>{if("string"!=typeof e)throw TypeError("Expected a string");return tZ.braces(e,{...t,expand:!0})},Object.defineProperty(el,"__esModule",{value:!0}),el.removeDuplicateSlashes=el.matchAny=el.convertPatternsToRe=el.makeRe=el.getPatternParts=el.expandBraceExpansion=el.expandPatternsWithBraceExpansion=el.isAffectDepthOfReadingPattern=el.endsWithSlashGlobStar=el.hasGlobStar=el.getBaseDirectory=el.isPatternRelatedToParentDirectory=el.getPatternsOutsideCurrentDirectory=el.getPatternsInsideCurrentDirectory=el.getPositivePatterns=el.getNegativePatterns=el.isPositivePattern=el.isNegativePattern=el.convertToNegativePattern=el.convertToPositivePattern=el.isDynamicPattern=el.isStaticPattern=void 0;const tK=function(e,t){Object.assign({flipBackslashes:!0},t).flipBackslashes&&eg&&0>e.indexOf("/")&&(e=e.replace(em,"/")),ew.test(e)&&(e+="/"),e+="a";do e=ep(e);while(ed(e)||e_.test(e))return e.replace(ey,"$1")},tQ=/[*?]|^!/,tY=/\[[^[]*]/,tX=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,tJ=/[!*+?@]\([^(]*\)/,t0=/,|\.\./,t1=/(?!^)\/{2,}/g;function t2(e,t={}){return!t5(e,t)}function t5(e,t={}){return""!==e&&!!(!1===t.caseSensitiveMatch||e.includes("\\")||tQ.test(e)||tY.test(e)||tX.test(e)||!1!==t.extglob&&tJ.test(e)||!1!==t.braceExpansion&&function(e){let t=e.indexOf("{");if(-1===t)return!1;let r=e.indexOf("}",t+1);if(-1===r)return!1;let i=e.slice(t,r);return t0.test(i)}(e))}function t3(e){return e.startsWith("!")&&"("!==e[1]}function t6(e){return!t3(e)}function t8(e){return e.startsWith("..")||e.startsWith("./..")}function t4(e){return e.endsWith("/**")}function t9(e){let t=tZ.braces(e,{expand:!0,nodupes:!0});return t.sort((e,t)=>e.length-t.length),t.filter(e=>""!==e)}function t7(e,t){return tZ.makeRe(e,t)}el.isStaticPattern=t2,el.isDynamicPattern=t5,el.convertToPositivePattern=function(e){return t3(e)?e.slice(1):e},el.convertToNegativePattern=function(e){return"!"+e},el.isNegativePattern=t3,el.isPositivePattern=t6,el.getNegativePatterns=function(e){return e.filter(t3)},el.getPositivePatterns=function(e){return e.filter(t6)},el.getPatternsInsideCurrentDirectory=function(e){return e.filter(e=>!t8(e))},el.getPatternsOutsideCurrentDirectory=function(e){return e.filter(t8)},el.isPatternRelatedToParentDirectory=t8,el.getBaseDirectory=function(e){return tK(e,{flipBackslashes:!1})},el.hasGlobStar=function(e){return e.includes("**")},el.endsWithSlashGlobStar=t4,el.isAffectDepthOfReadingPattern=function(e){let t=T.basename(e);return t4(e)||t2(t)},el.expandPatternsWithBraceExpansion=function(e){return e.reduce((e,t)=>e.concat(t9(t)),[])},el.expandBraceExpansion=t9,el.getPatternParts=function(e,t){let{parts:r}=tZ.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return 0===r.length&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r},el.makeRe=t7,el.convertPatternsToRe=function(e,t){return e.map(e=>t7(e,t))},el.matchAny=function(e,t){return t.some(t=>t.test(e))},el.removeDuplicateSlashes=function(e){return e.replace(t1,"/")};var re={};const rt=I.PassThrough,rr=Array.prototype.slice;function ri(e){e.forEach(e=>e.emit("close"))}Object.defineProperty(re,"__esModule",{value:!0}),re.merge=void 0,re.merge=function(e){let t=function(){let e=[],t=rr.call(arguments),r=!1,i=t[t.length-1];i&&!Array.isArray(i)&&null==i.pipe?t.pop():i={};let n=!1!==i.end,a=!0===i.pipeError;null==i.objectMode&&(i.objectMode=!0),null==i.highWaterMark&&(i.highWaterMark=65536);let o=rt(i);function s(){for(let t=0,r=arguments.length;t<r;t++)e.push(function e(t,r){if(Array.isArray(t))for(let i=0,n=t.length;i<n;i++)t[i]=e(t[i],r);else{if(!t._readableState&&t.pipe&&(t=t.pipe(rt(r))),!t._readableState||!t.pause||!t.pipe)throw Error("Only readable stream can be merged.");t.pause()}return t}(arguments[t],i));return function t(){if(r)return;r=!0;let i=e.shift();if(!i){process.nextTick(l);return}Array.isArray(i)||(i=[i]);let n=i.length+1;function s(){--n>0||(r=!1,t())}for(let e=0;e<i.length;e++)!function(e){function t(){e.removeListener("merge2UnpipeEnd",t),e.removeListener("end",t),a&&e.removeListener("error",r),s()}function r(e){o.emit("error",e)}if(e._readableState.endEmitted)return s();e.on("merge2UnpipeEnd",t),e.on("end",t),a&&e.on("error",r),e.pipe(o,{end:!1}),e.resume()}(i[e]);s()}(),this}function l(){r=!1,o.emit("queueDrain"),n&&o.end()}return o.setMaxListeners(0),o.add=s,o.on("unpipe",function(e){e.emit("merge2UnpipeEnd")}),t.length&&s.apply(null,t),o}(e);return e.forEach(e=>{e.once("error",e=>t.emit("error",e))}),t.once("close",()=>ri(e)),t.once("end",()=>ri(e)),t};var rn={};function ra(e,t){let r=e;return t.braceExpansion&&(r=V.pattern.expandPatternsWithBraceExpansion(r)),t.baseNameMatch&&(r=r.map(e=>e.includes("/")?e:`**/${e}`)),r.map(e=>V.pattern.removeDuplicateSlashes(e))}function ro(e,t,r){let i=[],n=V.pattern.getPatternsOutsideCurrentDirectory(e),a=V.pattern.getPatternsInsideCurrentDirectory(e),o=ru(n),s=ru(a);return i.push(...rc(o,t,r)),"."in s?i.push(rf(".",a,t,r)):i.push(...rc(s,t,r)),i}function rs(e){return V.pattern.getPositivePatterns(e)}function rl(e,t){let r=V.pattern.getNegativePatterns(e).concat(t),i=r.map(V.pattern.convertToPositivePattern);return i}function ru(e){return e.reduce((e,t)=>{let r=V.pattern.getBaseDirectory(t);return r in e?e[r].push(t):e[r]=[t],e},{})}function rc(e,t,r){return Object.keys(e).map(i=>rf(i,e[i],t,r))}function rf(e,t,r,i){return{dynamic:i,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(V.pattern.convertToNegativePattern))}}Object.defineProperty(rn,"__esModule",{value:!0}),rn.isEmpty=rn.isString=void 0,rn.isString=function(e){return"string"==typeof e},rn.isEmpty=function(e){return""===e},Object.defineProperty(V,"__esModule",{value:!0}),V.string=V.stream=V.pattern=V.path=V.fs=V.errno=V.array=void 0,V.array=Z,V.errno=K,V.fs=Q,V.path=X,V.pattern=el,V.stream=re,V.string=rn,Object.defineProperty(q,"__esModule",{value:!0}),q.convertPatternGroupToTask=q.convertPatternGroupsToTasks=q.groupPatternsByBaseDirectory=q.getNegativePatternsAsPositive=q.getPositivePatterns=q.convertPatternsToTasks=q.generate=void 0,q.generate=function(e,t){let r=ra(e,t),i=ra(t.ignore,t),n=rs(r),a=rl(r,i),o=n.filter(e=>V.pattern.isStaticPattern(e,t)),s=n.filter(e=>V.pattern.isDynamicPattern(e,t)),l=ro(o,a,!1),u=ro(s,a,!0);return l.concat(u)},q.convertPatternsToTasks=ro,q.getPositivePatterns=rs,q.getNegativePatternsAsPositive=rl,q.groupPatternsByBaseDirectory=ru,q.convertPatternGroupsToTasks=rc,q.convertPatternGroupToTask=rf;var rh={},rd={},rp={},rg={},rm={},rw={},r_={},ry={},rb={};Object.defineProperty(rb,"__esModule",{value:!0}),rb.read=void 0,rb.read=function(e,t,r){t.fs.lstat(e,(i,n)=>{if(null!==i){r(i);return}if(!n.isSymbolicLink()||!t.followSymbolicLink){r(null,n);return}t.fs.stat(e,(e,i)=>{if(null!==e){if(t.throwErrorOnBrokenSymbolicLink){r(e);return}r(null,n);return}t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),r(null,i)})})};var rv={};Object.defineProperty(rv,"__esModule",{value:!0}),rv.read=void 0,rv.read=function(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let r=t.fs.statSync(e);return t.markSymbolicLink&&(r.isSymbolicLink=()=>!0),r}catch(e){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw e}};var rE={},rS={};Object.defineProperty(rS,"__esModule",{value:!0}),rS.createFileSystemAdapter=rS.FILE_SYSTEM_ADAPTER=void 0,rS.FILE_SYSTEM_ADAPTER={lstat:L.lstat,stat:L.stat,lstatSync:L.lstatSync,statSync:L.statSync},rS.createFileSystemAdapter=function(e){return void 0===e?rS.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},rS.FILE_SYSTEM_ADAPTER),e)},Object.defineProperty(rE,"__esModule",{value:!0});let rx=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=rS.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,t){return null!=e?e:t}};function rk(e={}){return e instanceof rE.default?e:new rE.default(e)}rE.default=rx,Object.defineProperty(ry,"__esModule",{value:!0}),ry.statSync=ry.stat=ry.Settings=void 0,ry.Settings=rE.default,ry.stat=function(e,t,r){if("function"==typeof t){rb.read(e,rk(),t);return}rb.read(e,rk(t),r)},ry.statSync=function(e,t){let r=rk(t);return rv.read(e,r)};var rA="function"==typeof queueMicrotask?queueMicrotask.bind("undefined"!=typeof window?window:G):t=>(e||(e=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0)),rR={};Object.defineProperty(rR,"__esModule",{value:!0}),rR.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;const rO=process.versions.node.split(".");if(void 0===rO[0]||void 0===rO[1])throw Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);const r$=Number.parseInt(rO[0],10),rC=Number.parseInt(rO[1],10);rR.IS_SUPPORT_READDIR_WITH_FILE_TYPES=r$>10||10===r$&&rC>=10;var rP={},rT={};Object.defineProperty(rT,"__esModule",{value:!0}),rT.createDirentFromStats=void 0;class rM{constructor(e,t){this.name=e,this.isBlockDevice=t.isBlockDevice.bind(t),this.isCharacterDevice=t.isCharacterDevice.bind(t),this.isDirectory=t.isDirectory.bind(t),this.isFIFO=t.isFIFO.bind(t),this.isFile=t.isFile.bind(t),this.isSocket=t.isSocket.bind(t),this.isSymbolicLink=t.isSymbolicLink.bind(t)}}rT.createDirentFromStats=function(e,t){return new rM(e,t)},Object.defineProperty(rP,"__esModule",{value:!0}),rP.fs=void 0,rP.fs=rT;var rI={};Object.defineProperty(rI,"__esModule",{value:!0}),rI.joinPathSegments=void 0,rI.joinPathSegments=function(e,t,r){return e.endsWith(r)?e+t:e+r+t},Object.defineProperty(r_,"__esModule",{value:!0}),r_.readdir=r_.readdirWithFileTypes=r_.read=void 0;const rB=function(e,t){let r,i,n;let a=!0;function o(e){function i(){t&&t(e,r),t=null}a?rA(i):i()}function s(e,t,n){r[e]=n,(0==--i||t)&&o(t)}Array.isArray(e)?(r=[],i=e.length):(n=Object.keys(e),r={},i=n.length),i?n?n.forEach(function(t){e[t](function(e,r){s(t,e,r)})}):e.forEach(function(e,t){e(function(e,r){s(t,e,r)})}):o(null),a=!1};function rL(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(i,n)=>{if(null!==i){r(i);return}let a=n.map(r=>({dirent:r,name:r.name,path:rI.joinPathSegments(e,r.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){r(null,a);return}let o=a.map(e=>r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(i,n)=>{if(null!==i){if(t.throwErrorOnBrokenSymbolicLink){r(i);return}r(null,e);return}e.dirent=rP.fs.createDirentFromStats(e.name,n),r(null,e)})});rB(o,(e,t)=>{if(null!==e){r(e);return}r(null,t)})})}function rj(e,t,r){t.fs.readdir(e,(i,n)=>{if(null!==i){r(i);return}let a=n.map(r=>{let i=rI.joinPathSegments(e,r,t.pathSegmentSeparator);return e=>{ry.stat(i,t.fsStatSettings,(n,a)=>{if(null!==n){e(n);return}let o={name:r,path:i,dirent:rP.fs.createDirentFromStats(r,a)};t.stats&&(o.stats=a),e(null,o)})}});rB(a,(e,t)=>{if(null!==e){r(e);return}r(null,t)})})}r_.read=function(e,t,r){if(!t.stats&&rR.IS_SUPPORT_READDIR_WITH_FILE_TYPES){rL(e,t,r);return}rj(e,t,r)},r_.readdirWithFileTypes=rL,r_.readdir=rj;var rD={};function rN(e,t){let r=t.fs.readdirSync(e,{withFileTypes:!0});return r.map(r=>{let i={dirent:r,name:r.name,path:rI.joinPathSegments(e,r.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let e=t.fs.statSync(i.path);i.dirent=rP.fs.createDirentFromStats(i.name,e)}catch(e){if(t.throwErrorOnBrokenSymbolicLink)throw e}return i})}function rH(e,t){let r=t.fs.readdirSync(e);return r.map(r=>{let i=rI.joinPathSegments(e,r,t.pathSegmentSeparator),n=ry.statSync(i,t.fsStatSettings),a={name:r,path:i,dirent:rP.fs.createDirentFromStats(r,n)};return t.stats&&(a.stats=n),a})}Object.defineProperty(rD,"__esModule",{value:!0}),rD.readdir=rD.readdirWithFileTypes=rD.read=void 0,rD.read=function(e,t){return!t.stats&&rR.IS_SUPPORT_READDIR_WITH_FILE_TYPES?rN(e,t):rH(e,t)},rD.readdirWithFileTypes=rN,rD.readdir=rH;var rF={},rU={};Object.defineProperty(rU,"__esModule",{value:!0}),rU.createFileSystemAdapter=rU.FILE_SYSTEM_ADAPTER=void 0,rU.FILE_SYSTEM_ADAPTER={lstat:L.lstat,stat:L.stat,lstatSync:L.lstatSync,statSync:L.statSync,readdir:L.readdir,readdirSync:L.readdirSync},rU.createFileSystemAdapter=function(e){return void 0===e?rU.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},rU.FILE_SYSTEM_ADAPTER),e)},Object.defineProperty(rF,"__esModule",{value:!0});let rz=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=rU.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,T.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new ry.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}};function rG(e={}){return e instanceof rF.default?e:new rF.default(e)}rF.default=rz,Object.defineProperty(rw,"__esModule",{value:!0}),rw.Settings=rw.scandirSync=rw.scandir=void 0,rw.Settings=rF.default,rw.scandir=function(e,t,r){if("function"==typeof t){r_.read(e,rG(),t);return}r_.read(e,rG(t),r)},rw.scandirSync=function(e,t){let r=rG(t);return rD.read(e,r)};var rW={exports:{}},rq=function(e){var t=new e,r=t;return{get:function(){var i=t;return i.next?t=i.next:r=t=new e,i.next=null,i},release:function(e){r.next=e,r=e}}};function rV(e,t,r){if("function"==typeof e&&(r=t,t=e,e=null),r<1)throw Error("fastqueue concurrency must be greater than 1");var i=rq(rK),n=null,a=null,o=0,s=null,l={push:function(r,c){var f=i.get();f.context=e,f.release=u,f.value=r,f.callback=c||rZ,f.errorHandler=s,o===l.concurrency||l.paused?a?(a.next=f,a=f):(n=f,a=f,l.saturated()):(o++,t.call(e,f.value,f.worked))},drain:rZ,saturated:rZ,pause:function(){l.paused=!0},paused:!1,concurrency:r,running:function(){return o},resume:function(){if(l.paused){l.paused=!1;for(var e=0;e<l.concurrency;e++)o++,u()}},idle:function(){return 0===o&&0===l.length()},length:function(){for(var e=n,t=0;e;)e=e.next,t++;return t},getQueue:function(){for(var e=n,t=[];e;)t.push(e.value),e=e.next;return t},unshift:function(r,s){var c=i.get();c.context=e,c.release=u,c.value=r,c.callback=s||rZ,o===l.concurrency||l.paused?n?(c.next=n,n=c):(n=c,a=c,l.saturated()):(o++,t.call(e,c.value,c.worked))},empty:rZ,kill:function(){n=null,a=null,l.drain=rZ},killAndDrain:function(){n=null,a=null,l.drain(),l.drain=rZ},error:function(e){s=e}};return l;function u(r){r&&i.release(r);var s=n;s?l.paused?o--:(a===n&&(a=null),n=s.next,s.next=null,t.call(e,s.value,s.worked),null===a&&l.empty()):0==--o&&l.drain()}}function rZ(){}function rK(){this.value=null,this.callback=rZ,this.next=null,this.release=rZ,this.context=null,this.errorHandler=null;var e=this;this.worked=function(t,r){var i=e.callback,n=e.errorHandler,a=e.value;e.value=null,e.callback=rZ,e.errorHandler&&n(t,a),i.call(e.context,t,r),e.release(e)}}rW.exports=rV,rW.exports.promise=function(e,t,r){"function"==typeof e&&(r=t,t=e,e=null);var i=rV(e,function(e,r){t.call(this,e).then(function(e){r(null,e)},r)},r),n=i.push,a=i.unshift;return i.push=function(e){var t=new Promise(function(t,r){n(e,function(e,i){if(e){r(e);return}t(i)})});return t.catch(rZ),t},i.unshift=function(e){var t=new Promise(function(t,r){a(e,function(e,i){if(e){r(e);return}t(i)})});return t.catch(rZ),t},i.drained=function(){if(i.idle())return new Promise(function(e){e()});var e=i.drain;return new Promise(function(t){i.drain=function(){e(),t()}})},i};var rQ=rW.exports,rY={};Object.defineProperty(rY,"__esModule",{value:!0}),rY.joinPathSegments=rY.replacePathSegmentSeparator=rY.isAppliedFilter=rY.isFatalError=void 0,rY.isFatalError=function(e,t){return null===e.errorFilter||!e.errorFilter(t)},rY.isAppliedFilter=function(e,t){return null===e||e(t)},rY.replacePathSegmentSeparator=function(e,t){return e.split(/[/\\]/).join(t)},rY.joinPathSegments=function(e,t,r){return""===e?t:e.endsWith(r)?e+t:e+r+t};var rX={};Object.defineProperty(rX,"__esModule",{value:!0});let rJ=class{constructor(e,t){this._root=e,this._settings=t,this._root=rY.replacePathSegmentSeparator(e,t.pathSegmentSeparator)}};rX.default=rJ,Object.defineProperty(rm,"__esModule",{value:!0});const r0=rX;class r1 extends r0.default{constructor(e,t){super(e,t),this._settings=t,this._scandir=rw.scandir,this._emitter=new B.EventEmitter,this._queue=rQ(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,t){this._queue.push({directory:e,base:t},e=>{null!==e&&this._handleError(e)})}_worker(e,t){this._scandir(e.directory,this._settings.fsScandirSettings,(r,i)=>{if(null!==r){t(r,void 0);return}for(let t of i)this._handleEntry(t,e.base);t(null,void 0)})}_handleError(e){!this._isDestroyed&&rY.isFatalError(this._settings,e)&&(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,t){if(this._isDestroyed||this._isFatalError)return;let r=e.path;void 0!==t&&(e.path=rY.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),rY.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&rY.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}}rm.default=r1,Object.defineProperty(rg,"__esModule",{value:!0}),rg.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new rm.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(t=>{e(t)}),this._reader.onEntry(e=>{this._storage.push(e)}),this._reader.onEnd(()=>{e(null,this._storage)}),this._reader.read()}};var r2={};Object.defineProperty(r2,"__esModule",{value:!0}),r2.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new rm.default(this._root,this._settings),this._stream=new I.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};var r5={},r3={};Object.defineProperty(r3,"__esModule",{value:!0});const r6=rX;class r8 extends r6.default{constructor(){super(...arguments),this._scandir=rw.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,t){this._queue.add({directory:e,base:t})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,t){try{let r=this._scandir(e,this._settings.fsScandirSettings);for(let e of r)this._handleEntry(e,t)}catch(e){this._handleError(e)}}_handleError(e){if(rY.isFatalError(this._settings,e))throw e}_handleEntry(e,t){let r=e.path;void 0!==t&&(e.path=rY.joinPathSegments(t,e.name,this._settings.pathSegmentSeparator)),rY.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&rY.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(r,void 0===t?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}}r3.default=r8,Object.defineProperty(r5,"__esModule",{value:!0}),r5.default=class{constructor(e,t){this._root=e,this._settings=t,this._reader=new r3.default(this._root,this._settings)}read(){return this._reader.read()}};var r4={};function r9(e={}){return e instanceof r4.default?e:new r4.default(e)}Object.defineProperty(r4,"__esModule",{value:!0}),r4.default=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,T.sep),this.fsScandirSettings=new rw.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,t){return null!=e?e:t}},Object.defineProperty(rp,"__esModule",{value:!0}),rp.Settings=rp.walkStream=rp.walkSync=rp.walk=void 0,rp.Settings=r4.default,rp.walk=function(e,t,r){if("function"==typeof t){new rg.default(e,r9()).read(t);return}new rg.default(e,r9(t)).read(r)},rp.walkSync=function(e,t){let r=r9(t),i=new r5.default(e,r);return i.read()},rp.walkStream=function(e,t){let r=r9(t),i=new r2.default(e,r);return i.read()};var r7={};Object.defineProperty(r7,"__esModule",{value:!0}),r7.default=class{constructor(e){this._settings=e,this._fsStatSettings=new ry.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return T.resolve(this._settings.cwd,e)}_makeEntry(e,t){let r={name:t,path:t,dirent:V.fs.createDirentFromStats(t,e)};return this._settings.stats&&(r.stats=e),r}_isFatalError(e){return!V.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};var ie={};Object.defineProperty(ie,"__esModule",{value:!0});const it=r7;class ir extends it.default{constructor(){super(...arguments),this._walkStream=rp.walkStream,this._stat=ry.stat}dynamic(e,t){return this._walkStream(e,t)}static(e,t){let r=e.map(this._getFullEntryPath,this),i=new I.PassThrough({objectMode:!0});i._write=(n,a,o)=>this._getEntry(r[n],e[n],t).then(e=>{null!==e&&t.entryFilter(e)&&i.push(e),n===r.length-1&&i.end(),o()}).catch(o);for(let e=0;e<r.length;e++)i.write(e);return i}_getEntry(e,t,r){return this._getStat(e).then(e=>this._makeEntry(e,t)).catch(e=>{if(r.errorFilter(e))return null;throw e})}_getStat(e){return new Promise((t,r)=>{this._stat(e,this._fsStatSettings,(e,i)=>null===e?t(i):r(e))})}}ie.default=ir,Object.defineProperty(rd,"__esModule",{value:!0});const ii=r7;class ia extends ii.default{constructor(){super(...arguments),this._walkAsync=rp.walk,this._readerStream=new ie.default(this._settings)}dynamic(e,t){return new Promise((r,i)=>{this._walkAsync(e,t,(e,t)=>{null===e?r(t):i(e)})})}async static(e,t){let r=[],i=this._readerStream.static(e,t);return new Promise((e,t)=>{i.once("error",t),i.on("data",e=>r.push(e)),i.once("end",()=>e(r))})}}rd.default=ia;var io={},is={},il={},iu={};Object.defineProperty(iu,"__esModule",{value:!0}),iu.default=class{constructor(e,t,r){this._patterns=e,this._settings=t,this._micromatchOptions=r,this._storage=[],this._fillStorage()}_fillStorage(){for(let e of this._patterns){let t=this._getPatternSegments(e),r=this._splitSegmentsIntoSections(t);this._storage.push({complete:r.length<=1,pattern:e,segments:t,sections:r})}}_getPatternSegments(e){let t=V.pattern.getPatternParts(e,this._micromatchOptions);return t.map(e=>{let t=V.pattern.isDynamicPattern(e,this._settings);return t?{dynamic:!0,pattern:e,patternRe:V.pattern.makeRe(e,this._micromatchOptions)}:{dynamic:!1,pattern:e}})}_splitSegmentsIntoSections(e){return V.array.splitWhen(e,e=>e.dynamic&&V.pattern.hasGlobStar(e.pattern))}},Object.defineProperty(il,"__esModule",{value:!0});const ic=iu;class ih extends ic.default{match(e){let t=e.split("/"),r=t.length,i=this._storage.filter(e=>!e.complete||e.segments.length>r);for(let e of i){let i=e.sections[0];if(!e.complete&&r>i.length)return!0;let n=t.every((t,r)=>{let i=e.segments[r];return!!(i.dynamic&&i.patternRe.test(t))||!i.dynamic&&i.pattern===t});if(n)return!0}return!1}}il.default=ih,Object.defineProperty(is,"__esModule",{value:!0}),is.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t}getFilter(e,t,r){let i=this._getMatcher(t),n=this._getNegativePatternsRe(r);return t=>this._filter(e,t,i,n)}_getMatcher(e){return new il.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let t=e.filter(V.pattern.isAffectDepthOfReadingPattern);return V.pattern.convertPatternsToRe(t,this._micromatchOptions)}_filter(e,t,r,i){if(this._isSkippedByDeep(e,t.path)||this._isSkippedSymbolicLink(t))return!1;let n=V.path.removeLeadingDotSegment(t.path);return!this._isSkippedByPositivePatterns(n,r)&&this._isSkippedByNegativePatterns(n,i)}_isSkippedByDeep(e,t){return this._settings.deep!==1/0&&this._getEntryLevel(e,t)>=this._settings.deep}_getEntryLevel(e,t){let r=t.split("/").length;if(""===e)return r;let i=e.split("/").length;return r-i}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,t){return!this._settings.baseNameMatch&&!t.match(e)}_isSkippedByNegativePatterns(e,t){return!V.pattern.matchAny(e,t)}};var id={};Object.defineProperty(id,"__esModule",{value:!0}),id.default=class{constructor(e,t){this._settings=e,this._micromatchOptions=t,this.index=new Map}getFilter(e,t){let r=V.pattern.convertPatternsToRe(e,this._micromatchOptions),i=V.pattern.convertPatternsToRe(t,Object.assign(Object.assign({},this._micromatchOptions),{dot:!0}));return e=>this._filter(e,r,i)}_filter(e,t,r){let i=V.path.removeLeadingDotSegment(e.path);if(this._settings.unique&&this._isDuplicateEntry(i)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(i,r))return!1;let n=e.dirent.isDirectory(),a=this._isMatchToPatterns(i,t,n)&&!this._isMatchToPatterns(i,r,n);return this._settings.unique&&a&&this._createIndexRecord(i),a}_isDuplicateEntry(e){return this.index.has(e)}_createIndexRecord(e){this.index.set(e,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,t){if(!this._settings.absolute)return!1;let r=V.path.makeAbsolute(this._settings.cwd,e);return V.pattern.matchAny(r,t)}_isMatchToPatterns(e,t,r){let i=V.pattern.matchAny(e,t);return!i&&r?V.pattern.matchAny(e+"/",t):i}};var ip={};Object.defineProperty(ip,"__esModule",{value:!0}),ip.default=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return V.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};var ig={};Object.defineProperty(ig,"__esModule",{value:!0}),ig.default=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let t=e.path;return(this._settings.absolute&&(t=V.path.makeAbsolute(this._settings.cwd,t),t=V.path.unixify(t)),this._settings.markDirectories&&e.dirent.isDirectory()&&(t+="/"),this._settings.objectMode)?Object.assign(Object.assign({},e),{path:t}):t}},Object.defineProperty(io,"__esModule",{value:!0}),io.default=class{constructor(e){this._settings=e,this.errorFilter=new ip.default(this._settings),this.entryFilter=new id.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new is.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new ig.default(this._settings)}_getRootDirectory(e){return T.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let t="."===e.base?"":e.base;return{basePath:t,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(t,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}},Object.defineProperty(rh,"__esModule",{value:!0});const im=io;class iw extends im.default{constructor(){super(...arguments),this._reader=new rd.default(this._settings)}async read(e){let t=this._getRootDirectory(e),r=this._getReaderOptions(e),i=await this.api(t,e,r);return i.map(e=>r.transform(e))}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}rh.default=iw;var i_={};Object.defineProperty(i_,"__esModule",{value:!0});const iy=io;class ib extends iy.default{constructor(){super(...arguments),this._reader=new ie.default(this._settings)}read(e){let t=this._getRootDirectory(e),r=this._getReaderOptions(e),i=this.api(t,e,r),n=new I.Readable({objectMode:!0,read:()=>{}});return i.once("error",e=>n.emit("error",e)).on("data",e=>n.emit("data",r.transform(e))).once("end",()=>n.emit("end")),n.once("close",()=>i.destroy()),n}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}i_.default=ib;var iv={},iE={};Object.defineProperty(iE,"__esModule",{value:!0});const iS=r7;class ix extends iS.default{constructor(){super(...arguments),this._walkSync=rp.walkSync,this._statSync=ry.statSync}dynamic(e,t){return this._walkSync(e,t)}static(e,t){let r=[];for(let i of e){let e=this._getFullEntryPath(i),n=this._getEntry(e,i,t);null!==n&&t.entryFilter(n)&&r.push(n)}return r}_getEntry(e,t,r){try{let r=this._getStat(e);return this._makeEntry(r,t)}catch(e){if(r.errorFilter(e))return null;throw e}}_getStat(e){return this._statSync(e,this._fsStatSettings)}}iE.default=ix,Object.defineProperty(iv,"__esModule",{value:!0});const ik=io;class iA extends ik.default{constructor(){super(...arguments),this._reader=new iE.default(this._settings)}read(e){let t=this._getRootDirectory(e),r=this._getReaderOptions(e),i=this.api(t,e,r);return i.map(r.transform)}api(e,t,r){return t.dynamic?this._reader.dynamic(e,r):this._reader.static(t.patterns,r)}}iv.default=iA;var iR={};async function iO(e,t){iC(e);let r=i$(e,rh.default,t),i=await Promise.all(r);return V.array.flatten(i)}function i$(e,t,r){let i=[].concat(e),n=new iR.default(r),a=q.generate(i,n),o=new t(n);return a.map(o.read,o)}function iC(e){let t=[].concat(e),r=t.every(e=>V.string.isString(e)&&!V.string.isEmpty(e));if(!r)throw TypeError("Patterns must be a string (non empty) or an array of strings")}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;let t=Math.max(P.cpus().length,1);e.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:L.lstat,lstatSync:L.lstatSync,stat:L.stat,statSync:L.statSync,readdir:L.readdir,readdirSync:L.readdirSync},e.default=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,t),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0),this.ignore=[].concat(this.ignore)}_getValue(e,t){return void 0===e?t:e}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},e.DEFAULT_FILE_SYSTEM_ADAPTER),t)}}}(iR),function(e){var t,r;function i(e,t){iC(e);let r=i$(e,iv.default,t);return V.array.flatten(r)}function n(e,t){iC(e);let r=i$(e,i_.default,t);return V.stream.merge(r)}e.glob=e,e.globSync=i,e.globStream=n,e.async=e,e.sync=i,e.stream=n,e.generateTasks=function(e,t){iC(e);let r=[].concat(e),i=new iR.default(t);return q.generate(r,i)},e.isDynamicPattern=function(e,t){iC(e);let r=new iR.default(t);return V.pattern.isDynamicPattern(e,r)},e.escapePath=function(e){return iC(e),V.path.escape(e)},e.convertPathToPattern=function(e){return iC(e),V.path.convertPathToPattern(e)},(t=e.posix||(e.posix={})).escapePath=function(e){return iC(e),V.path.escapePosixPath(e)},t.convertPathToPattern=function(e){return iC(e),V.path.convertPosixPathToPattern(e)},(r=e.win32||(e.win32={})).escapePath=function(e){return iC(e),V.path.escapeWindowsPath(e)},r.convertPathToPattern=function(e){return iC(e),V.path.convertWindowsPathToPattern(e)}}(iO||(iO={}));var iP=iO,iT=function(e,t){!0===t&&(t=0);var r="";if("string"==typeof e)try{r=new URL(e).protocol}catch(e){}else e&&e.constructor===URL&&(r=e.protocol);var i=r.split(/\:|\+/).filter(Boolean);return"number"==typeof t?i[t]:i},iM={default:function(e){var t={protocols:[],protocol:null,port:null,resource:"",host:"",user:"",password:"",pathname:"",hash:"",search:"",href:e,query:{},parse_failed:!1};try{var r=new URL(e);t.protocols=iT(r),t.protocol=t.protocols[0],t.port=r.port,t.resource=r.hostname,t.host=r.host,t.user=r.username||"",t.password=r.password||"",t.pathname=r.pathname,t.hash=r.hash.slice(1),t.search=r.search.slice(1),t.href=r.href,t.query=Object.fromEntries(r.searchParams)}catch(r){t.protocols=["file"],t.protocol=t.protocols[0],t.port="",t.resource="",t.user="",t.pathname="",t.hash="",t.search="",t.href=e,t.query={},t.parse_failed=!0}return t}};const iI=(e,t)=>t.some(t=>t instanceof RegExp?t.test(e):t===e),iB=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw Error(`Invalid URL: ${e}`);let{type:i,data:n,hash:a}=r.groups,o=i.split(";");a=t?"":a;let s=!1;"base64"===o[o.length-1]&&(o.pop(),s=!0);let l=(o.shift()||"").toLowerCase(),u=o.map(e=>{let[t,r=""]=e.split("=").map(e=>e.trim());return"charset"===t&&"us-ascii"===(r=r.toLowerCase())?"":`${t}${r?`=${r}`:""}`}).filter(Boolean),c=[...u];return s&&c.push("base64"),(c.length>0||l&&"text/plain"!==l)&&c.unshift(l),`data:${c.join(";")},${s?n.trim():n}${a?`#${a}`:""}`},iL=(e,t=!1)=>{let r=t=>{let r=Error(t);throw r.subject_url=e,r};"string"==typeof e&&e.trim()||r("Invalid url."),e.length>iL.MAX_INPUT_LENGTH&&r("Input exceeds maximum length. If needed, change the value of parseUrl.MAX_INPUT_LENGTH."),t&&("object"!=typeof t&&(t={stripHash:!1}),e=function(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return iB(e,t);if(/^view-source:/i.test(e))throw Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//"),i=!r&&/^\.*\//.test(e);i||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let n=new URL(e);if(t.forceHttp&&t.forceHttps)throw Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&"https:"===n.protocol&&(n.protocol="http:"),t.forceHttps&&"http:"===n.protocol&&(n.protocol="https:"),t.stripAuthentication&&(n.username="",n.password=""),t.stripHash?n.hash="":t.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname){let e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,t=0,r="";for(;;){let i=e.exec(n.pathname);if(!i)break;let a=i[0],o=i.index,s=n.pathname.slice(t,o);r+=s.replace(/\/{2,}/g,"/")+a,t=o+a.length}let i=n.pathname.slice(t,n.pathname.length);r+=i.replace(/\/{2,}/g,"/"),n.pathname=r}if(n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=n.pathname.split("/"),r=e[e.length-1];iI(r,t.removeDirectoryIndex)&&(e=e.slice(0,-1),n.pathname=e.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let e of[...n.searchParams.keys()])iI(e,t.removeQueryParameters)&&n.searchParams.delete(e);if(!0===t.removeQueryParameters&&(n.search=""),t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}t.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let a=e;return e=n.toString(),t.removeSingleSlash||"/"!==n.pathname||a.endsWith("/")||""!==n.hash||(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||"/"===n.pathname)&&""===n.hash&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}(e,t));let i=iM.default(e);if(i.parse_failed){let e=i.href.match(/^(?:([a-z_][a-z0-9_-]{0,31})@|https?:\/\/)([\w\.\-@]+)[\/:]([\~,\.\w,\-,\_,\/]+?(?:\.git|\/)?)$/);e?(i.protocols=["ssh"],i.protocol="ssh",i.resource=e[2],i.host=e[2],i.user=e[1],i.pathname=`/${e[3]}`,i.parse_failed=!1):r("URL parsing failed.")}return i};iL.MAX_INPUT_LENGTH=2048;var ij=function e(t){if(Array.isArray(t))return -1!==t.indexOf("ssh")||-1!==t.indexOf("rsync");if("string"!=typeof t)return!1;var r=iT(t);if(t=t.substring(t.indexOf("://")+3),e(r))return!0;var i=RegExp(".([a-zA-Z\\d]+):(\\d+)/");return!t.match(i)&&t.indexOf("@")<t.indexOf(":")},iD=function(e){var t=iL(e);return t.token="","x-oauth-basic"===t.password?t.token=t.user:"x-token-auth"===t.user&&(t.token=t.password),ij(t.protocols)||0===t.protocols.length&&ij(e)?t.protocol="ssh":t.protocols.length?t.protocol=t.protocols[0]:(t.protocol="file",t.protocols=["file"]),t.href=t.href.replace(/\/$/,""),t};function iN(e){if("string"!=typeof e)throw Error("The url must be a string.");/^([a-z\d-]{1,39})\/([-\.\w]{1,100})$/i.test(e)&&(e="https://github.com/"+e);var t=iD(e),r=t.resource.split("."),i=null;switch(t.toString=function(e){return iN.stringify(this,e)},t.source=r.length>2?r.slice(1-r.length).join("."):t.source=t.resource,t.git_suffix=/\.git$/.test(t.pathname),t.name=decodeURIComponent((t.pathname||t.href).replace(/(^\/)|(\/$)/g,"").replace(/\.git$/,"")),t.owner=decodeURIComponent(t.user),t.source){case"git.cloudforge.com":t.owner=t.user,t.organization=r[0],t.source="cloudforge.com";break;case"visualstudio.com":if("vs-ssh.visualstudio.com"===t.resource){4===(i=t.name.split("/")).length&&(t.organization=i[1],t.owner=i[2],t.name=i[3],t.full_name=i[2]+"/"+i[3]);break}2===(i=t.name.split("/")).length?(t.owner=i[1],t.name=i[1],t.full_name="_git/"+t.name):3===i.length?(t.name=i[2],"DefaultCollection"===i[0]?(t.owner=i[2],t.organization=i[0],t.full_name=t.organization+"/_git/"+t.name):(t.owner=i[0],t.full_name=t.owner+"/_git/"+t.name)):4===i.length&&(t.organization=i[0],t.owner=i[1],t.name=i[3],t.full_name=t.organization+"/"+t.owner+"/_git/"+t.name);break;case"dev.azure.com":case"azure.com":if("ssh.dev.azure.com"===t.resource){4===(i=t.name.split("/")).length&&(t.organization=i[1],t.owner=i[2],t.name=i[3]);break}5===(i=t.name.split("/")).length?(t.organization=i[0],t.owner=i[1],t.name=i[4],t.full_name="_git/"+t.name):3===i.length?(t.name=i[2],"DefaultCollection"===i[0]?(t.owner=i[2],t.organization=i[0],t.full_name=t.organization+"/_git/"+t.name):(t.owner=i[0],t.full_name=t.owner+"/_git/"+t.name)):4===i.length&&(t.organization=i[0],t.owner=i[1],t.name=i[3],t.full_name=t.organization+"/"+t.owner+"/_git/"+t.name),t.query&&t.query.path&&(t.filepath=t.query.path.replace(/^\/+/g,"")),t.query&&t.query.version&&(t.ref=t.query.version.replace(/^GB/,""));break;default:var n=(i=t.name.split("/")).length-1;if(i.length>=2){var a=i.indexOf("-",2),o=i.indexOf("blob",2),s=i.indexOf("tree",2),l=i.indexOf("commit",2),u=i.indexOf("src",2),c=i.indexOf("raw",2),f=i.indexOf("edit",2);n=a>0?a-1:o>0?o-1:s>0?s-1:l>0?l-1:u>0?u-1:c>0?c-1:f>0?f-1:n,t.owner=i.slice(0,n).join("/"),t.name=i[n],l&&(t.commit=i[n+2])}t.ref="",t.filepathtype="",t.filepath="";var h=i.length>n&&"-"===i[n+1]?n+1:n;i.length>h+2&&["raw","src","blob","tree","edit"].indexOf(i[h+1])>=0&&(t.filepathtype=i[h+1],t.ref=i[h+2],i.length>h+3&&(t.filepath=i.slice(h+3).join("/"))),t.organization=t.owner}!t.full_name&&(t.full_name=t.owner,t.name&&(t.full_name&&(t.full_name+="/"),t.full_name+=t.name)),t.owner.startsWith("scm/")&&(t.source="bitbucket-server",t.owner=t.owner.replace("scm/",""),t.organization=t.owner,t.full_name=t.owner+"/"+t.name);var d=/(projects|users)\/(.*?)\/repos\/(.*?)((\/.*$)|$)/.exec(t.pathname);return null!=d&&(t.source="bitbucket-server","users"===d[1]?t.owner="~"+d[2]:t.owner=d[2],t.organization=t.owner,t.name=d[3],(i=d[4].split("/")).length>1&&(["raw","browse"].indexOf(i[1])>=0?(t.filepathtype=i[1],i.length>2&&(t.filepath=i.slice(2).join("/"))):"commits"===i[1]&&i.length>2&&(t.commit=i[2])),t.full_name=t.owner+"/"+t.name,t.query.at?t.ref=t.query.at:t.ref=""),t}iN.stringify=function(e,t){t=t||(e.protocols&&e.protocols.length?e.protocols.join("+"):e.protocol);var r=e.port?":"+e.port:"",i=e.user||"git",n=e.git_suffix?".git":"";switch(t){case"ssh":if(r)return"ssh://"+i+"@"+e.resource+r+"/"+e.full_name+n;return i+"@"+e.resource+":"+e.full_name+n;case"git+ssh":case"ssh+git":case"ftp":case"ftps":return t+"://"+i+"@"+e.resource+r+"/"+e.full_name+n;case"http":case"https":return t+"://"+(e.token?"bitbucket.org"===e.source?"x-token-auth:"+e.token+"@":e.token+"@":e.user&&(e.protocols.includes("http")||e.protocols.includes("https"))?e.user+"@":"")+e.resource+r+"/"+("bitbucket-server"===e.source?"scm/"+e.full_name:""+e.full_name)+n;default:return e.href}};var iH=W(iN),iF=function(e){if(e=e||{},this.Promise=e.Promise||Promise,this.queues=Object.create(null),this.domainReentrant=e.domainReentrant||!1,this.domainReentrant){if("undefined"==typeof process||void 0===process.domain)throw Error("Domain-reentrant locks require `process.domain` to exist. Please flip `opts.domainReentrant = false`, use a NodeJS version that still implements Domain, or install a browser polyfill.");this.domains=Object.create(null)}this.timeout=e.timeout||iF.DEFAULT_TIMEOUT,this.maxOccupationTime=e.maxOccupationTime||iF.DEFAULT_MAX_OCCUPATION_TIME,this.maxExecutionTime=e.maxExecutionTime||iF.DEFAULT_MAX_EXECUTION_TIME,e.maxPending===1/0||Number.isInteger(e.maxPending)&&e.maxPending>=0?this.maxPending=e.maxPending:this.maxPending=iF.DEFAULT_MAX_PENDING};iF.DEFAULT_TIMEOUT=0,iF.DEFAULT_MAX_OCCUPATION_TIME=0,iF.DEFAULT_MAX_EXECUTION_TIME=0,iF.DEFAULT_MAX_PENDING=1e3,iF.prototype.acquire=function(e,t,r,i){if(Array.isArray(e))return this._acquireBatch(e,t,r,i);if("function"!=typeof t)throw Error("You must pass a function to execute");var n=null,a=null,o=null;"function"!=typeof r&&(i=r,r=null,o=new this.Promise(function(e,t){n=e,a=t})),i=i||{};var s=!1,l=null,u=null,c=null,f=this,h=function(t,i,l){u&&(clearTimeout(u),u=null),c&&(clearTimeout(c),c=null),t&&(f.queues[e]&&0===f.queues[e].length&&delete f.queues[e],f.domainReentrant&&delete f.domains[e]),s||(o?i?a(i):n(l):"function"==typeof r&&r(i,l),s=!0),t&&f.queues[e]&&f.queues[e].length>0&&f.queues[e].shift()()},d=function(r){if(s)return h(r);l&&(clearTimeout(l),l=null),f.domainReentrant&&r&&(f.domains[e]=process.domain);var n=i.maxExecutionTime||f.maxExecutionTime;if(n&&(c=setTimeout(function(){f.queues[e]&&h(r,Error("Maximum execution time is exceeded "+e))},n)),1===t.length){var a=!1;try{t(function(e,t){a||(a=!0,h(r,e,t))})}catch(e){a||(a=!0,h(r,e))}}else f._promiseTry(function(){return t()}).then(function(e){h(r,void 0,e)},function(e){h(r,e)})};if(f.domainReentrant&&process.domain&&(d=process.domain.bind(d)),f.queues[e]){if(f.domainReentrant&&process.domain&&process.domain===f.domains[e])d(!1);else if(f.queues[e].length>=f.maxPending)h(!1,Error("Too many pending tasks in queue "+e));else{var p=function(){d(!0)};i.skipQueue?f.queues[e].unshift(p):f.queues[e].push(p);var g=i.timeout||f.timeout;g&&(l=setTimeout(function(){l=null,h(!1,Error("async-lock timed out in queue "+e))},g))}}else f.queues[e]=[],d(!0);var m=i.maxOccupationTime||f.maxOccupationTime;if(m&&(u=setTimeout(function(){f.queues[e]&&h(!1,Error("Maximum occupation time is exceeded in queue "+e))},m)),o)return o},iF.prototype._acquireBatch=function(e,t,r,i){"function"!=typeof r&&(i=r,r=null);var n=this,a=e.reduceRight(function(e,t){return function(r){n.acquire(t,e,r,i)}},t);if("function"!=typeof r)return new this.Promise(function(e,t){1===a.length?a(function(r,i){r?t(r):e(i)}):e(a())});a(r)},iF.prototype.isBusy=function(e){return e?!!this.queues[e]:Object.keys(this.queues).length>0},iF.prototype._promiseTry=function(e){try{return this.Promise.resolve(e())}catch(e){return this.Promise.reject(e)}};var iU=W(iF),iz={exports:{}},iG={exports:{}};try{var iW=require("util");if("function"!=typeof iW.inherits)throw"";iz.exports=iW.inherits}catch(e){iz.exports=(S||(S=1,"function"==typeof Object.create?iG.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:iG.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),iG.exports)}var iq=iz.exports,iV={exports:{}};!function(e,t){var r=j.Buffer;function i(e,t){for(var r in e)t[r]=e[r]}function n(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=j:(i(j,t),t.Buffer=n),n.prototype=Object.create(r.prototype),i(r,n),n.from=function(e,t,i){if("number"==typeof e)throw TypeError("Argument must not be a number");return r(e,t,i)},n.alloc=function(e,t,i){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=r(e);return void 0!==t?"string"==typeof i?n.fill(t,i):n.fill(t):n.fill(0),n},n.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return r(e)},n.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return j.SlowBuffer(e)}}(iV,iV.exports);var iZ=iV.exports,iK=iZ.Buffer;function iQ(e,t){this._block=iK.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}iQ.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=iK.from(e,t));for(var r=this._block,i=this._blockSize,n=e.length,a=this._len,o=0;o<n;){for(var s=a%i,l=Math.min(n-o,i-s),u=0;u<l;u++)r[s+u]=e[o+u];a+=l,o+=l,a%i==0&&this._update(r)}return this._len+=n,this},iQ.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var i=(4294967295&r)>>>0,n=(r-i)/4294967296;this._block.writeUInt32BE(n,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},iQ.prototype._update=function(){throw Error("_update must be implemented by subclass")};var iY=iZ.Buffer,iX=[1518500249,1859775393,-1894007588,-899497514],iJ=Array(80);function i0(){this.init(),this._w=iJ,iQ.call(this,64,56)}iq(i0,iQ),i0.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},i0.prototype._update=function(e){for(var t=this._w,r=0|this._a,i=0|this._b,n=0|this._c,a=0|this._d,o=0|this._e,s=0;s<16;++s)t[s]=e.readInt32BE(4*s);for(;s<80;++s)t[s]=(u=t[s-3]^t[s-8]^t[s-14]^t[s-16])<<1|u>>>31;for(var l=0;l<80;++l){var u,c,f,h,d,p,g=~~(l/20),m=((c=r)<<5|c>>>27)+(f=i,h=n,d=a,0===g?f&h|~f&d:2===g?f&h|f&d|h&d:f^h^d)+o+t[l]+iX[g]|0;o=a,a=n,n=(p=i)<<30|p>>>2,i=r,r=m}this._a=r+this._a|0,this._b=i+this._b|0,this._c=n+this._c|0,this._d=a+this._d|0,this._e=o+this._e|0},i0.prototype._hash=function(){var e=iY.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var i1=W(i0),i2={};(t="undefined"==typeof DO_NOT_EXPORT_CRC?i2:{}).version="1.2.2",n=(i=function(e){var t=0,r=0,i=0,n="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(i=0;256!=i;++i)n[i]=e[i];for(i=0;256!=i;++i)for(r=e[i],t=256+i;t<4096;t+=256)r=n[t]=r>>>8^e[255&r];var a=[];for(i=1;16!=i;++i)a[i-1]="undefined"!=typeof Int32Array?n.subarray(256*i,256*i+256):n.slice(256*i,256*i+256);return a}(r=function(){for(var e=0,t=Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}()))[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],c=i[6],f=i[7],h=i[8],d=i[9],p=i[10],g=i[11],m=i[12],w=i[13],_=i[14],t.table=r,t.bstr=function(e,t){for(var i=-1^t,n=0,a=e.length;n<a;)i=i>>>8^r[(i^e.charCodeAt(n++))&255];return~i},t.buf=function(e,t){for(var i=-1^t,y=e.length-15,b=0;b<y;)i=_[e[b++]^255&i]^w[e[b++]^i>>8&255]^m[e[b++]^i>>16&255]^g[e[b++]^i>>>24]^p[e[b++]]^d[e[b++]]^h[e[b++]]^f[e[b++]]^c[e[b++]]^u[e[b++]]^l[e[b++]]^s[e[b++]]^o[e[b++]]^a[e[b++]]^n[e[b++]]^r[e[b++]];for(y+=15;b<y;)i=i>>>8^r[(i^e[b++])&255];return~i},t.str=function(e,t){for(var i=-1^t,n=0,a=e.length,o=0,s=0;n<a;)(o=e.charCodeAt(n++))<128?i=i>>>8^r[(i^o)&255]:o<2048?i=(i=i>>>8^r[(i^(192|o>>6&31))&255])>>>8^r[(i^(128|63&o))&255]:o>=55296&&o<57344?(o=(1023&o)+64,s=1023&e.charCodeAt(n++),i=(i=(i=(i=i>>>8^r[(i^(240|o>>8&7))&255])>>>8^r[(i^(128|o>>2&63))&255])>>>8^r[(i^(128|s>>6&15|(3&o)<<4))&255])>>>8^r[(i^(128|63&s))&255]):i=(i=(i=i>>>8^r[(i^(224|o>>12&15))&255])>>>8^r[(i^(128|o>>6&63))&255])>>>8^r[(i^(128|63&o))&255];return~i};var i5=W(i2),i3={};y="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array,i3.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw TypeError(r+"must be non-object");for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}return e},i3.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)},b={arraySet:function(e,t,r,i,n){if(t.subarray&&e.subarray){e.set(t.subarray(r,r+i),n);return}for(var a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){var t,r,i,n,a,o;for(t=0,i=0,r=e.length;t<r;t++)i+=e[t].length;for(t=0,o=new Uint8Array(i),n=0,r=e.length;t<r;t++)a=e[t],o.set(a,n),n+=a.length;return o}},v={arraySet:function(e,t,r,i,n){for(var a=0;a<i;a++)e[n+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}},i3.setTyped=function(e){e?(i3.Buf8=Uint8Array,i3.Buf16=Uint16Array,i3.Buf32=Int32Array,i3.assign(i3,b)):(i3.Buf8=Array,i3.Buf16=Array,i3.Buf32=Array,i3.assign(i3,v))},i3.setTyped(y);var i6={},i8={},i4={};function i9(e){for(var t=e.length;--t>=0;)e[t]=0}var i7=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ne=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],nt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],nr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ni=Array(576);i9(ni);var nn=Array(60);i9(nn);var na=Array(512);i9(na);var no=Array(256);i9(no);var ns=Array(29);i9(ns);var nl=Array(30);function nu(e,t,r,i,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}function nc(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function nf(e){return e<256?na[e]:na[256+(e>>>7)]}function nh(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function nd(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,nh(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function np(e,t,r){nd(e,r[2*t],r[2*t+1])}function ng(e,t){var r=0;do r|=1&e,e>>>=1,r<<=1;while(--t>0)return r>>>1}function nm(e,t,r){var i,n,a=Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+r[i-1]<<1;for(n=0;n<=t;n++){var s=e[2*n+1];0!==s&&(e[2*n]=ng(a[s]++,s))}}function nw(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function n_(e){e.bi_valid>8?nh(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function ny(e,t,r,i){var n=2*t,a=2*r;return e[n]<e[a]||e[n]===e[a]&&i[t]<=i[r]}function nb(e,t,r){for(var i=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&ny(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!ny(t,i,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=i}function nv(e,t,r){var i,n,a,o,s=0;if(0!==e.last_lit)do i=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],n=e.pending_buf[e.l_buf+s],s++,0===i?np(e,n,t):(np(e,(a=no[n])+256+1,t),0!==(o=i7[a])&&nd(e,n-=ns[a],o),np(e,a=nf(--i),r),0!==(o=ne[a])&&nd(e,i-=nl[a],o));while(s<e.last_lit)np(e,256,t)}function nE(e,t){var r,i,n,a=t.dyn_tree,o=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(r=0,e.heap_len=0,e.heap_max=573;r<l;r++)0!==a[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):a[2*r+1]=0;for(;e.heap_len<2;)a[2*(n=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[n]=0,e.opt_len--,s&&(e.static_len-=o[2*n+1]);for(t.max_code=u,r=e.heap_len>>1;r>=1;r--)nb(e,a,r);n=l;do r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],nb(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=i,a[2*n]=a[2*r]+a[2*i],e.depth[n]=(e.depth[r]>=e.depth[i]?e.depth[r]:e.depth[i])+1,a[2*r+1]=a[2*i+1]=n,e.heap[1]=n++,nb(e,a,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,i,n,a,o,s,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,f=t.stat_desc.has_stree,h=t.stat_desc.extra_bits,d=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(l[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(a=l[2*l[2*(i=e.heap[r])+1]+1]+1)>p&&(a=p,g++),l[2*i+1]=a,!(i>u)&&(e.bl_count[a]++,o=0,i>=d&&(o=h[i-d]),s=l[2*i],e.opt_len+=s*(a+o),f&&(e.static_len+=s*(c[2*i+1]+o)));if(0!==g){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,g-=2}while(g>0)for(a=p;0!==a;a--)for(i=e.bl_count[a];0!==i;)!((n=e.heap[--r])>u)&&(l[2*n+1]!==a&&(e.opt_len+=(a-l[2*n+1])*l[2*n],l[2*n+1]=a),i--)}}(e,t),nm(a,u,e.bl_count)}function nS(e,t,r){var i,n,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),t[(r+1)*2+1]=65535,i=0;i<=r;i++)n=o,o=t[(i+1)*2+1],++s<l&&n===o||(s<u?e.bl_tree[2*n]+=s:0!==n?(n!==a&&e.bl_tree[2*n]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,a=n,0===o?(l=138,u=3):n===o?(l=6,u=3):(l=7,u=4))}function nx(e,t,r){var i,n,a=-1,o=t[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),i=0;i<=r;i++)if(n=o,o=t[(i+1)*2+1],!(++s<l)||n!==o){if(s<u)do np(e,n,e.bl_tree);while(0!=--s)else 0!==n?(n!==a&&(np(e,n,e.bl_tree),s--),np(e,16,e.bl_tree),nd(e,s-3,2)):s<=10?(np(e,17,e.bl_tree),nd(e,s-3,3)):(np(e,18,e.bl_tree),nd(e,s-11,7));s=0,a=n,0===o?(l=138,u=3):n===o?(l=6,u=3):(l=7,u=4)}}i9(nl);var nk=!1;function nA(e,t,r,i){nd(e,0+(i?1:0),3),n_(e),nh(e,r),nh(e,~r),i3.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}i4._tr_init=function(e){nk||(function(){var e,t,r,i,n,a=Array(16);for(i=0,r=0;i<28;i++)for(e=0,ns[i]=r;e<1<<i7[i];e++)no[r++]=i;for(no[r-1]=i,n=0,i=0;i<16;i++)for(e=0,nl[i]=n;e<1<<ne[i];e++)na[n++]=i;for(n>>=7;i<30;i++)for(e=0,nl[i]=n<<7;e<1<<ne[i]-7;e++)na[256+n++]=i;for(t=0;t<=15;t++)a[t]=0;for(e=0;e<=143;)ni[2*e+1]=8,e++,a[8]++;for(;e<=255;)ni[2*e+1]=9,e++,a[9]++;for(;e<=279;)ni[2*e+1]=7,e++,a[7]++;for(;e<=287;)ni[2*e+1]=8,e++,a[8]++;for(nm(ni,287,a),e=0;e<30;e++)nn[2*e+1]=5,nn[2*e]=ng(e,5);x=new nu(ni,i7,257,286,15),k=new nu(nn,ne,0,30,15),A=new nu([],nt,0,19,7)}(),nk=!0),e.l_desc=new nc(e.dyn_ltree,x),e.d_desc=new nc(e.dyn_dtree,k),e.bl_desc=new nc(e.bl_tree,A),e.bi_buf=0,e.bi_valid=0,nw(e)},i4._tr_stored_block=nA,i4._tr_flush_block=function(e,t,r,i){var n,a,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),nE(e,e.l_desc),nE(e,e.d_desc),o=function(e){var t;for(nS(e,e.dyn_ltree,e.l_desc.max_code),nS(e,e.dyn_dtree,e.d_desc.max_code),nE(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*nr[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),n=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=n&&(n=a)):n=a=r+5,r+4<=n&&-1!==t?nA(e,t,r,i):4===e.strategy||a===n?(nd(e,2+(i?1:0),3),nv(e,ni,nn)):(nd(e,4+(i?1:0),3),function(e,t,r,i){var n;for(nd(e,t-257,5),nd(e,r-1,5),nd(e,i-4,4),n=0;n<i;n++)nd(e,e.bl_tree[2*nr[n]+1],3);nx(e,e.dyn_ltree,t-1),nx(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),nv(e,e.dyn_ltree,e.dyn_dtree)),nw(e),i&&n_(e)},i4._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[(no[r]+256+1)*2]++,e.dyn_dtree[2*nf(t)]++),e.last_lit===e.lit_bufsize-1},i4._tr_align=function(e){nd(e,2,3),np(e,256,ni),16===e.bi_valid?(nh(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)};var nR=function(e,t,r,i){for(var n=65535&e|0,a=e>>>16&65535|0,o=0;0!==r;){o=r>2e3?2e3:r,r-=o;do a=a+(n=n+t[i++]|0)|0;while(--o)n%=65521,a%=65521}return n|a<<16|0},nO=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}(),n$=function(e,t,r,i){var n=i+r;e^=-1;for(var a=i;a<n;a++)e=e>>>8^nO[(e^t[a])&255];return -1^e},nC={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function nP(e,t){return e.msg=nC[t],t}function nT(e){return(e<<1)-(e>4?9:0)}function nM(e){for(var t=e.length;--t>=0;)e[t]=0}function nI(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i3.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function nB(e,t){i4._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,nI(e.strm)}function nL(e,t){e.pending_buf[e.pending++]=t}function nj(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function nD(e,t){var r,i,n=e.max_chain_length,a=e.strstart,o=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,c=e.w_mask,f=e.prev,h=e.strstart+258,d=u[a+o-1],p=u[a+o];e.prev_length>=e.good_match&&(n>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(r=t)+o]!==p||u[r+o-1]!==d||u[r]!==u[a]||u[++r]!==u[a+1])continue;a+=2,r++;do;while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<h)if(i=258-(h-a),a=h-258,i>o){if(e.match_start=t,o=i,i>=s)break;d=u[a+o-1],p=u[a+o]}}while((t=f[t&c])>l&&0!=--n)return o<=e.lookahead?o:e.lookahead}function nN(e){var t,r,i,n,a,o=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=o+(o-262)){i3.arraySet(e.window,e.window,o,o,0),e.match_start-=o,e.strstart-=o,e.block_start-=o,t=r=e.hash_size;do i=e.head[--t],e.head[t]=i>=o?i-o:0;while(--r)t=r=o;do i=e.prev[--t],e.prev[t]=i>=o?i-o:0;while(--r)n+=o}if(0===e.strm.avail_in)break;if(r=function(e,t,r,i){var n=e.avail_in;return(n>i&&(n=i),0===n)?0:(e.avail_in-=n,i3.arraySet(t,e.input,e.next_in,n,r),1===e.state.wrap?e.adler=nR(e.adler,t,n,r):2===e.state.wrap&&(e.adler=n$(e.adler,t,n,r)),e.next_in+=n,e.total_in+=n,n)}(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[a+3-1])&e.hash_mask,e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function nH(e,t){for(var r,i;;){if(e.lookahead<262){if(nN(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=nD(e,r)),e.match_length>=3){if(i=i4._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask}else i=i4._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(nB(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,4===t)?(nB(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(nB(e,!1),0===e.strm.avail_out)?1:2}function nF(e,t){for(var r,i,n;;){if(e.lookahead<262){if(nN(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=nD(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-3,i=i4._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,i&&(nB(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=i4._tr_tally(e,0,e.window[e.strstart-1]))&&nB(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(i=i4._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t)?(nB(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(nB(e,!1),0===e.strm.avail_out)?1:2}function nU(e,t,r,i,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=i,this.func=n}function nz(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i3.Buf16(1146),this.dyn_dtree=new i3.Buf16(122),this.bl_tree=new i3.Buf16(78),nM(this.dyn_ltree),nM(this.dyn_dtree),nM(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i3.Buf16(16),this.heap=new i3.Buf16(573),nM(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i3.Buf16(573),nM(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function nG(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,i4._tr_init(t),0):nP(e,-2)}function nW(e){var t,r=nG(e);return 0===r&&((t=e.state).window_size=2*t.w_size,nM(t.head),t.max_lazy_match=R[t.level].max_lazy,t.good_match=R[t.level].good_length,t.nice_match=R[t.level].nice_length,t.max_chain_length=R[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),r}function nq(e,t,r,i,n,a){if(!e)return -2;var o=1;if(-1===t&&(t=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>9||8!==r||i<8||i>15||t<0||t>9||a<0||a>4)return nP(e,-2);8===i&&(i=9);var s=new nz;return e.state=s,s.strm=e,s.wrap=o,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=n+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new i3.Buf8(2*s.w_size),s.head=new i3.Buf16(s.hash_size),s.prev=new i3.Buf16(s.w_size),s.lit_bufsize=1<<n+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new i3.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=r,nW(e)}R=[new nU(0,0,0,0,function(e,t){var r=65535;for(65535>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(nN(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+r;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,nB(e,!1),0===e.strm.avail_out)||e.strstart-e.block_start>=e.w_size-262&&(nB(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(nB(e,!0),0===e.strm.avail_out)?3:4:(e.strstart>e.block_start&&(nB(e,!1),e.strm.avail_out),1)}),new nU(4,4,8,4,nH),new nU(4,5,16,8,nH),new nU(4,6,32,32,nH),new nU(4,4,16,16,nF),new nU(8,16,32,32,nF),new nU(8,16,128,128,nF),new nU(8,32,128,256,nF),new nU(32,128,258,1024,nF),new nU(32,258,258,4096,nF)],i8.deflateInit=function(e,t){return nq(e,t,8,15,8,0)},i8.deflateInit2=nq,i8.deflateReset=nW,i8.deflateResetKeep=nG,i8.deflateSetHeader=function(e,t){return e&&e.state&&2===e.state.wrap?(e.state.gzhead=t,0):-2},i8.deflate=function(e,t){if(!e||!e.state||t>5||t<0)return e?nP(e,-2):-2;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&4!==t)return nP(e,0===e.avail_out?-5:-2);if(i.strm=e,r=i.last_flush,i.last_flush=t,42===i.status){if(2===i.wrap)e.adler=0,nL(i,31),nL(i,139),nL(i,8),i.gzhead?(nL(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),nL(i,255&i.gzhead.time),nL(i,i.gzhead.time>>8&255),nL(i,i.gzhead.time>>16&255),nL(i,i.gzhead.time>>24&255),nL(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),nL(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(nL(i,255&i.gzhead.extra.length),nL(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=n$(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(nL(i,0),nL(i,0),nL(i,0),nL(i,0),nL(i,0),nL(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),nL(i,3),i.status=113);else{var r,i,n,a,o=8+(i.w_bits-8<<4)<<8;o|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(o|=32),o+=31-o%31,i.status=113,nj(i,o),0!==i.strstart&&(nj(i,e.adler>>>16),nj(i,65535&e.adler)),e.adler=1}}if(69===i.status){if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=n$(e.adler,i.pending_buf,i.pending-n,n)),nI(e),n=i.pending,i.pending!==i.pending_buf_size));)nL(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=n$(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73}if(73===i.status){if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=n$(e.adler,i.pending_buf,i.pending-n,n)),nI(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,nL(i,a)}while(0!==a)i.gzhead.hcrc&&i.pending>n&&(e.adler=n$(e.adler,i.pending_buf,i.pending-n,n)),0===a&&(i.gzindex=0,i.status=91)}else i.status=91}if(91===i.status){if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=n$(e.adler,i.pending_buf,i.pending-n,n)),nI(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}a=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,nL(i,a)}while(0!==a)i.gzhead.hcrc&&i.pending>n&&(e.adler=n$(e.adler,i.pending_buf,i.pending-n,n)),0===a&&(i.status=103)}else i.status=103}if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&nI(e),i.pending+2<=i.pending_buf_size&&(nL(i,255&e.adler),nL(i,e.adler>>8&255),e.adler=0,i.status=113)):i.status=113),0!==i.pending){if(nI(e),0===e.avail_out)return i.last_flush=-1,0}else if(0===e.avail_in&&nT(t)<=nT(r)&&4!==t)return nP(e,-5);if(666===i.status&&0!==e.avail_in)return nP(e,-5);if(0!==e.avail_in||0!==i.lookahead||0!==t&&666!==i.status){var s=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(nN(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=i4._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(nB(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(nB(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(nB(e,!1),0===e.strm.avail_out)?1:2}(i,t):3===i.strategy?function(e,t){for(var r,i,n,a,o=e.window;;){if(e.lookahead<=258){if(nN(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=o[n=e.strstart-1])===o[++n]&&i===o[++n]&&i===o[++n]){a=e.strstart+258;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a)e.match_length=258-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=i4._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=i4._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(nB(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,4===t)?(nB(e,!0),0===e.strm.avail_out)?3:4:e.last_lit&&(nB(e,!1),0===e.strm.avail_out)?1:2}(i,t):R[i.level].func(i,t);if((3===s||4===s)&&(i.status=666),1===s||3===s)return 0===e.avail_out&&(i.last_flush=-1),0;if(2===s&&(1===t?i4._tr_align(i):5!==t&&(i4._tr_stored_block(i,0,0,!1),3===t&&(nM(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),nI(e),0===e.avail_out))return i.last_flush=-1,0}return 4!==t?0:i.wrap<=0?1:(2===i.wrap?(nL(i,255&e.adler),nL(i,e.adler>>8&255),nL(i,e.adler>>16&255),nL(i,e.adler>>24&255),nL(i,255&e.total_in),nL(i,e.total_in>>8&255),nL(i,e.total_in>>16&255),nL(i,e.total_in>>24&255)):(nj(i,e.adler>>>16),nj(i,65535&e.adler)),nI(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},i8.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?nP(e,-2):(e.state=null,113===t?nP(e,-3):0):-2},i8.deflateSetDictionary=function(e,t){var r,i,n,a,o,s,l,u,c=t.length;if(!e||!e.state||2===(a=(r=e.state).wrap)||1===a&&42!==r.status||r.lookahead)return -2;for(1===a&&(e.adler=nR(e.adler,t,c,0)),r.wrap=0,c>=r.w_size&&(0===a&&(nM(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new i3.Buf8(r.w_size),i3.arraySet(u,t,c-r.w_size,r.w_size,0),t=u,c=r.w_size),o=e.avail_in,s=e.next_in,l=e.input,e.avail_in=c,e.next_in=0,e.input=t,nN(r);r.lookahead>=3;){i=r.strstart,n=r.lookahead-2;do r.ins_h=(r.ins_h<<r.hash_shift^r.window[i+3-1])&r.hash_mask,r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++;while(--n)r.strstart=i,r.lookahead=2,nN(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=l,e.avail_in=o,r.wrap=a,0},i8.deflateInfo="pako deflate (from Nodeca project)";var nV={},nZ=!0,nK=!0;try{String.fromCharCode.apply(null,[0])}catch(e){nZ=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){nK=!1}for(var nQ=new i3.Buf8(256),nY=0;nY<256;nY++)nQ[nY]=nY>=252?6:nY>=248?5:nY>=240?4:nY>=224?3:nY>=192?2:1;function nX(e,t){if(t<65534&&(e.subarray&&nK||!e.subarray&&nZ))return String.fromCharCode.apply(null,i3.shrinkBuf(e,t));for(var r="",i=0;i<t;i++)r+=String.fromCharCode(e[i]);return r}nQ[254]=nQ[254]=1,nV.string2buf=function(e){var t,r,i,n,a,o=e.length,s=0;for(n=0;n<o;n++)(64512&(r=e.charCodeAt(n)))==55296&&n+1<o&&(64512&(i=e.charCodeAt(n+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),n++),s+=r<128?1:r<2048?2:r<65536?3:4;for(a=0,t=new i3.Buf8(s),n=0;a<s;n++)(64512&(r=e.charCodeAt(n)))==55296&&n+1<o&&(64512&(i=e.charCodeAt(n+1)))==56320&&(r=65536+(r-55296<<10)+(i-56320),n++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},nV.buf2binstring=function(e){return nX(e,e.length)},nV.binstring2buf=function(e){for(var t=new i3.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},nV.buf2string=function(e,t){var r,i,n,a,o=t||e.length,s=Array(2*o);for(i=0,r=0;r<o;){if((n=e[r++])<128){s[i++]=n;continue}if((a=nQ[n])>4){s[i++]=65533,r+=a-1;continue}for(n&=2===a?31:3===a?15:7;a>1&&r<o;)n=n<<6|63&e[r++],a--;if(a>1){s[i++]=65533;continue}n<65536?s[i++]=n:(n-=65536,s[i++]=55296|n>>10&1023,s[i++]=56320|1023&n)}return nX(s,i)},nV.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&(192&e[r])==128;)r--;return r<0||0===r?t:r+nQ[e[r]]>t?r:t};var nJ=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},n0=Object.prototype.toString;function n1(e){if(!(this instanceof n1))return new n1(e);this.options=i3.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t,r=this.options;r.raw&&r.windowBits>0?r.windowBits=-r.windowBits:r.gzip&&r.windowBits>0&&r.windowBits<16&&(r.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nJ,this.strm.avail_out=0;var i=i8.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(0!==i)throw Error(nC[i]);if(r.header&&i8.deflateSetHeader(this.strm,r.header),r.dictionary){if(t="string"==typeof r.dictionary?nV.string2buf(r.dictionary):"[object ArrayBuffer]"===n0.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,0!==(i=i8.deflateSetDictionary(this.strm,t)))throw Error(nC[i]);this._dict_set=!0}}function n2(e,t){var r=new n1(t);if(r.push(e,!0),r.err)throw r.msg||nC[r.err];return r.result}n1.prototype.push=function(e,t){var r,i,n=this.strm,a=this.options.chunkSize;if(this.ended)return!1;i=t===~~t?t:!0===t?4:0,"string"==typeof e?n.input=nV.string2buf(e):"[object ArrayBuffer]"===n0.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new i3.Buf8(a),n.next_out=0,n.avail_out=a),1!==(r=i8.deflate(n,i))&&0!==r)return this.onEnd(r),this.ended=!0,!1;(0===n.avail_out||0===n.avail_in&&(4===i||2===i))&&("string"===this.options.to?this.onData(nV.buf2binstring(i3.shrinkBuf(n.output,n.next_out))):this.onData(i3.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&1!==r)return 4===i?(r=i8.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,0===r):(2===i&&(this.onEnd(0),n.avail_out=0),!0)},n1.prototype.onData=function(e){this.chunks.push(e)},n1.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i3.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i6.Deflate=n1,i6.deflate=n2,i6.deflateRaw=function(e,t){return(t=t||{}).raw=!0,n2(e,t)},i6.gzip=function(e,t){return(t=t||{}).gzip=!0,n2(e,t)};var n5={},n3={},n6=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],n8=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n4=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n9=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64],n7=function(e,t){var r,i,n,a,o,s,l,u,c,f,h,d,p,g,m,w,_,y,b,v,E,S,x,k,A;r=e.state,i=e.next_in,k=e.input,n=i+(e.avail_in-5),a=e.next_out,A=e.output,o=a-(t-e.avail_out),s=a+(e.avail_out-257),l=r.dmax,u=r.wsize,c=r.whave,f=r.wnext,h=r.window,d=r.hold,p=r.bits,g=r.lencode,m=r.distcode,w=(1<<r.lenbits)-1,_=(1<<r.distbits)-1;e:do for(p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),y=g[d&w];;){if(d>>>=b=y>>>24,p-=b,0==(b=y>>>16&255))A[a++]=65535&y;else if(16&b)for(v=65535&y,(b&=15)&&(p<b&&(d+=k[i++]<<p,p+=8),v+=d&(1<<b)-1,d>>>=b,p-=b),p<15&&(d+=k[i++]<<p,p+=8,d+=k[i++]<<p,p+=8),y=m[d&_];;){if(d>>>=b=y>>>24,p-=b,16&(b=y>>>16&255)){if(E=65535&y,p<(b&=15)&&(d+=k[i++]<<p,(p+=8)<b&&(d+=k[i++]<<p,p+=8)),(E+=d&(1<<b)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=b,p-=b,E>(b=a-o)){if((b=E-b)>c&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=0,x=h,0===f){if(S+=u-b,b<v){v-=b;do A[a++]=h[S++];while(--b)S=a-E,x=A}}else if(f<b){if(S+=u+f-b,(b-=f)<v){v-=b;do A[a++]=h[S++];while(--b)if(S=0,f<v){v-=b=f;do A[a++]=h[S++];while(--b)S=a-E,x=A}}}else if(S+=f-b,b<v){v-=b;do A[a++]=h[S++];while(--b)S=a-E,x=A}for(;v>2;)A[a++]=x[S++],A[a++]=x[S++],A[a++]=x[S++],v-=3;v&&(A[a++]=x[S++],v>1&&(A[a++]=x[S++]))}else{S=a-E;do A[a++]=A[S++],A[a++]=A[S++],A[a++]=A[S++],v-=3;while(v>2)v&&(A[a++]=A[S++],v>1&&(A[a++]=A[S++]))}}else if((64&b)==0){y=m[(65535&y)+(d&(1<<b)-1)];continue}else{e.msg="invalid distance code",r.mode=30;break e}break}else if((64&b)==0){y=g[(65535&y)+(d&(1<<b)-1)];continue}else if(32&b){r.mode=12;break e}else{e.msg="invalid literal/length code",r.mode=30;break e}break}while(i<n&&a<s)i-=v=p>>3,p-=v<<3,d&=(1<<p)-1,e.next_in=i,e.next_out=a,e.avail_in=i<n?5+(n-i):5-(i-n),e.avail_out=a<s?257+(s-a):257-(a-s),r.hold=d,r.bits=p},ae=function(e,t,r,i,n,a,o,s){var l,u,c,f,h,d,p,g,m,w=s.bits,_=0,y=0,b=0,v=0,E=0,S=0,x=0,k=0,A=0,R=0,O=null,$=0,C=new i3.Buf16(16),P=new i3.Buf16(16),T=null,M=0;for(_=0;_<=15;_++)C[_]=0;for(y=0;y<i;y++)C[t[r+y]]++;for(v=15,E=w;v>=1&&0===C[v];v--);if(E>v&&(E=v),0===v)return n[a++]=20971520,n[a++]=20971520,s.bits=1,0;for(b=1;b<v&&0===C[b];b++);for(E<b&&(E=b),k=1,_=1;_<=15;_++)if(k<<=1,(k-=C[_])<0)return -1;if(k>0&&(0===e||1!==v))return -1;for(_=1,P[1]=0;_<15;_++)P[_+1]=P[_]+C[_];for(y=0;y<i;y++)0!==t[r+y]&&(o[P[t[r+y]]++]=y);if(0===e?(O=T=o,d=19):1===e?(O=n6,$-=257,T=n8,M-=257,d=256):(O=n4,T=n9,d=-1),R=0,y=0,_=b,h=a,S=E,x=0,c=-1,f=(A=1<<E)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){p=_-x,o[y]<d?(g=0,m=o[y]):o[y]>d?(g=T[M+o[y]],m=O[$+o[y]]):(g=96,m=0),l=1<<_-x,b=u=1<<S;do n[h+(R>>x)+(u-=l)]=p<<24|g<<16|m|0;while(0!==u)for(l=1<<_-1;R&l;)l>>=1;if(0!==l?(R&=l-1,R+=l):R=0,y++,0==--C[_]){if(_===v)break;_=t[r+o[y]]}if(_>E&&(R&f)!==c){for(0===x&&(x=E),h+=b,k=1<<(S=_-x);S+x<v&&!((k-=C[S+x])<=0);)S++,k<<=1;if(A+=1<<S,1===e&&A>852||2===e&&A>592)return 1;n[c=R&f]=E<<24|S<<16|h-a|0}}return 0!==R&&(n[h+R]=_-x<<24|4194304),s.bits=E,0};function at(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ar(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i3.Buf16(320),this.work=new i3.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ai(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i3.Buf32(852),t.distcode=t.distdyn=new i3.Buf32(592),t.sane=1,t.back=-1,0):-2}function an(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,ai(e)):-2}function aa(e,t){var r,i;return e&&e.state?(i=e.state,t<0?(r=0,t=-t):(r=(t>>4)+1,t<48&&(t&=15)),t&&(t<8||t>15))?-2:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=r,i.wbits=t,an(e)):-2}function ao(e,t){var r,i;return e?(i=new ar,e.state=i,i.window=null,0!==(r=aa(e,t))&&(e.state=null),r):-2}var as=!0;function al(e,t,r,i){var n,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i3.Buf8(a.wsize)),i>=a.wsize?(i3.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((n=a.wsize-a.wnext)>i&&(n=i),i3.arraySet(a.window,t,r-i,n,a.wnext),(i-=n)?(i3.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}n3.inflateReset=an,n3.inflateReset2=aa,n3.inflateResetKeep=ai,n3.inflateInit=function(e){return ao(e,15)},n3.inflateInit2=ao,n3.inflate=function(e,t){var r,i,n,a,o,s,l,u,c,f,h,d,p,g,m,w,_,y,b,v,E,S,x,k,A=0,R=new i3.Buf8(4),C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return -2;12===(r=e.state).mode&&(r.mode=13),o=e.next_out,n=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,u=r.hold,c=r.bits,f=s,h=l,S=0;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;c<16;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(2&r.wrap&&35615===u){r.check=0,R[0]=255&u,R[1]=u>>>8&255,r.check=n$(r.check,R,2,0),u=0,c=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if((15&u)!=8){e.msg="unknown compression method",r.mode=30;break}if(u>>>=4,c-=4,E=(15&u)+8,0===r.wbits)r.wbits=E;else if(E>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<E,e.adler=r.check=1,r.mode=512&u?10:12,u=0,c=0;break;case 2:for(;c<16;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(r.flags=u,(255&r.flags)!=8){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(R[0]=255&u,R[1]=u>>>8&255,r.check=n$(r.check,R,2,0)),u=0,c=0,r.mode=3;case 3:for(;c<32;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}r.head&&(r.head.time=u),512&r.flags&&(R[0]=255&u,R[1]=u>>>8&255,R[2]=u>>>16&255,R[3]=u>>>24&255,r.check=n$(r.check,R,4,0)),u=0,c=0,r.mode=4;case 4:for(;c<16;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(R[0]=255&u,R[1]=u>>>8&255,r.check=n$(r.check,R,2,0)),u=0,c=0,r.mode=5;case 5:if(1024&r.flags){for(;c<16;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(R[0]=255&u,R[1]=u>>>8&255,r.check=n$(r.check,R,2,0)),u=0,c=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&((d=r.length)>s&&(d=s),d&&(r.head&&(E=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),i3.arraySet(r.head.extra,i,a,d,E)),512&r.flags&&(r.check=n$(r.check,i,d,a)),s-=d,a+=d,r.length-=d),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===s)break t;d=0;do E=i[a+d++],r.head&&E&&r.length<65536&&(r.head.name+=String.fromCharCode(E));while(E&&d<s)if(512&r.flags&&(r.check=n$(r.check,i,d,a)),s-=d,a+=d,E)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===s)break t;d=0;do E=i[a+d++],r.head&&E&&r.length<65536&&(r.head.comment+=String.fromCharCode(E));while(E&&d<s)if(512&r.flags&&(r.check=n$(r.check,i,d,a)),s-=d,a+=d,E)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;c<16;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}u=0,c=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;c<32;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}e.adler=r.check=at(u),u=0,c=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break t;case 13:if(r.last){u>>>=7&c,c-=7&c,r.mode=27;break}for(;c<3;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}switch(r.last=1&u,c-=1,3&(u>>>=1)){case 0:r.mode=14;break;case 1:if(function(e){if(as){var t;for(O=new i3.Buf32(512),$=new i3.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ae(1,e.lens,0,288,O,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ae(2,e.lens,0,32,$,0,e.work,{bits:5}),as=!1}e.lencode=O,e.lenbits=9,e.distcode=$,e.distbits=5}(r),r.mode=20,6===t){u>>>=2,c-=2;break t}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,c-=2;break;case 14:for(u>>>=7&c,c-=7&c;c<32;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,u=0,c=0,r.mode=15,6===t)break t;case 15:r.mode=16;case 16:if(d=r.length){if(d>s&&(d=s),d>l&&(d=l),0===d)break t;i3.arraySet(n,i,a,d,o),s-=d,a+=d,l-=d,o+=d,r.length-=d;break}r.mode=12;break;case 17:for(;c<14;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(r.nlen=(31&u)+257,u>>>=5,c-=5,r.ndist=(31&u)+1,u>>>=5,c-=5,r.ncode=(15&u)+4,u>>>=4,c-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;c<3;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}r.lens[C[r.have++]]=7&u,u>>>=3,c-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,x={bits:r.lenbits},S=ae(0,r.lens,0,19,r.lencode,0,r.work,x),r.lenbits=x.bits,S){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;m=(A=r.lencode[u&(1<<r.lenbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(_<16)u>>>=m,c-=m,r.lens[r.have++]=_;else{if(16===_){for(k=m+2;c<k;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(u>>>=m,c-=m,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}E=r.lens[r.have-1],d=3+(3&u),u>>>=2,c-=2}else if(17===_){for(k=m+3;c<k;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}u>>>=m,c-=m,E=0,d=3+(7&u),u>>>=3,c-=3}else{for(k=m+7;c<k;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}u>>>=m,c-=m,E=0,d=11+(127&u),u>>>=7,c-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=E}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,x={bits:r.lenbits},S=ae(1,r.lens,0,r.nlen,r.lencode,0,r.work,x),r.lenbits=x.bits,S){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,x={bits:r.distbits},S=ae(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,x),r.distbits=x.bits,S){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break t;case 20:r.mode=21;case 21:if(s>=6&&l>=258){e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,n7(e,h),o=e.next_out,n=e.output,l=e.avail_out,a=e.next_in,i=e.input,s=e.avail_in,u=r.hold,c=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;m=(A=r.lencode[u&(1<<r.lenbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(w&&(240&w)==0){for(y=m,b=w,v=_;m=(A=r.lencode[v+((u&(1<<y+b)-1)>>y)])>>>24,w=A>>>16&255,_=65535&A,!(y+m<=c);){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}u>>>=y,c-=y,r.back+=y}if(u>>>=m,c-=m,r.back+=m,r.length=_,0===w){r.mode=26;break}if(32&w){r.back=-1,r.mode=12;break}if(64&w){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&w,r.mode=22;case 22:if(r.extra){for(k=r.extra;c<k;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;m=(A=r.distcode[u&(1<<r.distbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if((240&w)==0){for(y=m,b=w,v=_;m=(A=r.distcode[v+((u&(1<<y+b)-1)>>y)])>>>24,w=A>>>16&255,_=65535&A,!(y+m<=c);){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}u>>>=y,c-=y,r.back+=y}if(u>>>=m,c-=m,r.back+=m,64&w){e.msg="invalid distance code",r.mode=30;break}r.offset=_,r.extra=15&w,r.mode=24;case 24:if(r.extra){for(k=r.extra;c<k;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,c-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===l)break t;if(d=h-l,r.offset>d){if((d=r.offset-d)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),g=r.window}else g=n,p=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do n[o++]=g[p++];while(--d)0===r.length&&(r.mode=21);break;case 26:if(0===l)break t;n[o++]=r.length,l--,r.mode=21;break;case 27:if(r.wrap){for(;c<32;){if(0===s)break t;s--,u|=i[a++]<<c,c+=8}if(h-=l,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?n$(r.check,n,h,o-h):nR(r.check,n,h,o-h)),h=l,(r.flags?u:at(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}u=0,c=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;c<32;){if(0===s)break t;s--,u+=i[a++]<<c,c+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}u=0,c=0}r.mode=29;case 29:S=1;break t;case 30:S=-3;break t;case 31:return -4;default:return -2}return e.next_out=o,e.avail_out=l,e.next_in=a,e.avail_in=s,r.hold=u,r.bits=c,(r.wsize||h!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&al(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?n$(r.check,n,h,e.next_out-h):nR(r.check,n,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===f&&0===h||4===t)&&0===S&&(S=-5),S},n3.inflateEnd=function(e){if(!e||!e.state)return -2;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n3.inflateGetHeader=function(e,t){var r;return e&&e.state&&(2&(r=e.state).wrap)!=0?(r.head=t,t.done=!1,0):-2},n3.inflateSetDictionary=function(e,t){var r,i=t.length;return e&&e.state&&(0===(r=e.state).wrap||11===r.mode)?11===r.mode&&nR(1,t,i,0)!==r.check?-3:al(e,t,i,i)?(r.mode=31,-4):(r.havedict=1,0):-2},n3.inflateInfo="pako inflate (from Nodeca project)";var au={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},ac=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},af=Object.prototype.toString;function ah(e){if(!(this instanceof ah))return new ah(e);this.options=i3.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new nJ,this.strm.avail_out=0;var r=n3.inflateInit2(this.strm,t.windowBits);if(r!==au.Z_OK||(this.header=new ac,n3.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=nV.string2buf(t.dictionary):"[object ArrayBuffer]"===af.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=n3.inflateSetDictionary(this.strm,t.dictionary))!==au.Z_OK)))throw Error(nC[r])}function ad(e,t){var r=new ah(t);if(r.push(e,!0),r.err)throw r.msg||nC[r.err];return r.result}ah.prototype.push=function(e,t){var r,i,n,a,o,s=this.strm,l=this.options.chunkSize,u=this.options.dictionary,c=!1;if(this.ended)return!1;i=t===~~t?t:!0===t?au.Z_FINISH:au.Z_NO_FLUSH,"string"==typeof e?s.input=nV.binstring2buf(e):"[object ArrayBuffer]"===af.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i3.Buf8(l),s.next_out=0,s.avail_out=l),(r=n3.inflate(s,au.Z_NO_FLUSH))===au.Z_NEED_DICT&&u&&(r=n3.inflateSetDictionary(this.strm,u)),r===au.Z_BUF_ERROR&&!0===c&&(r=au.Z_OK,c=!1),r!==au.Z_STREAM_END&&r!==au.Z_OK)return this.onEnd(r),this.ended=!0,!1;s.next_out&&(0===s.avail_out||r===au.Z_STREAM_END||0===s.avail_in&&(i===au.Z_FINISH||i===au.Z_SYNC_FLUSH))&&("string"===this.options.to?(n=nV.utf8border(s.output,s.next_out),a=s.next_out-n,o=nV.buf2string(s.output,n),s.next_out=a,s.avail_out=l-a,a&&i3.arraySet(s.output,s.output,n,a,0),this.onData(o)):this.onData(i3.shrinkBuf(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(c=!0)}while((s.avail_in>0||0===s.avail_out)&&r!==au.Z_STREAM_END)return(r===au.Z_STREAM_END&&(i=au.Z_FINISH),i===au.Z_FINISH)?(r=n3.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===au.Z_OK):(i===au.Z_SYNC_FLUSH&&(this.onEnd(au.Z_OK),s.avail_out=0),!0)},ah.prototype.onData=function(e){this.chunks.push(e)},ah.prototype.onEnd=function(e){e===au.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i3.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n5.Inflate=ah,n5.inflate=ad,n5.inflateRaw=function(e,t){return(t=t||{}).raw=!0,ad(e,t)},n5.ungzip=ad;var ap=i3.assign,ag={};ap(ag,i6,n5,au);var am=W(ag);const aw=(e,t)=>function(...r){let i=t.promiseModule;return new i((i,n)=>{t.multiArgs?r.push((...e)=>{t.errorFirst?e[0]?n(e):(e.shift(),i(e)):i(e)}):t.errorFirst?r.push((e,t)=>{e?n(e):i(t)}):r.push(i),e.apply(this,r)})};var a_=W((e,t)=>{let r;t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);let i=typeof e;if(!(null!==e&&("object"===i||"function"===i)))throw TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${null===e?"null":i}\``);let n=e=>{let r=t=>"string"==typeof t?e===t:t.test(e);return t.include?t.include.some(r):!t.exclude.some(r)};for(let a in r="function"===i?function(...r){return t.excludeMain?e(...r):aw(e,t).apply(this,r)}:Object.create(Object.getPrototypeOf(e)),e){let i=e[a];r[a]="function"==typeof i&&n(a)?aw(i,t):i}return r});function ay(e){return Array.isArray(e)?e:[e]}const ab=/^\s+$/,av=/(?:[^\\]|^)\\$/,aE=/^\\!/,aS=/^\\#/,ax=/\r?\n/g,ak=/^\.*\/|^\.+$/;let aA="node-ignore";"undefined"!=typeof Symbol&&(aA=Symbol.for("node-ignore"));const aR=aA,aO=(e,t,r)=>Object.defineProperty(e,t,{value:r}),a$=/([0-z])-([0-z])/g,aC=()=>!1,aP=e=>e.replace(a$,(e,t,r)=>t.charCodeAt(0)<=r.charCodeAt(0)?e:""),aT=e=>{let{length:t}=e;return e.slice(0,t-t%2)},aM=[[/\\?\s+$/,e=>0===e.indexOf("\\")?" ":""],[/\\\s/g,()=>" "],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let i=r.replace(/\\\*/g,"[^\\/]*");return t+i}],[/\\\\\\(?=[$.|*+(){^])/g,()=>"\\"],[/\\\\/g,()=>"\\"],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,i,n)=>"\\"===t?`\\[${r}${aT(i)}${n}`:"]"===n&&i.length%2==0?`[${aP(r)}${i}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>{let r=t?`${t}[^/]+`:"[^/]*";return`${r}(?=$|\\/$)`}]],aI=Object.create(null),aB=(e,t)=>{let r=aI[e];return r||(r=aM.reduce((t,r)=>t.replace(r[0],r[1].bind(e)),e),aI[e]=r),t?RegExp(r,"i"):new RegExp(r)},aL=e=>"string"==typeof e,aj=e=>e&&aL(e)&&!ab.test(e)&&!av.test(e)&&0!==e.indexOf("#"),aD=e=>e.split(ax);class aN{constructor(e,t,r,i){this.origin=e,this.pattern=t,this.negative=r,this.regex=i}}const aH=(e,t)=>{let r=e,i=!1;0===e.indexOf("!")&&(i=!0,e=e.substr(1)),e=e.replace(aE,"!").replace(aS,"#");let n=aB(e,t);return new aN(r,e,i,n)},aF=(e,t)=>{throw new t(e)},aU=(e,t,r)=>aL(e)?e?!aU.isNotRelative(e)||r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),az=e=>ak.test(e);aU.isNotRelative=az,aU.convert=e=>e;class aG{constructor({ignorecase:e=!0,ignoreCase:t=e,allowRelativePaths:r=!1}={}){aO(this,aR,!0),this._rules=[],this._ignoreCase=t,this._allowRelativePaths=r,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[aR]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(aj(e)){let t=aH(e,this._ignoreCase);this._added=!0,this._rules.push(t)}}add(e){return this._added=!1,ay(aL(e)?aD(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,t){let r=!1,i=!1;return this._rules.forEach(n=>{let{negative:a}=n;if(i===a&&r!==i||a&&!r&&!i&&!t)return;let o=n.regex.test(e);o&&(r=!a,i=a)}),{ignored:r,unignored:i}}_test(e,t,r,i){let n=e&&aU.convert(e);return aU(n,e,this._allowRelativePaths?aC:aF),this._t(n,t,r,i)}_t(e,t,r,i){if(e in t)return t[e];if(i||(i=e.split("/")),i.pop(),!i.length)return t[e]=this._testOne(e,r);let n=this._t(i.join("/")+"/",t,r,i);return t[e]=n.ignored?n:this._testOne(e,r)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return ay(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}}const aW=e=>new aG(e);if(aW.isPathValid=e=>aU(e&&aU.convert(e),e,aC),aW.default=aW,"undefined"!=typeof process&&(process.env&&process.env.IGNORE_TEST_WIN32||"win32"===process.platform)){aU.convert=e=>/^\\\\\?\\/.test(e)||/["<>|\u0000-\u001F]+/u.test(e)?e:e.replace(/\\/g,"/");let e=/^[a-z]:\//i;aU.isNotRelative=t=>e.test(t)||az(t)}var aq=W(aW);function aV(e,t,r){return t=t instanceof RegExp?t:RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),e.replace(t,r)}var aZ=W({clean:function(e){if("string"!=typeof e)throw Error("Expected a string, received: "+e);return e=aV(e,"./","/"),e=aV(e,"..","."),e=aV(e," ","-"),e=aV(e,/^[~^:?*\\\-]/g,""),e=aV(e,/[~^:?*\\]/g,"-"),e=aV(e,/[~^:?*\\\-]$/g,""),e=aV(e,"@{","-"),e=aV(e,/\.$/g,""),e=aV(e,/\/$/g,""),e=aV(e,/\.lock$/g,"")}}),aK=function(e,t){var r,i,n=e,a=t,o=n.length,s=a.length,l=!1,u=null,c=o+1,f=[],h=[],d=[],p="",g=function(e,t,r){return{x:e,y:t,k:r}},m=function(e,t){return{elem:e,t:t}},w=function(e,t,r){var i,l,u;for(i=t>r?f[e-1+c]:f[e+1+c],l=(u=Math.max(t,r))-e;l<o&&u<s&&n[l]===a[u];)++l,++u;return f[e+c]=h.length,h[h.length]=new g(l,u,i),u},_=function(e){var t,r,i;for(t=r=0,i=e.length-1;i>=0;--i)for(;t<e[i].x||r<e[i].y;)e[i].y-e[i].x>r-t?(l?d[d.length]=new m(a[r],-1):d[d.length]=new m(a[r],1),++r):e[i].y-e[i].x<r-t?(l?d[d.length]=new m(n[t],1):d[d.length]=new m(n[t],-1),++t):(d[d.length]=new m(n[t],0),p+=n[t],++t,++r)};return o>=s&&(r=n,i=o,n=a,a=r,o=s,s=i,l=!0,c=o+1),{SES_DELETE:-1,SES_COMMON:0,SES_ADD:1,editdistance:function(){return u},getlcs:function(){return p},getses:function(){return d},compose:function(){var e,t,r,i,n,a,l,d;for(l=0,e=s-o,t=o+s+3,r={};l<t;++l)r[l]=-1,f[l]=-1;i=-1;do{for(d=-++i;d<=e-1;++d)r[d+c]=w(d,r[d-1+c]+1,r[d+1+c]);for(d=e+i;d>=e+1;--d)r[d+c]=w(d,r[d-1+c]+1,r[d+1+c]);r[e+c]=w(e,r[e-1+c]+1,r[e+1+c])}while(r[e+c]!==s)for(u=e+2*i,n=f[e+c],a=[];-1!==n;)a[a.length]=new g(h[n].x,h[n].y,null),n=h[n].k;_(a)}}};function aQ(e,t){for(var r=[],i=e.length,n=t.length,a=function(e,t){var r,i,n=new aK(e,t);n.compose();for(var a=n.getses(),o=e.length-1,s=t.length-1,l=a.length-1;l>=0;--l)a[l].t===n.SES_COMMON?(i?(i.chain={file1index:o,file2index:s,chain:null},i=i.chain):i=r={file1index:o,file2index:s,chain:null},o--,s--):a[l].t===n.SES_DELETE?o--:a[l].t===n.SES_ADD&&s--;var u={file1index:-1,file2index:-1,chain:null};return i?(i.chain=u,r):u}(e,t);null!==a;a=a.chain){var o=i-a.file1index-1,s=n-a.file2index-1;i=a.file1index,n=a.file2index,(o||s)&&r.push({file1:[i+1,o],file2:[n+1,s]})}return r.reverse(),r}var aY=W(function(e,t,r){var i=[],n=[e,t,r],a=function(e,t,r){var i,n=aQ(t,e),a=aQ(t,r),o=[];function s(e,t){o.push([e.file1[0],t,e.file1[1],e.file2[0],e.file2[1]])}for(i=0;i<n.length;i++)s(n[i],0);for(i=0;i<a.length;i++)s(a[i],2);o.sort(function(e,t){return e[0]-t[0]});var l=[],u=0;function c(e){e>u&&(l.push([1,u,e-u]),u=e)}for(var f=0;f<o.length;f++){for(var h=f,d=o[f],p=d[0],g=p+d[2];f<o.length-1;){var m=o[f+1],w=m[0];if(w>g)break;g=Math.max(g,w+m[2]),f++}if(c(p),h==f)d[4]>0&&l.push([d[1],d[3],d[4]]);else{var _={0:[e.length,-1,t.length,-1],2:[r.length,-1,t.length,-1]};for(i=h;i<=f;i++){var y=_[(d=o[i])[1]],b=d[0],v=b+d[2],E=d[3],S=E+d[4];y[0]=Math.min(E,y[0]),y[1]=Math.max(S,y[1]),y[2]=Math.min(b,y[2]),y[3]=Math.max(v,y[3])}var x=_[0][0]+(p-_[0][2]),k=_[0][1]+(g-_[0][3]),A=_[2][0]+(p-_[2][2]),R=_[2][1]+(g-_[2][3]);l.push([-1,x,k-x,p,g-p,A,R-A])}u=g}return c(t.length),l}(e,t,r),o=[];function s(){o.length&&i.push({ok:o}),o=[]}function l(e){for(var t=0;t<e.length;t++)o.push(e[t])}for(var u=0;u<a.length;u++){var c=a[u],f=c[0];-1==f?function(t){if(t[2]!=t[6])return!0;for(var i=t[1],n=t[5],a=0;a<t[2];a++)if(e[a+i]!=r[a+n])return!0;return!1}(c)?(s(),i.push({conflict:{a:e.slice(c[1],c[1]+c[2]),aIndex:c[1],o:t.slice(c[3],c[3]+c[4]),oIndex:c[3],b:r.slice(c[5],c[5]+c[6]),bIndex:c[5]}})):l(n[0].slice(c[1],c[1]+c[2])):l(n[f].slice(c[1],c[1]+c[2]))}return s(),i});class aX extends Error{constructor(e){super(e),this.caller=""}toJSON(){return{code:this.code,data:this.data,caller:this.caller,message:this.message,stack:this.stack}}fromJSON(e){let t=new aX(e.message);return t.code=e.code,t.data=e.data,t.caller=e.caller,t.stack=e.stack,t}get isIsomorphicGitError(){return!0}}class aJ extends aX{constructor(e){super(`Modifying the index is not possible because you have unmerged files: ${e.toString}. Fix them up in the work tree, and then use 'git add/rm as appropriate to mark resolution and make a commit.`),this.code=this.name=aJ.code,this.data={filepaths:e}}}aJ.code="UnmergedPathsError";class a0 extends aX{constructor(e){super(`An internal error caused this command to fail. Please file a bug report at https://github.com/isomorphic-git/isomorphic-git/issues with this error message: ${e}`),this.code=this.name=a0.code,this.data={message:e}}}a0.code="InternalError";class a1 extends aX{constructor(e){super(`The filepath "${e}" contains unsafe character sequences`),this.code=this.name=a1.code,this.data={filepath:e}}}a1.code="UnsafeFilepathError";class a2{constructor(e){this.buffer=e,this._start=0}eof(){return this._start>=this.buffer.length}tell(){return this._start}seek(e){this._start=e}slice(e){let t=this.buffer.slice(this._start,this._start+e);return this._start+=e,t}toString(e,t){let r=this.buffer.toString(e,this._start,this._start+t);return this._start+=t,r}write(e,t,r){let i=this.buffer.write(e,this._start,t,r);return this._start+=t,i}copy(e,t,r){let i=e.copy(this.buffer,this._start,t,r);return this._start+=i,i}readUInt8(){let e=this.buffer.readUInt8(this._start);return this._start+=1,e}writeUInt8(e){let t=this.buffer.writeUInt8(e,this._start);return this._start+=1,t}readUInt16BE(){let e=this.buffer.readUInt16BE(this._start);return this._start+=2,e}writeUInt16BE(e){let t=this.buffer.writeUInt16BE(e,this._start);return this._start+=2,t}readUInt32BE(){let e=this.buffer.readUInt32BE(this._start);return this._start+=4,e}writeUInt32BE(e){let t=this.buffer.writeUInt32BE(e,this._start);return this._start+=4,t}}function a5(e,t){return-(e<t)||+(e>t)}function a3(e,t){return a5(e.path,t.path)}function a6(e){let t=e>0?e>>12:0;4!==t&&8!==t&&10!==t&&14!==t&&(t=8);let r=511&e;return r=73&r?493:420,8!==t&&(r=0),(t<<12)+r}function a8(e,t,r,i){if(void 0!==e&&void 0!==t)return[e,t];void 0===r&&(r=i.valueOf());let n=Math.floor(r/1e3),a=(r-1e3*n)*1e6;return[n,a]}function a4(e){let[t,r]=a8(e.ctimeSeconds,e.ctimeNanoseconds,e.ctimeMs,e.ctime),[i,n]=a8(e.mtimeSeconds,e.mtimeNanoseconds,e.mtimeMs,e.mtime);return{ctimeSeconds:t%4294967296,ctimeNanoseconds:r%4294967296,mtimeSeconds:i%4294967296,mtimeNanoseconds:n%4294967296,dev:e.dev%4294967296,ino:e.ino%4294967296,mode:a6(e.mode%4294967296),uid:e.uid%4294967296,gid:e.gid%4294967296,size:e.size>-1?e.size%4294967296:0}}let a9=null;async function a7(e){return null===a9&&(a9=await ot()),a9?oe(e):new i1().update(e).digest("hex")}async function oe(e){let t=await crypto.subtle.digest("SHA-1",e);return function(e){let t="";for(let r of new Uint8Array(e))r<16&&(t+="0"),t+=r.toString(16);return t}(t)}async function ot(){try{let e=await oe(new Uint8Array([]));if("da39a3ee5e6b4b0d3255bfef95601890afd80709"===e)return!0}catch(e){}return!1}class or{constructor(e,t){this._dirty=!1,this._unmergedPaths=t||new Set,this._entries=e||new Map}_addEntry(e){if(0===e.flags.stage)e.stages=[e],this._entries.set(e.path,e),this._unmergedPaths.delete(e.path);else{let t=this._entries.get(e.path);t||(this._entries.set(e.path,e),t=e),t.stages[e.flags.stage]=e,this._unmergedPaths.add(e.path)}}static async from(e){if(Buffer.isBuffer(e))return or.fromBuffer(e);if(null===e)return new or(null);throw new a0("invalid type passed to GitIndex.from")}static async fromBuffer(e){if(0===e.length)throw new a0("Index file is empty (.git/index)");let t=new or,r=new a2(e),i=r.toString("utf8",4);if("DIRC"!==i)throw new a0(`Invalid dircache magic file number: ${i}`);let n=await a7(e.slice(0,-20)),a=e.slice(-20).toString("hex");if(a!==n)throw new a0(`Invalid checksum in GitIndex buffer: expected ${a} but saw ${n}`);let o=r.readUInt32BE();if(2!==o)throw new a0(`Unsupported dircache version: ${o}`);let s=r.readUInt32BE(),l=0;for(;!r.eof()&&l<s;){let i={};i.ctimeSeconds=r.readUInt32BE(),i.ctimeNanoseconds=r.readUInt32BE(),i.mtimeSeconds=r.readUInt32BE(),i.mtimeNanoseconds=r.readUInt32BE(),i.dev=r.readUInt32BE(),i.ino=r.readUInt32BE(),i.mode=r.readUInt32BE(),i.uid=r.readUInt32BE(),i.gid=r.readUInt32BE(),i.size=r.readUInt32BE(),i.oid=r.slice(20).toString("hex");let n=r.readUInt16BE();i.flags={assumeValid:!!(32768&n),extended:!!(16384&n),stage:(12288&n)>>12,nameLength:4095&n};let a=e.indexOf(0,r.tell()+1)-r.tell();if(a<1)throw new a0(`Got a path length of: ${a}`);if(i.path=r.toString("utf8",a),i.path.includes("..\\")||i.path.includes("../"))throw new a1(i.path);let o=8-(r.tell()-12)%8;for(0===o&&(o=8);o--;){let e=r.readUInt8();if(0!==e)throw new a0(`Expected 1-8 null characters but got '${e}' after ${i.path}`);if(r.eof())throw new a0("Unexpected end of file")}i.stages=[],t._addEntry(i),l++}return t}get unmergedPaths(){return[...this._unmergedPaths]}get entries(){return[...this._entries.values()].sort(a3)}get entriesMap(){return this._entries}get entriesFlat(){return[...this.entries].flatMap(e=>e.stages.length>1?e.stages.filter(e=>e):e)}*[Symbol.iterator](){for(let e of this.entries)yield e}insert({filepath:e,stats:t,oid:r,stage:i=0}){t||(t={ctimeSeconds:0,ctimeNanoseconds:0,mtimeSeconds:0,mtimeNanoseconds:0,dev:0,ino:0,mode:0,uid:0,gid:0,size:0}),t=a4(t);let n=Buffer.from(e),a={ctimeSeconds:t.ctimeSeconds,ctimeNanoseconds:t.ctimeNanoseconds,mtimeSeconds:t.mtimeSeconds,mtimeNanoseconds:t.mtimeNanoseconds,dev:t.dev,ino:t.ino,mode:t.mode||33188,uid:t.uid,gid:t.gid,size:t.size,path:e,oid:r,flags:{assumeValid:!1,extended:!1,stage:i,nameLength:n.length<4095?n.length:4095},stages:[]};this._addEntry(a),this._dirty=!0}delete({filepath:e}){if(this._entries.has(e))this._entries.delete(e);else for(let t of this._entries.keys())t.startsWith(e+"/")&&this._entries.delete(t);this._unmergedPaths.has(e)&&this._unmergedPaths.delete(e),this._dirty=!0}clear(){this._entries.clear(),this._dirty=!0}has({filepath:e}){return this._entries.has(e)}render(){return this.entries.map(e=>`${e.mode.toString(8)} ${e.oid}    ${e.path}`).join("\n")}static async _entryToBuffer(e){let t=Buffer.from(e.path),r=8*Math.ceil((62+t.length+1)/8),i=Buffer.alloc(r),n=new a2(i),a=a4(e);return n.writeUInt32BE(a.ctimeSeconds),n.writeUInt32BE(a.ctimeNanoseconds),n.writeUInt32BE(a.mtimeSeconds),n.writeUInt32BE(a.mtimeNanoseconds),n.writeUInt32BE(a.dev),n.writeUInt32BE(a.ino),n.writeUInt32BE(a.mode),n.writeUInt32BE(a.uid),n.writeUInt32BE(a.gid),n.writeUInt32BE(a.size),n.write(e.oid,20,"hex"),n.writeUInt16BE(function(e){let t=e.flags;return t.extended=!1,t.nameLength=Math.min(Buffer.from(e.path).length,4095),(t.assumeValid?32768:0)+(t.extended?16384:0)+((3&t.stage)<<12)+(4095&t.nameLength)}(e)),n.write(e.path,t.length,"utf8"),i}async toObject(){let e=Buffer.alloc(12),t=new a2(e);t.write("DIRC",4,"utf8"),t.writeUInt32BE(2),t.writeUInt32BE(this.entriesFlat.length);let r=[];for(let e of this.entries)if(r.push(or._entryToBuffer(e)),e.stages.length>1)for(let t of e.stages)t&&t!==e&&r.push(or._entryToBuffer(t));r=await Promise.all(r);let i=Buffer.concat(r),n=Buffer.concat([e,i]),a=await a7(n);return Buffer.concat([n,Buffer.from(a,"hex")])}}function oi(e,t){let r=a4(e),i=a4(t),n=r.mode!==i.mode||r.mtimeSeconds!==i.mtimeSeconds||r.ctimeSeconds!==i.ctimeSeconds||r.uid!==i.uid||r.gid!==i.gid||r.ino!==i.ino||r.size!==i.size;return n}let on=null;const oa=Symbol("IndexCache");async function oo(e,t,r){let i=await e.lstat(t),n=await e.read(t),a=await or.from(n);r.map.set(t,a),r.stats.set(t,i)}async function os(e,t,r){let i=r.stats.get(t);if(void 0===i)return!0;let n=await e.lstat(t);return null!==i&&null!==n&&oi(i,n)}class ol{static async acquire({fs:e,gitdir:t,cache:r,allowUnmerged:i=!0},n){let a;r[oa]||(r[oa]={map:new Map,stats:new Map});let o=`${t}/index`;null===on&&(on=new iU({maxPending:1/0}));let s=[];return await on.acquire(o,async()=>{await os(e,o,r[oa])&&await oo(e,o,r[oa]);let t=r[oa].map.get(o);if((s=t.unmergedPaths).length&&!i)throw new aJ(s);if(a=await n(t),t._dirty){let i=await t.toObject();await e.write(o,i),r[oa].stats.set(o,await e.lstat(o)),t._dirty=!1}}),a}}function ou(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return t>-1&&(e=e.slice(t+1)),e}function oc(e){let t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return -1===t?".":0===t?"/":e.slice(0,t)}function of(e){let t=new Map,r=function(e){if(!t.has(e)){let i={type:"tree",fullpath:e,basename:ou(e),metadata:{},children:[]};t.set(e,i),i.parent=r(oc(e)),i.parent&&i.parent!==i&&i.parent.children.push(i)}return t.get(e)};for(let i of(r("."),e))!function(e,i){if(!t.has(e)){let n={type:"blob",fullpath:e,basename:ou(e),metadata:i,parent:r(oc(e)),children:[]};n.parent&&n.parent.children.push(n),t.set(e,n)}t.get(e)}(i.path,i);return t}class oh{constructor({fs:e,gitdir:t,cache:r}){this.treePromise=ol.acquire({fs:e,gitdir:t,cache:r},async function(e){return of(e.entries)});let i=this;this.ConstructEntry=class{constructor(e){this._fullpath=e,this._type=!1,this._mode=!1,this._stat=!1,this._oid=!1}async type(){return i.type(this)}async mode(){return i.mode(this)}async stat(){return i.stat(this)}async content(){return i.content(this)}async oid(){return i.oid(this)}}}async readdir(e){let t=e._fullpath,r=await this.treePromise,i=r.get(t);if(!i||"blob"===i.type)return null;if("tree"!==i.type)throw Error(`ENOTDIR: not a directory, scandir '${t}'`);let n=i.children.map(e=>e.fullpath);return n.sort(a5),n}async type(e){return!1===e._type&&await e.stat(),e._type}async mode(e){return!1===e._mode&&await e.stat(),e._mode}async stat(e){if(!1===e._stat){let t=await this.treePromise,r=t.get(e._fullpath);if(!r)throw Error(`ENOENT: no such file or directory, lstat '${e._fullpath}'`);let i="tree"===r.type?{}:a4(r.metadata);e._type="tree"===r.type?"tree":function(e){switch(e){case 16384:return"tree";case 33188:case 33261:case 40960:return"blob";case 57344:return"commit"}throw new a0(`Unexpected GitTree entry mode: ${e.toString(8)}`)}(i.mode),e._mode=i.mode,"tree"===r.type?e._stat=void 0:e._stat=i}return e._stat}async content(e){}async oid(e){if(!1===e._oid){let t=await this.treePromise,r=t.get(e._fullpath);e._oid=r.metadata.oid}return e._oid}}const od=Symbol("GitWalkSymbol");function op(){let e=Object.create(null);return Object.defineProperty(e,od,{value:function({fs:e,gitdir:t,cache:r}){return new oh({fs:e,gitdir:t,cache:r})}}),Object.freeze(e),e}class og extends aX{constructor(e){super(`Could not find ${e}.`),this.code=this.name=og.code,this.data={what:e}}}og.code="NotFoundError";class om extends aX{constructor(e,t,r,i){super(`Object ${e} ${i?`at ${i}`:""}was anticipated to be a ${r} but it is a ${t}.`),this.code=this.name=om.code,this.data={oid:e,actual:t,expected:r,filepath:i}}}om.code="ObjectTypeError";class ow extends aX{constructor(e){super(`Expected a 40-char hex object id but saw "${e}".`),this.code=this.name=ow.code,this.data={value:e}}}ow.code="InvalidOidError";class o_ extends aX{constructor(e){super(`Could not find a fetch refspec for remote "${e}". Make sure the config file has an entry like the following:
[remote "${e}"]
	fetch = +refs/heads/*:refs/remotes/origin/*
`),this.code=this.name=o_.code,this.data={remote:e}}}o_.code="NoRefspecError";class oy{constructor(e){if(this.refs=new Map,this.parsedConfig=[],e){let t=null;this.parsedConfig=e.trim().split("\n").map(e=>{if(/^\s*#/.test(e))return{line:e,comment:!0};let r=e.indexOf(" ");if(e.startsWith("^")){let r=e.slice(1);return this.refs.set(t+"^{}",r),{line:e,ref:t,peeled:r}}{let i=e.slice(0,r);return t=e.slice(r+1),this.refs.set(t,i),{line:e,ref:t,oid:i}}})}return this}static from(e){return new oy(e)}delete(e){this.parsedConfig=this.parsedConfig.filter(t=>t.ref!==e),this.refs.delete(e)}toString(){return this.parsedConfig.map(({line:e})=>e).join("\n")+"\n"}}class ob{constructor({remotePath:e,localPath:t,force:r,matchPrefix:i}){Object.assign(this,{remotePath:e,localPath:t,force:r,matchPrefix:i})}static from(e){let[t,r,i,n,a]=e.match(/^(\+?)(.*?)(\*?):(.*?)(\*?)$/).slice(1),o="*"===i;if(o!==("*"===a))throw new a0("Invalid refspec");return new ob({remotePath:r,localPath:n,force:"+"===t,matchPrefix:o})}translate(e){if(this.matchPrefix){if(e.startsWith(this.remotePath))return this.localPath+e.replace(this.remotePath,"")}else if(e===this.remotePath)return this.localPath;return null}reverseTranslate(e){if(this.matchPrefix){if(e.startsWith(this.localPath))return this.remotePath+e.replace(this.localPath,"")}else if(e===this.localPath)return this.remotePath;return null}}class ov{constructor(e=[]){this.rules=e}static from(e){let t=[];for(let r of e)t.push(ob.from(r));return new ov(t)}add(e){let t=ob.from(e);this.rules.push(t)}translate(e){let t=[];for(let r of this.rules)for(let i of e){let e=r.translate(i);e&&t.push([i,e])}return t}translateOne(e){let t=null;for(let r of this.rules){let i=r.translate(e);i&&(t=i)}return t}localNamespaces(){return this.rules.filter(e=>e.matchPrefix).map(e=>e.localPath.replace(/\/$/,""))}}function oE(e,t){let r=e.replace(/\^\{\}$/,""),i=t.replace(/\^\{\}$/,""),n=-(r<i)||+(r>i);return 0===n?e.endsWith("^{}")?1:-1:n}function oS(e){return e.replace(/\/\.\//g,"/").replace(/\/{2,}/g,"/").replace(/^\/\.$/,"/").replace(/^\.\/$/,".").replace(/^\.\//,"").replace(/\/\.$/,"").replace(/(.+)\/$/,"$1").replace(/^$/,".")}function ox(...e){return oS(e.map(oS).join("/"))}const ok=e=>{if("true"===(e=e.trim().toLowerCase())||"yes"===e||"on"===e)return!0;if("false"===e||"no"===e||"off"===e)return!1;throw Error(`Expected 'true', 'false', 'yes', 'no', 'on', or 'off', but got ${e}`)},oA={core:{filemode:ok,bare:ok,logallrefupdates:ok,symlinks:ok,ignorecase:ok,bigFileThreshold:e=>{let t=parseInt(e=e.toLowerCase());return e.endsWith("k")&&(t*=1024),e.endsWith("m")&&(t*=1048576),e.endsWith("g")&&(t*=1073741824),t}}},oR=/^\[([A-Za-z0-9-.]+)(?: "(.*)")?\]$/,oO=/^[A-Za-z0-9-.]+$/,o$=/^([A-Za-z][A-Za-z-]*)(?: *= *(.*))?$/,oC=/^[A-Za-z][A-Za-z-]*$/,oP=/^(.*?)( *[#;].*)$/,oT=e=>{let t=oR.exec(e);if(null!=t){let[e,r]=t.slice(1);return[e,r]}return null},oM=e=>{let t=o$.exec(e);if(null!=t){let[e,r="true"]=t.slice(1),i=oI(r),n=oL(i);return[e,n]}return null},oI=e=>{let t=oP.exec(e);if(null==t)return e;let[r,i]=t.slice(1);return oB(r)&&oB(i)?`${r}${i}`:r},oB=e=>{let t=(e.match(/(?:^|[^\\])"/g)||[]).length;return t%2!=0},oL=e=>e.split("").reduce((e,t,r,i)=>{let n='"'===t&&"\\"!==i[r-1],a="\\"===t&&'"'===i[r+1];return n||a?e:e+t},""),oj=e=>null!=e?e.toLowerCase():null,oD=(e,t,r)=>[oj(e),t,oj(r)].filter(e=>null!=e).join("."),oN=e=>{let t=e.split("."),r=t.shift(),i=t.pop(),n=t.length?t.join("."):void 0;return{section:r,subsection:n,name:i,path:oD(r,n,i),sectionPath:oD(r,n,null)}},oH=(e,t)=>e.reduce((e,r,i)=>t(r)?i:e,-1);class oF{constructor(e){let t=null,r=null;this.parsedConfig=e.split("\n").map(e=>{let i=null,n=null,a=e.trim(),o=oT(a),s=null!=o;if(s)[t,r]=o;else{let e=oM(a);null!=e&&([i,n]=e)}let l=oD(t,r,i);return{line:e,isSection:s,section:t,subsection:r,name:i,value:n,path:l}})}static from(e){return new oF(e)}async get(e,t=!1){let r=oN(e).path,i=this.parsedConfig.filter(e=>e.path===r).map(({section:e,name:t,value:r})=>{let i=oA[e]&&oA[e][t];return i?i(r):r});return t?i:i.pop()}async getall(e){return this.get(e,!0)}async getSubsections(e){return this.parsedConfig.filter(t=>t.section===e&&t.isSection).map(e=>e.subsection)}async deleteSection(e,t){this.parsedConfig=this.parsedConfig.filter(r=>!(r.section===e&&r.subsection===t))}async append(e,t){return this.set(e,t,!0)}async set(e,t,r=!1){let{section:i,subsection:n,name:a,path:o,sectionPath:s}=oN(e),l=oH(this.parsedConfig,e=>e.path===o);if(null==t)-1!==l&&this.parsedConfig.splice(l,1);else if(-1!==l){let e=this.parsedConfig[l],i=Object.assign({},e,{name:a,value:t,modified:!0});r?this.parsedConfig.splice(l+1,0,i):this.parsedConfig[l]=i}else{let e=this.parsedConfig.findIndex(e=>e.path===s),r={section:i,subsection:n,name:a,value:t,modified:!0,path:o};oO.test(i)&&oC.test(a)&&(e>=0?this.parsedConfig.splice(e+1,0,r):this.parsedConfig.push({section:i,subsection:n,modified:!0,path:s},r))}}toString(){return this.parsedConfig.map(({line:e,section:t,subsection:r,name:i,value:n,modified:a=!1})=>a?null!=i&&null!=n?"string"==typeof n&&/[#;]/.test(n)?`	${i} = "${n}"`:`	${i} = ${n}`:null!=r?`[${t} "${r}"]`:`[${t}]`:e).join("\n")}}class oU{static async get({fs:e,gitdir:t}){let r=await e.read(`${t}/config`,{encoding:"utf8"});return oF.from(r)}static async save({fs:e,gitdir:t,config:r}){await e.write(`${t}/config`,r.toString(),{encoding:"utf8"})}}const oz=e=>[`${e}`,`refs/${e}`,`refs/tags/${e}`,`refs/heads/${e}`,`refs/remotes/${e}`,`refs/remotes/${e}/HEAD`],oG=["config","description","index","shallow","commondir"];class oW{static async updateRemoteRefs({fs:e,gitdir:t,remote:r,refs:i,symrefs:n,tags:a,refspecs:o,prune:s=!1,pruneTags:l=!1}){for(let e of i.values())if(!e.match(/[0-9a-f]{40}/))throw new ow(e);let u=await oU.get({fs:e,gitdir:t});if(!o){if(0===(o=await u.getall(`remote.${r}.fetch`)).length)throw new o_(r);o.unshift(`+HEAD:refs/remotes/${r}/HEAD`)}let c=ov.from(o),f=new Map;if(l){let r=await oW.listRefs({fs:e,gitdir:t,filepath:"refs/tags"});await oW.deleteRefs({fs:e,gitdir:t,refs:r.map(e=>`refs/tags/${e}`)})}if(a){for(let r of i.keys())if(r.startsWith("refs/tags")&&!r.endsWith("^{}")&&!await oW.exists({fs:e,gitdir:t,ref:r})){let e=i.get(r);f.set(r,e)}}let h=c.translate([...i.keys()]);for(let[e,t]of h){let r=i.get(e);f.set(t,r)}let d=c.translate([...n.keys()]);for(let[e,t]of d){let r=n.get(e),i=c.translateOne(r);i&&f.set(t,`ref: ${i}`)}let p=[];if(s){for(let r of c.localNamespaces()){let i=(await oW.listRefs({fs:e,gitdir:t,filepath:r})).map(e=>`${r}/${e}`);for(let e of i)f.has(e)||p.push(e)}p.length>0&&await oW.deleteRefs({fs:e,gitdir:t,refs:p})}for(let[r,i]of f)await e.write(ox(t,r),`${i.trim()}
`,"utf8");return{pruned:p}}static async writeRef({fs:e,gitdir:t,ref:r,value:i}){if(!i.match(/[0-9a-f]{40}/))throw new ow(i);await e.write(ox(t,r),`${i.trim()}
`,"utf8")}static async writeSymbolicRef({fs:e,gitdir:t,ref:r,value:i}){await e.write(ox(t,r),`ref: ${i.trim()}
`,"utf8")}static async deleteRef({fs:e,gitdir:t,ref:r}){return oW.deleteRefs({fs:e,gitdir:t,refs:[r]})}static async deleteRefs({fs:e,gitdir:t,refs:r}){await Promise.all(r.map(r=>e.rm(ox(t,r))));let i=await e.read(`${t}/packed-refs`,{encoding:"utf8"}),n=oy.from(i),a=n.refs.size;for(let e of r)n.refs.has(e)&&n.delete(e);n.refs.size<a&&(i=n.toString(),await e.write(`${t}/packed-refs`,i,{encoding:"utf8"}))}static async resolve({fs:e,gitdir:t,ref:r,depth:i}){let n;if(void 0!==i&&-1==--i)return r;if(r.startsWith("ref: "))return r=r.slice(5),oW.resolve({fs:e,gitdir:t,ref:r,depth:i});if(40===r.length&&/[0-9a-f]{40}/.test(r))return r;let a=await oW.packedRefs({fs:e,gitdir:t}),o=oz(r).filter(e=>!oG.includes(e));for(let r of o)if(n=await e.read(`${t}/${r}`,{encoding:"utf8"})||a.get(r))return oW.resolve({fs:e,gitdir:t,ref:n.trim(),depth:i});throw new og(r)}static async exists({fs:e,gitdir:t,ref:r}){try{return await oW.expand({fs:e,gitdir:t,ref:r}),!0}catch(e){return!1}}static async expand({fs:e,gitdir:t,ref:r}){if(40===r.length&&/[0-9a-f]{40}/.test(r))return r;let i=await oW.packedRefs({fs:e,gitdir:t}),n=oz(r);for(let r of n)if(await e.exists(`${t}/${r}`)||i.has(r))return r;throw new og(r)}static async expandAgainstMap({ref:e,map:t}){let r=oz(e);for(let e of r)if(await t.has(e))return e;throw new og(e)}static resolveAgainstMap({ref:e,fullref:t=e,depth:r,map:i}){if(void 0!==r&&-1==--r)return{fullref:t,oid:e};if(e.startsWith("ref: "))return e=e.slice(5),oW.resolveAgainstMap({ref:e,fullref:t,depth:r,map:i});if(40===e.length&&/[0-9a-f]{40}/.test(e))return{fullref:t,oid:e};let n=oz(e);for(let e of n){let t=i.get(e);if(t)return oW.resolveAgainstMap({ref:t.trim(),fullref:e,depth:r,map:i})}throw new og(e)}static async packedRefs({fs:e,gitdir:t}){let r=await e.read(`${t}/packed-refs`,{encoding:"utf8"}),i=oy.from(r);return i.refs}static async listRefs({fs:e,gitdir:t,filepath:r}){let i=oW.packedRefs({fs:e,gitdir:t}),n=null;try{n=(n=await e.readdirDeep(`${t}/${r}`)).map(e=>e.replace(`${t}/${r}/`,""))}catch(e){n=[]}for(let e of(await i).keys())e.startsWith(r)&&(e=e.replace(r+"/",""),n.includes(e)||n.push(e));return n.sort(oE),n}static async listBranches({fs:e,gitdir:t,remote:r}){return r?oW.listRefs({fs:e,gitdir:t,filepath:`refs/remotes/${r}`}):oW.listRefs({fs:e,gitdir:t,filepath:"refs/heads"})}static async listTags({fs:e,gitdir:t}){let r=await oW.listRefs({fs:e,gitdir:t,filepath:"refs/tags"});return r.filter(e=>!e.endsWith("^{}"))}}function oq(e,t){return a5(oV(e),oV(t))}function oV(e){return"040000"===e.mode?e.path+"/":e.path}function oZ(e){switch(e){case"040000":return"tree";case"100644":case"100755":case"120000":return"blob";case"160000":return"commit"}throw new a0(`Unexpected GitTree entry mode: ${e}`)}function oK(e){return!e.oid&&e.sha&&(e.oid=e.sha),e.mode=function(e){if("number"==typeof e&&(e=e.toString(8)),e.match(/^0?4.*/))return"040000";if(e.match(/^1006.*/))return"100644";if(e.match(/^1007.*/))return"100755";if(e.match(/^120.*/))return"120000";if(e.match(/^160.*/))return"160000";throw new a0(`Could not understand file mode: ${e}`)}(e.mode),e.type||(e.type=oZ(e.mode)),e}class oQ{constructor(e){if(Buffer.isBuffer(e))this._entries=function(e){let t=[],r=0;for(;r<e.length;){let i=e.indexOf(32,r);if(-1===i)throw new a0(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next space character.`);let n=e.indexOf(0,r);if(-1===n)throw new a0(`GitTree: Error parsing buffer at byte location ${r}: Could not find the next null character.`);let a=e.slice(r,i).toString("utf8");"40000"===a&&(a="040000");let o=oZ(a),s=e.slice(i+1,n).toString("utf8");if(s.includes("\\")||s.includes("/"))throw new a1(s);let l=e.slice(n+1,n+21).toString("hex");r=n+21,t.push({mode:a,path:s,oid:l,type:o})}return t}(e);else if(Array.isArray(e))this._entries=e.map(oK);else throw new a0("invalid type passed to GitTree constructor");this._entries.sort(a3)}static from(e){return new oQ(e)}render(){return this._entries.map(e=>`${e.mode} ${e.type} ${e.oid}    ${e.path}`).join("\n")}toObject(){let e=[...this._entries];return e.sort(oq),Buffer.concat(e.map(e=>{let t=Buffer.from(e.mode.replace(/^0/,"")),r=Buffer.from(" "),i=Buffer.from(e.path,"utf8"),n=Buffer.from([0]),a=Buffer.from(e.oid,"hex");return Buffer.concat([t,r,i,n,a])}))}entries(){return this._entries}*[Symbol.iterator](){for(let e of this._entries)yield e}}class oY{static wrap({type:e,object:t}){return Buffer.concat([Buffer.from(`${e} ${t.byteLength.toString()}\0`),Buffer.from(t)])}static unwrap(e){let t=e.indexOf(32),r=e.indexOf(0),i=e.slice(0,t).toString("utf8"),n=e.slice(t+1,r).toString("utf8"),a=e.length-(r+1);if(parseInt(n)!==a)throw new a0(`Length mismatch: expected ${n} bytes but got ${a} instead.`);return{type:i,object:Buffer.from(e.slice(r+1))}}}async function oX({fs:e,gitdir:t,oid:r}){let i=`objects/${r.slice(0,2)}/${r.slice(2)}`,n=await e.read(`${t}/${i}`);return n?{object:n,format:"deflated",source:i}:null}function oJ(e){let t=0,r=0,i=null;do t|=(127&(i=e.readUInt8()))<<r,r+=7;while(128&i)return t}function o0(e,t,r){let i=0,n=0;for(;r--;)1&t&&(i|=e.readUInt8()<<n),t>>=1,n+=8;return i}function o1(e,t){let r=e.readUInt8();if(!(128&r))return e.slice(r);{let i=o0(e,15&r,4),n=o0(e,(112&r)>>4,3);return 0===n&&(n=65536),t.slice(i,i+n)}}function o2(e){let t;return e[Symbol.asyncIterator]?e[Symbol.asyncIterator]():e[Symbol.iterator]?e[Symbol.iterator]():e.next?e:(t=[e],{next:()=>Promise.resolve({done:0===t.length,value:t.pop()}),return:()=>(t=[],{}),[Symbol.asyncIterator](){return this}})}class o5{constructor(e){this.stream=o2(e),this.buffer=null,this.cursor=0,this.undoCursor=0,this.started=!1,this._ended=!1,this._discardedBytes=0}eof(){return this._ended&&this.cursor===this.buffer.length}tell(){return this._discardedBytes+this.cursor}async byte(){if(!this.eof()&&(this.started||await this._init(),this.cursor!==this.buffer.length||(await this._loadnext(),!this._ended)))return this._moveCursor(1),this.buffer[this.undoCursor]}async chunk(){if(!this.eof()&&(this.started||await this._init(),this.cursor!==this.buffer.length||(await this._loadnext(),!this._ended)))return this._moveCursor(this.buffer.length),this.buffer.slice(this.undoCursor,this.cursor)}async read(e){if(!this.eof())return this.started||await this._init(),this.cursor+e>this.buffer.length&&(this._trim(),await this._accumulate(e)),this._moveCursor(e),this.buffer.slice(this.undoCursor,this.cursor)}async skip(e){this.eof()||(this.started||await this._init(),this.cursor+e>this.buffer.length&&(this._trim(),await this._accumulate(e)),this._moveCursor(e))}async undo(){this.cursor=this.undoCursor}async _next(){this.started=!0;let{done:e,value:t}=await this.stream.next();return e&&(this._ended=!0),t&&(t=Buffer.from(t)),t}_trim(){this.buffer=this.buffer.slice(this.undoCursor),this.cursor-=this.undoCursor,this._discardedBytes+=this.undoCursor,this.undoCursor=0}_moveCursor(e){this.undoCursor=this.cursor,this.cursor+=e,this.cursor>this.buffer.length&&(this.cursor=this.buffer.length)}async _accumulate(e){if(this._ended)return;let t=[this.buffer];for(;this.cursor+e>t.reduce((e,t)=>e+t.length,0);){let e=await this._next();if(this._ended)break;t.push(e)}this.buffer=Buffer.concat(t)}async _loadnext(){this._discardedBytes+=this.buffer.length,this.undoCursor=0,this.cursor=0,this.buffer=await this._next()}async _init(){this.buffer=await this._next()}}async function o3(e,t){let r=new o5(e),i=await r.read(4);if("PACK"!==(i=i.toString("utf8")))throw new a0(`Invalid PACK header '${i}'`);let n=await r.read(4);if(2!==(n=n.readUInt32BE(0)))throw new a0(`Invalid packfile version: ${n}`);let a=await r.read(4);if(!((a=a.readUInt32BE(0))<1))for(;!r.eof()&&a--;){let e=r.tell(),{type:i,length:n,ofs:o,reference:s}=await o6(r),l=new am.Inflate;for(;!l.result;){let u=await r.chunk();if(!u)break;if(l.push(u,!1),l.err)throw new a0(`Pako error: ${l.msg}`);if(l.result){if(l.result.length!==n)throw new a0("Inflated object size is different from that stated in packfile.");await r.undo(),await r.read(u.length-l.strm.avail_in);let c=r.tell();await t({data:l.result,type:i,num:a,offset:e,end:c,reference:s,ofs:o})}}}}async function o6(e){let t,r,i=await e.byte(),n=i>>4&7,a=15&i;if(128&i){let t=4;do a|=(127&(i=await e.byte()))<<t,t+=7;while(128&i)}if(6===n){let n=0;t=0;let a=[];do t|=(127&(i=await e.byte()))<<n,n+=7,a.push(i);while(128&i)r=Buffer.from(a)}if(7===n){let t=await e.read(20);r=t}return{type:n,length:a,ofs:t,reference:r}}async function o8(e){return am.inflate(e)}class o4{constructor(e){Object.assign(this,e),this.offsetCache={}}static async fromIdx({idx:e,getExternalRefDelta:t}){let r=new a2(e),i=r.slice(4).toString("hex");if("ff744f63"!==i)return;let n=r.readUInt32BE();if(2!==n)throw new a0(`Unable to read version ${n} packfile IDX. (Only version 2 supported)`);if(e.byteLength>2147483648)throw new a0("To keep implementation simple, I haven't implemented the layer 5 feature needed to support packfiles > 2GB in size.");r.seek(r.tell()+1020);let a=r.readUInt32BE(),o=[];for(let e=0;e<a;e++){let t=r.slice(20).toString("hex");o[e]=t}r.seek(r.tell()+4*a);let s=new Map;for(let e=0;e<a;e++)s.set(o[e],r.readUInt32BE());let l=r.slice(20).toString("hex");return new o4({hashes:o,crcs:{},offsets:s,packfileSha:l,getExternalRefDelta:t})}static async fromPack({pack:e,getExternalRefDelta:t,onProgress:r}){let i={1:"commit",2:"tree",3:"blob",4:"tag",6:"ofs-delta",7:"ref-delta"},n={},a=e.slice(-20).toString("hex"),o=[],s={},l=new Map,u=null,c=null;await o3([e],async({data:e,type:t,reference:a,offset:o,num:s})=>{null===u&&(u=s);let l=Math.floor((u-s)*100/u);l!==c&&r&&await r({phase:"Receiving objects",loaded:u-s,total:u}),c=l,["commit","tree","blob","tag"].includes(t=i[t])?n[o]={type:t,offset:o}:"ofs-delta"===t?n[o]={type:t,offset:o}:"ref-delta"===t&&(n[o]={type:t,offset:o})});let f=Object.keys(n).map(Number);for(let[t,r]of f.entries()){let i=t+1===f.length?e.byteLength-20:f[t+1],a=n[r],o=i5.buf(e.slice(r,i))>>>0;a.end=i,a.crc=o}let h=new o4({pack:Promise.resolve(e),packfileSha:a,crcs:s,hashes:o,offsets:l,getExternalRefDelta:t});c=null;let d=0,p=[0,0,0,0,0,0,0,0,0,0,0,0];for(let e in n){e=Number(e);let t=Math.floor(100*d/u);t!==c&&r&&await r({phase:"Resolving deltas",loaded:d,total:u}),d++,c=t;let i=n[e];if(!i.oid)try{h.readDepth=0,h.externalReadDepth=0;let{type:t,object:r}=await h.readSlice({start:e});p[h.readDepth]+=1;let n=await a7(oY.wrap({type:t,object:r}));i.oid=n,o.push(n),l.set(n,e),s[n]=i.crc}catch(e){continue}}return o.sort(),h}async toBuffer(){let e=[],t=(t,r)=>{e.push(Buffer.from(t,r))};t("ff744f63","hex"),t("00000002","hex");let r=new a2(Buffer.alloc(1024));for(let e=0;e<256;e++){let t=0;for(let r of this.hashes)parseInt(r.slice(0,2),16)<=e&&t++;r.writeUInt32BE(t)}for(let i of(e.push(r.buffer),this.hashes))t(i,"hex");let i=new a2(Buffer.alloc(4*this.hashes.length));for(let e of this.hashes)i.writeUInt32BE(this.crcs[e]);e.push(i.buffer);let n=new a2(Buffer.alloc(4*this.hashes.length));for(let e of this.hashes)n.writeUInt32BE(this.offsets.get(e));e.push(n.buffer),t(this.packfileSha,"hex");let a=Buffer.concat(e),o=await a7(a),s=Buffer.alloc(20);return s.write(o,"hex"),Buffer.concat([a,s])}async load({pack:e}){this.pack=e}async unload(){this.pack=null}async read({oid:e}){if(!this.offsets.get(e)){if(this.getExternalRefDelta)return this.externalReadDepth++,this.getExternalRefDelta(e);throw new a0(`Could not read object ${e} from packfile`)}let t=this.offsets.get(e);return this.readSlice({start:t})}async readSlice({start:e}){if(this.offsetCache[e])return Object.assign({},this.offsetCache[e]);if(this.readDepth++,!this.pack)throw new a0("Tried to read from a GitPackIndex with no packfile loaded into memory");let t=(await this.pack).slice(e),r=new a2(t),i=r.readUInt8(),n=112&i,a={16:"commit",32:"tree",48:"blob",64:"tag",96:"ofs_delta",112:"ref_delta"}[n];if(void 0===a)throw new a0("Unrecognized type: 0b"+n.toString(2));let o=15&i,s=o;128&i&&(s=function(e,t){let r=t,i=4,n=null;do r|=(127&(n=e.readUInt8()))<<i,i+=7;while(128&n)return r}(r,o));let l=null,u=null;if("ofs_delta"===a){let t=function(e){let t=[],r=0,i=0;do{r=e.readUInt8();let n=127&r;t.push(n),i=128&r}while(i)return t.reduce((e,t)=>e+1<<7|t,-1)}(r),i=e-t;({object:l,type:a}=await this.readSlice({start:i}))}if("ref_delta"===a){let e=r.slice(20).toString("hex");({object:l,type:a}=await this.read({oid:e}))}let c=t.slice(r.tell());if((u=Buffer.from(await o8(c))).byteLength!==s)throw new a0(`Packfile told us object would have length ${s} but it had length ${u.byteLength}`);return l&&(u=Buffer.from(function(e,t){let r;let i=new a2(e),n=oJ(i);if(n!==t.byteLength)throw new a0(`applyDelta expected source buffer to be ${n} bytes but the provided buffer was ${t.length} bytes`);let a=oJ(i),o=o1(i,t);if(o.byteLength===a)r=o;else{r=Buffer.alloc(a);let e=new a2(r);for(e.copy(o);!i.eof();)e.copy(o1(i,t));let n=e.tell();if(a!==n)throw new a0(`applyDelta expected target buffer to be ${a} bytes but the resulting buffer was ${n} bytes`)}return r}(u,l))),this.readDepth>3&&(this.offsetCache[e]={type:a,object:u}),{type:a,format:"content",object:u}}}const o9=Symbol("PackfileCache");async function o7({fs:e,filename:t,getExternalRefDelta:r,emitter:i,emitterPrefix:n}){let a=await e.read(t);return o4.fromIdx({idx:a,getExternalRefDelta:r})}function se({fs:e,cache:t,filename:r,getExternalRefDelta:i,emitter:n,emitterPrefix:a}){t[o9]||(t[o9]=new Map);let o=t[o9].get(r);return o||(o=o7({fs:e,filename:r,getExternalRefDelta:i,emitter:n,emitterPrefix:a}),t[o9].set(r,o)),o}async function st({fs:e,cache:t,gitdir:r,oid:i,format:n="content",getExternalRefDelta:a}){let o=await e.readdir(ox(r,"objects/pack"));for(let n of o=o.filter(e=>e.endsWith(".idx"))){let o=`${r}/objects/pack/${n}`,s=await se({fs:e,cache:t,filename:o,getExternalRefDelta:a});if(s.error)throw new a0(s.error);if(s.offsets.has(i)){if(!s.pack){let t=o.replace(/idx$/,"pack");s.pack=e.read(t)}let t=await s.read({oid:i,getExternalRefDelta:a});return t.format="content",t.source=`objects/pack/${n.replace(/idx$/,"pack")}`,t}}return null}async function sr({fs:e,cache:t,gitdir:r,oid:i,format:n="content"}){let a;if("4b825dc642cb6eb9a060e54bf8d69288fbee4904"===i&&(a={format:"wrapped",object:Buffer.from(`tree 0\0`)}),a||(a=await oX({fs:e,gitdir:r,oid:i})),a||(a=await st({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:i=>sr({fs:e,cache:t,gitdir:r,oid:i})})),!a)throw new og(i);if("deflated"===n)return a;if("deflated"===a.format&&(a.object=Buffer.from(await o8(a.object)),a.format="wrapped"),"wrapped"===a.format){if("wrapped"===n&&"wrapped"===a.format)return a;let e=await a7(a.object);if(e!==i)throw new a0(`SHA check failed! Expected ${i}, computed ${e}`);let{object:t,type:r}=oY.unwrap(a.object);a.type=r,a.object=t,a.format="content"}if("content"===a.format)return"content"===n?a:void 0;throw new a0(`invalid format "${a.format}"`)}class si extends aX{constructor(e,t,r=!0){super(`Failed to create ${e} at ${t} because it already exists.${r?` (Hint: use 'force: true' parameter to overwrite existing ${e}.)`:""}`),this.code=this.name=si.code,this.data={noun:e,where:t,canForce:r}}}si.code="AlreadyExistsError";class sn extends aX{constructor(e,t,r){super(`Found multiple ${e} matching "${t}" (${r.join(", ")}). Use a longer abbreviation length to disambiguate them.`),this.code=this.name=sn.code,this.data={nouns:e,short:t,matches:r}}}sn.code="AmbiguousError";class sa extends aX{constructor(e){super(`Your local changes to the following files would be overwritten by checkout: ${e.join(", ")}`),this.code=this.name=sa.code,this.data={filepaths:e}}}sa.code="CheckoutConflictError";class so extends aX{constructor(e,t){super(`Failed to checkout "${e}" because commit ${t} is not available locally. Do a git fetch to make the branch available locally.`),this.code=this.name=so.code,this.data={ref:e,oid:t}}}so.code="CommitNotFetchedError";class ss extends aX{constructor(){super("Empty response from git server."),this.code=this.name=ss.code,this.data={}}}ss.code="EmptyServerResponseError";class sl extends aX{constructor(){super("A simple fast-forward merge was not possible."),this.code=this.name=sl.code,this.data={}}}sl.code="FastForwardError";class su extends aX{constructor(e,t){super(`One or more branches were not updated: ${e}`),this.code=this.name=su.code,this.data={prettyDetails:e,result:t}}}su.code="GitPushError";class sc extends aX{constructor(e,t,r){super(`HTTP Error: ${e} ${t}`),this.code=this.name=sc.code,this.data={statusCode:e,statusMessage:t,response:r}}}sc.code="HttpError";class sf extends aX{constructor(e){let t="invalid filepath";"leading-slash"===e||"trailing-slash"===e?t='"filepath" parameter should not include leading or trailing directory separators because these can cause problems on some platforms.':"directory"===e&&(t='"filepath" should not be a directory.'),super(t),this.code=this.name=sf.code,this.data={reason:e}}}sf.code="InvalidFilepathError";class sh extends aX{constructor(e,t){super(`"${e}" would be an invalid git reference. (Hint: a valid alternative would be "${t}".)`),this.code=this.name=sh.code,this.data={ref:e,suggestion:t}}}sh.code="InvalidRefNameError";class sd extends aX{constructor(e){super(`Maximum search depth of ${e} exceeded.`),this.code=this.name=sd.code,this.data={depth:e}}}sd.code="MaxDepthError";class sp extends aX{constructor(){super("Merges with conflicts are not supported yet."),this.code=this.name=sp.code,this.data={}}}sp.code="MergeNotSupportedError";class sg extends aX{constructor(e,t,r,i){super(`Automatic merge failed with one or more merge conflicts in the following files: ${e.toString()}. Fix conflicts then commit the result.`),this.code=this.name=sg.code,this.data={filepaths:e,bothModified:t,deleteByUs:r,deleteByTheirs:i}}}sg.code="MergeConflictError";class sm extends aX{constructor(e){super(`No name was provided for ${e} in the argument or in the .git/config file.`),this.code=this.name=sm.code,this.data={role:e}}}sm.code="MissingNameError";class sw extends aX{constructor(e){super(`The function requires a "${e}" parameter but none was provided.`),this.code=this.name=sw.code,this.data={parameter:e}}}sw.code="MissingParameterError";class s_ extends aX{constructor(e){super('There are multiple errors that were thrown by the method. Please refer to the "errors" property to see more'),this.code=this.name=s_.code,this.data={errors:e},this.errors=e}}s_.code="MultipleGitError";class sy extends aX{constructor(e,t){super(`Expected "${e}" but received "${t}".`),this.code=this.name=sy.code,this.data={expected:e,actual:t}}}sy.code="ParseError";class sb extends aX{constructor(e){let t="";"not-fast-forward"===e?t=" because it was not a simple fast-forward":"tag-exists"===e&&(t=" because tag already exists"),super(`Push rejected${t}. Use "force: true" to override.`),this.code=this.name=sb.code,this.data={reason:e}}}sb.code="PushRejectedError";class sv extends aX{constructor(e,t){super(`Remote does not support the "${e}" so the "${t}" parameter cannot be used.`),this.code=this.name=sv.code,this.data={capability:e,parameter:t}}}sv.code="RemoteCapabilityError";class sE extends aX{constructor(e,t){super(`Remote did not reply using the "smart" HTTP protocol. Expected "001e# service=git-upload-pack" but received: ${e}`),this.code=this.name=sE.code,this.data={preview:e,response:t}}}sE.code="SmartHttpError";class sS extends aX{constructor(e,t,r){super(`Git remote "${e}" uses an unrecognized transport protocol: "${t}"`),this.code=this.name=sS.code,this.data={url:e,transport:t,suggestion:r}}}sS.code="UnknownTransportError";class sx extends aX{constructor(e){super(`Cannot parse remote URL: "${e}"`),this.code=this.name=sx.code,this.data={url:e}}}sx.code="UrlParseError";class sk extends aX{constructor(){super("The operation was canceled."),this.code=this.name=sk.code,this.data={}}}sk.code="UserCanceledError";class sA extends aX{constructor(e){super(`Could not merge index: Entry for '${e}' is not up to date. Either reset the index entry to HEAD, or stage your unstaged chages.`),this.code=this.name=sA.code,this.data={filepath:e}}}sA.code="IndexResetError";var sR=Object.freeze({__proto__:null,AlreadyExistsError:si,AmbiguousError:sn,CheckoutConflictError:sa,CommitNotFetchedError:so,EmptyServerResponseError:ss,FastForwardError:sl,GitPushError:su,HttpError:sc,InternalError:a0,InvalidFilepathError:sf,InvalidOidError:ow,InvalidRefNameError:sh,MaxDepthError:sd,MergeNotSupportedError:sp,MergeConflictError:sg,MissingNameError:sm,MissingParameterError:sw,MultipleGitError:s_,NoRefspecError:o_,NotFoundError:og,ObjectTypeError:om,ParseError:sy,PushRejectedError:sb,RemoteCapabilityError:sv,SmartHttpError:sE,UnknownTransportError:sS,UnsafeFilepathError:a1,UrlParseError:sx,UserCanceledError:sk,UnmergedPathsError:aJ,IndexResetError:sA});function sO({name:e,email:t,timestamp:r,timezoneOffset:i}){return i=function(e){var t,r;let i=Math.sign(r=0===(t=e)?t:-t)||(Object.is(r,-0)?-1:1);e=Math.abs(e);let n=Math.floor(e/60);e-=60*n;let a=String(n),o=String(e);return a.length<2&&(a="0"+a),o.length<2&&(o="0"+o),(-1===i?"-":"+")+a+o}(i),`${e} <${t}> ${r} ${i}`}function s$(e){return e=(e=(e=e.replace(/\r/g,"")).replace(/^\n+/,"")).replace(/\n+$/,"")+"\n"}function sC(e){let[,t,r,i,n]=e.match(/^(.*) <(.*)> (.*) (.*)$/);return{name:t,email:r,timestamp:Number(i),timezoneOffset:function(e){var t;let[,r,i,n]=e.match(/(\+|-)(\d\d)(\d\d)/);return 0==(t=n=("+"===r?1:-1)*(60*Number(i)+Number(n)))?t:-t}(n)}}class sP{constructor(e){if("string"==typeof e)this._tag=e;else if(Buffer.isBuffer(e))this._tag=e.toString("utf8");else if("object"==typeof e)this._tag=sP.render(e);else throw new a0("invalid type passed to GitAnnotatedTag constructor")}static from(e){return new sP(e)}static render(e){return`object ${e.object}
type ${e.type}
tag ${e.tag}
tagger ${sO(e.tagger)}

${e.message}
${e.gpgsig?e.gpgsig:""}`}justHeaders(){return this._tag.slice(0,this._tag.indexOf("\n\n"))}message(){let e=this.withoutSignature();return e.slice(e.indexOf("\n\n")+2)}parse(){return Object.assign(this.headers(),{message:this.message(),gpgsig:this.gpgsig()})}render(){return this._tag}headers(){let e=this.justHeaders().split("\n"),t=[];for(let r of e)" "===r[0]?t[t.length-1]+="\n"+r.slice(1):t.push(r);let r={};for(let e of t){let t=e.slice(0,e.indexOf(" ")),i=e.slice(e.indexOf(" ")+1);Array.isArray(r[t])?r[t].push(i):r[t]=i}return r.tagger&&(r.tagger=sC(r.tagger)),r.committer&&(r.committer=sC(r.committer)),r}withoutSignature(){let e=s$(this._tag);return -1===e.indexOf("\n-----BEGIN PGP SIGNATURE-----")?e:e.slice(0,e.lastIndexOf("\n-----BEGIN PGP SIGNATURE-----"))}gpgsig(){if(-1===this._tag.indexOf("\n-----BEGIN PGP SIGNATURE-----"))return;let e=this._tag.slice(this._tag.indexOf("-----BEGIN PGP SIGNATURE-----"),this._tag.indexOf("-----END PGP SIGNATURE-----")+27);return s$(e)}payload(){return this.withoutSignature()+"\n"}toObject(){return Buffer.from(this._tag,"utf8")}static async sign(e,t,r){let i=e.payload(),{signature:n}=await t({payload:i,secretKey:r});n=s$(n);let a=i+n;return sP.from(a)}}function sT(e){return e.trim().split("\n").map(e=>" "+e).join("\n")+"\n"}class sM{constructor(e){if("string"==typeof e)this._commit=e;else if(Buffer.isBuffer(e))this._commit=e.toString("utf8");else if("object"==typeof e)this._commit=sM.render(e);else throw new a0("invalid type passed to GitCommit constructor")}static fromPayloadSignature({payload:e,signature:t}){let r=sM.justHeaders(e),i=sM.justMessage(e),n=s$(r+"\ngpgsig"+sT(t)+"\n"+i);return new sM(n)}static from(e){return new sM(e)}toObject(){return Buffer.from(this._commit,"utf8")}headers(){return this.parseHeaders()}message(){return sM.justMessage(this._commit)}parse(){return Object.assign({message:this.message()},this.headers())}static justMessage(e){return s$(e.slice(e.indexOf("\n\n")+2))}static justHeaders(e){return e.slice(0,e.indexOf("\n\n"))}parseHeaders(){let e=sM.justHeaders(this._commit).split("\n"),t=[];for(let r of e)" "===r[0]?t[t.length-1]+="\n"+r.slice(1):t.push(r);let r={parent:[]};for(let e of t){let t=e.slice(0,e.indexOf(" ")),i=e.slice(e.indexOf(" ")+1);Array.isArray(r[t])?r[t].push(i):r[t]=i}return r.author&&(r.author=sC(r.author)),r.committer&&(r.committer=sC(r.committer)),r}static renderHeaders(e){let t="";if(e.tree?t+=`tree ${e.tree}
`:t+=`tree 4b825dc642cb6eb9a060e54bf8d69288fbee4904
`,e.parent){if(void 0===e.parent.length)throw new a0("commit 'parent' property should be an array");for(let r of e.parent)t+=`parent ${r}
`}let r=e.author;t+=`author ${sO(r)}
`;let i=e.committer||e.author;return t+=`committer ${sO(i)}
`,e.gpgsig&&(t+="gpgsig"+sT(e.gpgsig)),t}static render(e){return sM.renderHeaders(e)+"\n"+s$(e.message)}render(){return this._commit}withoutSignature(){let e=s$(this._commit);if(-1===e.indexOf("\ngpgsig"))return e;let t=e.slice(0,e.indexOf("\ngpgsig")),r=e.slice(e.indexOf("-----END PGP SIGNATURE-----\n")+28);return s$(t+"\n"+r)}isolateSignature(){let e=this._commit.slice(this._commit.indexOf("-----BEGIN PGP SIGNATURE-----"),this._commit.indexOf("-----END PGP SIGNATURE-----")+27);return e.split("\n").map(e=>e.replace(/^ /,"")).join("\n")}static async sign(e,t,r){let i=e.withoutSignature(),n=sM.justMessage(e._commit),{signature:a}=await t({payload:i,secretKey:r});a=s$(a);let o=sM.justHeaders(e._commit),s=o+"\ngpgsig"+sT(a)+"\n"+n;return sM.from(s)}}async function sI({fs:e,cache:t,gitdir:r,oid:i}){if("4b825dc642cb6eb9a060e54bf8d69288fbee4904"===i)return{tree:oQ.from([]),oid:i};let{type:n,object:a}=await sr({fs:e,cache:t,gitdir:r,oid:i});if("tag"===n)return sI({fs:e,cache:t,gitdir:r,oid:i=sP.from(a).parse().object});if("commit"===n)return sI({fs:e,cache:t,gitdir:r,oid:i=sM.from(a).parse().tree});if("tree"!==n)throw new om(i,n,"tree");return{tree:oQ.from(a),oid:i}}class sB{constructor({fs:e,gitdir:t,ref:r,cache:i}){this.fs=e,this.cache=i,this.gitdir=t,this.mapPromise=(async()=>{let i;let n=new Map;try{i=await oW.resolve({fs:e,gitdir:t,ref:r})}catch(e){e instanceof og&&(i="4b825dc642cb6eb9a060e54bf8d69288fbee4904")}let a=await sI({fs:e,cache:this.cache,gitdir:t,oid:i});return a.type="tree",a.mode="40000",n.set(".",a),n})();let n=this;this.ConstructEntry=class{constructor(e){this._fullpath=e,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return n.type(this)}async mode(){return n.mode(this)}async stat(){return n.stat(this)}async content(){return n.content(this)}async oid(){return n.oid(this)}}}async readdir(e){let t=e._fullpath,{fs:r,cache:i,gitdir:n}=this,a=await this.mapPromise,o=a.get(t);if(!o)throw Error(`No obj for ${t}`);let s=o.oid;if(!s)throw Error(`No oid for obj ${JSON.stringify(o)}`);if("tree"!==o.type)return null;let{type:l,object:u}=await sr({fs:r,cache:i,gitdir:n,oid:s});if(l!==o.type)throw new om(s,l,o.type);let c=oQ.from(u);for(let e of c)a.set(ox(t,e.path),e);return c.entries().map(e=>ox(t,e.path))}async type(e){if(!1===e._type){let t=await this.mapPromise,{type:r}=t.get(e._fullpath);e._type=r}return e._type}async mode(e){if(!1===e._mode){let t=await this.mapPromise,{mode:r}=t.get(e._fullpath);e._mode=a6(parseInt(r,8))}return e._mode}async stat(e){}async content(e){if(!1===e._content){let t=await this.mapPromise,{fs:r,cache:i,gitdir:n}=this,a=t.get(e._fullpath),o=a.oid,{type:s,object:l}=await sr({fs:r,cache:i,gitdir:n,oid:o});"blob"!==s?e._content=void 0:e._content=new Uint8Array(l)}return e._content}async oid(e){if(!1===e._oid){let t=await this.mapPromise,r=t.get(e._fullpath);e._oid=r.oid}return e._oid}}function sL({ref:e="HEAD"}={}){let t=Object.create(null);return Object.defineProperty(t,od,{value:function({fs:t,gitdir:r,cache:i}){return new sB({fs:t,gitdir:r,ref:e,cache:i})}}),Object.freeze(t),t}class sj{constructor({fs:e,dir:t,gitdir:r,cache:i}){this.fs=e,this.cache=i,this.dir=t,this.gitdir=r;let n=this;this.ConstructEntry=class{constructor(e){this._fullpath=e,this._type=!1,this._mode=!1,this._stat=!1,this._content=!1,this._oid=!1}async type(){return n.type(this)}async mode(){return n.mode(this)}async stat(){return n.stat(this)}async content(){return n.content(this)}async oid(){return n.oid(this)}}}async readdir(e){let t=e._fullpath,{fs:r,dir:i}=this,n=await r.readdir(ox(i,t));return null===n?null:n.map(e=>ox(t,e))}async type(e){return!1===e._type&&await e.stat(),e._type}async mode(e){return!1===e._mode&&await e.stat(),e._mode}async stat(e){if(!1===e._stat){let{fs:t,dir:r}=this,i=await t.lstat(`${r}/${e._fullpath}`);if(!i)throw Error(`ENOENT: no such file or directory, lstat '${e._fullpath}'`);let n=i.isDirectory()?"tree":"blob";"blob"!==n||i.isFile()||i.isSymbolicLink()||(n="special"),e._type=n,i=a4(i),e._mode=i.mode,-1===i.size&&e._actualSize&&(i.size=e._actualSize),e._stat=i}return e._stat}async content(e){if(!1===e._content){let{fs:t,dir:r}=this;if(await e.type()==="tree")e._content=void 0;else{let i=await t.read(`${r}/${e._fullpath}`);e._actualSize=i.length,e._stat&&-1===e._stat.size&&(e._stat.size=e._actualSize),e._content=new Uint8Array(i)}}return e._content}async oid(e){if(!1===e._oid){let t;let{fs:r,gitdir:i,cache:n}=this;await ol.acquire({fs:r,gitdir:i,cache:n},async function(r){let i=r.entriesMap.get(e._fullpath),n=await e.stat();if(!i||oi(n,i)){let a=await e.content();void 0===a?t=void 0:(t=await a7(oY.wrap({type:"blob",object:await e.content()})),i&&t===i.oid&&n.mode===i.mode&&oi(n,i)&&r.insert({filepath:e._fullpath,stats:n,oid:t}))}else t=i.oid}),e._oid=t}return e._oid}}function sD(){let e=Object.create(null);return Object.defineProperty(e,od,{value:function({fs:e,dir:t,gitdir:r,cache:i}){return new sj({fs:e,dir:t,gitdir:r,cache:i})}}),Object.freeze(e),e}const sN=void 0===Array.prototype.flat?e=>e.reduce((e,t)=>e.concat(t),[]):e=>e.flat();class sH{constructor(){this.value=null}consider(e){null!=e&&(null===this.value?this.value=e:e<this.value&&(this.value=e))}reset(){this.value=null}}async function sF({fs:e,cache:t,dir:r,gitdir:i,trees:n,map:a=async(e,t)=>t,reduce:o=async(e,t)=>{let r=sN(t);return void 0!==e&&r.unshift(e),r},iterate:s=(e,t)=>Promise.all([...t].map(e))}){let l=n.map(n=>n[od]({fs:e,dir:r,gitdir:i,cache:t})),u=Array(l.length).fill("."),c=function(e,t){let r=t-e;return Array.from({length:r},(t,r)=>e+r)}(0,l.length),f=async e=>{c.map(t=>{e[t]=e[t]&&new l[t].ConstructEntry(e[t])});let t=await Promise.all(c.map(t=>e[t]?l[t].readdir(e[t]):[])),r=t.map(e=>null===e?[]:e).map(e=>e[Symbol.iterator]());return{entries:e,children:function*(e){let t;let r=new sH,i=[],n=e.length;for(let t=0;t<n;t++)i[t]=e[t].next().value,void 0!==i[t]&&r.consider(i[t]);if(null!==r.value)for(;;){let a=[];t=r.value,r.reset();for(let o=0;o<n;o++)void 0!==i[o]&&i[o]===t?(a[o]=i[o],i[o]=e[o].next().value):a[o]=null,void 0!==i[o]&&r.consider(i[o]);if(yield a,null===r.value)return}}(r)}},h=async e=>{let{entries:t,children:r}=await f(e),i=t.find(e=>e&&e._fullpath)._fullpath,n=await a(i,t);if(null!==n){let e=await s(h,r);return o(n,e=e.filter(e=>void 0!==e))}};return h(u)}async function sU(e,t){let r=await e.readdir(t);null==r?await e.rm(t):r.length?await Promise.all(r.map(r=>{let i=ox(t,r);return e.lstat(i).then(t=>{if(t)return t.isDirectory()?sU(e,i):e.rm(i)})})).then(()=>e.rmdir(t)):await e.rmdir(t)}function sz(e){return"function"==typeof e}function sG(e){var t,r;return(r=t=(e=>{try{return e.readFile().catch(e=>e)}catch(e){return e}})(e))&&"object"==typeof r&&sz(t.then)&&sz(t.catch)}const sW=["readFile","writeFile","mkdir","rmdir","unlink","stat","lstat","readdir","readlink","symlink"];function sq(e,t){if(sG(t))for(let r of sW)e[`_${r}`]=t[r].bind(t);else for(let r of sW)e[`_${r}`]=a_(t[r].bind(t));sG(t)?t.rm?e._rm=t.rm.bind(t):t.rmdir.length>1?e._rm=t.rmdir.bind(t):e._rm=sU.bind(null,e):t.rm?e._rm=a_(t.rm.bind(t)):t.rmdir.length>2?e._rm=a_(t.rmdir.bind(t)):e._rm=sU.bind(null,e)}class sV{constructor(e){if(void 0!==e._original_unwrapped_fs)return e;let t=Object.getOwnPropertyDescriptor(e,"promises");t&&t.enumerable?sq(this,e.promises):sq(this,e),this._original_unwrapped_fs=e}async exists(e,t={}){try{return await this._stat(e),!0}catch(e){if("ENOENT"===e.code||"ENOTDIR"===e.code)return!1;throw console.log('Unhandled error in "FileSystem.exists()" function',e),e}}async read(e,t={}){try{let r=await this._readFile(e,t);return"string"!=typeof r&&(r=Buffer.from(r)),r}catch(e){return null}}async write(e,t,r={}){try{await this._writeFile(e,t,r);return}catch(i){await this.mkdir(oc(e)),await this._writeFile(e,t,r)}}async mkdir(e,t=!1){try{await this._mkdir(e);return}catch(r){if(null===r||"EEXIST"===r.code)return;if(t)throw r;if("ENOENT"===r.code){let t=oc(e);if("."===t||"/"===t||t===e)throw r;await this.mkdir(t),await this.mkdir(e,!0)}}}async rm(e){try{await this._unlink(e)}catch(e){if("ENOENT"!==e.code)throw e}}async rmdir(e,t){try{t&&t.recursive?await this._rm(e,t):await this._rmdir(e)}catch(e){if("ENOENT"!==e.code)throw e}}async readdir(e){try{let t=await this._readdir(e);return t.sort(a5),t}catch(e){if("ENOTDIR"===e.code)return null;return[]}}async readdirDeep(e){let t=await this._readdir(e),r=await Promise.all(t.map(async t=>{let r=e+"/"+t;return(await this._stat(r)).isDirectory()?this.readdirDeep(r):r}));return r.reduce((e,t)=>e.concat(t),[])}async lstat(e){try{let t=await this._lstat(e);return t}catch(e){if("ENOENT"===e.code)return null;throw e}}async readlink(e,t={encoding:"buffer"}){try{let r=await this._readlink(e,t);return Buffer.isBuffer(r)?r:Buffer.from(r)}catch(e){if("ENOENT"===e.code)return null;throw e}}async writelink(e,t){return this._symlink(t.toString("utf8"),e)}}function sZ(e,t){if(void 0===t)throw new sw(e)}async function sK(e,t){return(!!e||!!t)&&(!!e&&!t||!e&&!!t||(await e.type()!=="tree"||await t.type()!=="tree")&&(await e.type()!==await t.type()||await e.mode()!==await t.mode()||await e.oid()!==await t.oid()))}async function sQ({fs:e,dir:t,gitdir:r=ox(t,".git"),commit:i="HEAD",cache:n={}}){try{sZ("fs",e),sZ("dir",t),sZ("gitdir",r);let a=new sV(e),o=[sL({ref:i}),sD(),op()],s=[];await ol.acquire({fs:a,gitdir:r,cache:n},async function(e){s=e.unmergedPaths});let l=await sF({fs:a,cache:n,dir:t,gitdir:r,trees:o,map:async function(e,[t,r,i]){let n=!await sK(r,i),a=s.includes(e),o=!await sK(i,t);if(n||a)return t?{path:e,mode:await t.mode(),oid:await t.oid(),type:await t.type(),content:await t.content()}:void 0;if(o)return!1;throw new sA(e)}});await ol.acquire({fs:a,gitdir:r,cache:n},async function(e){for(let r of l)if(!1!==r){if(!r){await a.rmdir(`${t}/${r.path}`,{recursive:!0}),e.delete({filepath:r.path});continue}if("blob"===r.type){let i=new TextDecoder().decode(r.content);await a.write(`${t}/${r.path}`,i,{mode:r.mode}),e.insert({filepath:r.path,oid:r.oid,stage:0})}}})}catch(e){throw e.caller="git.abortMerge",e}}class sY{static async isIgnored({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i}){if(".git"===ou(i))return!0;if("."===i)return!1;let n="",a=ox(r,"info","exclude");await e.exists(a)&&(n=await e.read(a,"utf8"));let o=[{gitignore:ox(t,".gitignore"),filepath:i}],s=i.split("/").filter(Boolean);for(let e=1;e<s.length;e++){let r=s.slice(0,e).join("/"),i=s.slice(e).join("/");o.push({gitignore:ox(t,r,".gitignore"),filepath:i})}let l=!1;for(let t of o){let r;try{r=await e.read(t.gitignore,"utf8")}catch(e){if("NOENT"===e.code)continue}let i=aq().add(n);i.add(r);let a=oc(t.filepath);if("."!==a&&i.ignores(a))return!0;l=l?!i.test(t.filepath).unignored:i.test(t.filepath).ignored}return l}}async function sX({fs:e,gitdir:t,object:r,format:i,oid:n}){if("deflated"!==i)throw new a0("GitObjectStoreLoose expects objects to write to be in deflated format");let a=`objects/${n.slice(0,2)}/${n.slice(2)}`,o=`${t}/${a}`;await e.exists(o)||await e.write(o,r)}let sJ=null;async function s0(e){return null===sJ&&(sJ=function(){try{let e=new CompressionStream("deflate");if(new Blob([]).stream(),e)return!0}catch(e){}return!1}()),sJ?s1(e):am.deflate(e)}async function s1(e){let t=new CompressionStream("deflate"),r=new Blob([e]).stream().pipeThrough(t);return new Uint8Array(await new Response(r).arrayBuffer())}async function s2({fs:e,gitdir:t,type:r,object:i,format:n="content",oid:a,dryRun:o=!1}){return"deflated"!==n&&("wrapped"!==n&&(i=oY.wrap({type:r,object:i})),a=await a7(i),i=Buffer.from(await s0(i))),o||await sX({fs:e,gitdir:t,object:i,format:"deflated",oid:a}),a}function s5(e){let t;for(;~(t=e.indexOf(92));)e[t]=47;return e}async function s3({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i,cache:n={},force:a=!1,parallel:o=!0}){try{sZ("fs",e),sZ("dir",t),sZ("gitdir",r),sZ("filepath",i);let s=new sV(e);await ol.acquire({fs:s,gitdir:r,cache:n},async e=>s6({dir:t,gitdir:r,fs:s,filepath:i,index:e,force:a,parallel:o}))}catch(e){throw e.caller="git.add",e}}async function s6({dir:e,gitdir:t,fs:r,filepath:i,index:n,force:a,parallel:o}){i=Array.isArray(i)?i:[i];let s=i.map(async i=>{if(!a){let n=await sY.isIgnored({fs:r,dir:e,gitdir:t,filepath:i});if(n)return}let s=await r.lstat(ox(e,i));if(!s)throw new og(i);if(s.isDirectory()){let s=await r.readdir(ox(e,i));if(o){let l=s.map(s=>s6({dir:e,gitdir:t,fs:r,filepath:[ox(i,s)],index:n,force:a,parallel:o}));await Promise.all(l)}else for(let l of s)await s6({dir:e,gitdir:t,fs:r,filepath:[ox(i,l)],index:n,force:a,parallel:o})}else{let a=s.isSymbolicLink()?await r.readlink(ox(e,i)).then(s5):await r.read(ox(e,i));if(null===a)throw new og(i);let o=await s2({fs:r,gitdir:t,type:"blob",object:a});n.insert({filepath:i,stats:s,oid:o})}}),l=await Promise.allSettled(s),u=l.filter(e=>"rejected"===e.status).map(e=>e.reason);if(u.length>1)throw new s_(u);if(1===u.length)throw u[0];let c=l.filter(e=>"fulfilled"===e.status&&e.value).map(e=>e.value);return c}async function s8({fs:e,cache:t,onSign:r,gitdir:i,message:n,author:a,committer:o,signingKey:s,dryRun:l=!1,noUpdateBranch:u=!1,ref:c,parent:f,tree:h}){return c||(c=await oW.resolve({fs:e,gitdir:i,ref:"HEAD",depth:2})),ol.acquire({fs:e,gitdir:i,cache:t,allowUnmerged:!1},async function(t){let d=of(t.entries),p=d.get(".");if(h||(h=await s4({fs:e,gitdir:i,inode:p,dryRun:l})),f)f=await Promise.all(f.map(t=>oW.resolve({fs:e,gitdir:i,ref:t})));else try{f=[await oW.resolve({fs:e,gitdir:i,ref:c})]}catch(e){f=[]}let g=sM.from({tree:h,parent:f,author:a,committer:o,message:n});s&&(g=await sM.sign(g,r,s));let m=await s2({fs:e,gitdir:i,type:"commit",object:g.toObject(),dryRun:l});return u||l||await oW.writeRef({fs:e,gitdir:i,ref:c,value:m}),m})}async function s4({fs:e,gitdir:t,inode:r,dryRun:i}){let n=r.children;for(let r of n)"tree"===r.type&&(r.metadata.mode="040000",r.metadata.oid=await s4({fs:e,gitdir:t,inode:r,dryRun:i}));let a=n.map(e=>({mode:e.metadata.mode,path:e.basename,oid:e.metadata.oid,type:e.type})),o=oQ.from(a),s=await s2({fs:e,gitdir:t,type:"tree",object:o.toObject(),dryRun:i});return s}async function s9({fs:e,cache:t,gitdir:r,oid:i,filepath:n}){if(n.startsWith("/"))throw new sf("leading-slash");if(n.endsWith("/"))throw new sf("trailing-slash");let a=i,o=await sI({fs:e,cache:t,gitdir:r,oid:i}),s=o.tree;if(""===n)i=o.oid;else{let o=n.split("/");i=await s7({fs:e,cache:t,gitdir:r,tree:s,pathArray:o,oid:a,filepath:n})}return i}async function s7({fs:e,cache:t,gitdir:r,tree:i,pathArray:n,oid:a,filepath:o}){let s=n.shift();for(let l of i)if(l.path===s){if(0===n.length)return l.oid;{let{type:s,object:u}=await sr({fs:e,cache:t,gitdir:r,oid:l.oid});if("tree"!==s)throw new om(a,s,"tree",o);return s7({fs:e,cache:t,gitdir:r,tree:i=oQ.from(u),pathArray:n,oid:a,filepath:o})}}throw new og(`file or directory found at "${a}:${o}"`)}async function le({fs:e,cache:t,gitdir:r,oid:i,filepath:n}){void 0!==n&&(i=await s9({fs:e,cache:t,gitdir:r,oid:i,filepath:n}));let{tree:a,oid:o}=await sI({fs:e,cache:t,gitdir:r,oid:i}),s={oid:o,tree:a.entries()};return s}async function lt({fs:e,gitdir:t,tree:r}){let i=oQ.from(r).toObject(),n=await s2({fs:e,gitdir:t,type:"tree",object:i,format:"content"});return n}async function lr({fs:e,cache:t,onSign:r,gitdir:i,ref:n,oid:a,note:o,force:s,author:l,committer:u,signingKey:c}){let f;try{f=await oW.resolve({gitdir:i,fs:e,ref:n})}catch(e){if(!(e instanceof og))throw e}let h=await le({fs:e,cache:t,gitdir:i,oid:f||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"}),d=h.tree;if(s)d=d.filter(e=>e.path!==a);else for(let e of d)if(e.path===a)throw new si("note",a);"string"==typeof o&&(o=Buffer.from(o,"utf8"));let p=await s2({fs:e,gitdir:i,type:"blob",object:o,format:"content"});d.push({mode:"100644",path:a,oid:p,type:"blob"});let g=await lt({fs:e,gitdir:i,tree:d}),m=await s8({fs:e,cache:t,onSign:r,gitdir:i,ref:n,tree:g,parent:f&&[f],message:`Note added by 'isomorphic-git addNote'
`,author:l,committer:u,signingKey:c});return m}async function li({fs:e,gitdir:t,path:r}){let i=await oU.get({fs:e,gitdir:t});return i.get(r)}async function ln({fs:e,gitdir:t,author:r={}}){let{name:i,email:n,timestamp:a,timezoneOffset:o}=r;if(i=i||await li({fs:e,gitdir:t,path:"user.name"}),n=n||await li({fs:e,gitdir:t,path:"user.email"})||"",void 0!==i)return a=null!=a?a:Math.floor(Date.now()/1e3),o=null!=o?o:new Date(1e3*a).getTimezoneOffset(),{name:i,email:n,timestamp:a,timezoneOffset:o}}async function la({fs:e,gitdir:t,author:r,committer:i}){return i=Object.assign({},i||r),r&&(i.timestamp=i.timestamp||r.timestamp,i.timezoneOffset=i.timezoneOffset||r.timezoneOffset),i=await ln({fs:e,gitdir:t,author:i})}async function lo({fs:e,onSign:t,dir:r,gitdir:i=ox(r,".git"),ref:n="refs/notes/commits",oid:a,note:o,force:s,author:l,committer:u,signingKey:c,cache:f={}}){try{sZ("fs",e),sZ("gitdir",i),sZ("oid",a),sZ("note",o),c&&sZ("onSign",t);let r=new sV(e),h=await ln({fs:r,gitdir:i,author:l});if(!h)throw new sm("author");let d=await la({fs:r,gitdir:i,author:h,committer:u});if(!d)throw new sm("committer");return await lr({fs:new sV(r),cache:f,onSign:t,gitdir:i,ref:n,oid:a,note:o,force:s,author:h,committer:d,signingKey:c})}catch(e){throw e.caller="git.addNote",e}}async function ls({fs:e,gitdir:t,remote:r,url:i,force:n}){if(r!==aZ.clean(r))throw new sh(r,aZ.clean(r));let a=await oU.get({fs:e,gitdir:t});if(!n){let e=await a.getSubsections("remote");if(e.includes(r)&&i!==await a.get(`remote.${r}.url`))throw new si("remote",r)}await a.set(`remote.${r}.url`,i),await a.set(`remote.${r}.fetch`,`+refs/heads/*:refs/remotes/${r}/*`),await oU.save({fs:e,gitdir:t,config:a})}async function ll({fs:e,dir:t,gitdir:r=ox(t,".git"),remote:i,url:n,force:a=!1}){try{return sZ("fs",e),sZ("gitdir",r),sZ("remote",i),sZ("url",n),await ls({fs:new sV(e),gitdir:r,remote:i,url:n,force:a})}catch(e){throw e.caller="git.addRemote",e}}async function lu({fs:e,cache:t,onSign:r,gitdir:i,ref:n,tagger:a,message:o=n,gpgsig:s,object:l,signingKey:u,force:c=!1}){if(n=n.startsWith("refs/tags/")?n:`refs/tags/${n}`,!c&&await oW.exists({fs:e,gitdir:i,ref:n}))throw new si("tag",n);let f=await oW.resolve({fs:e,gitdir:i,ref:l||"HEAD"}),{type:h}=await sr({fs:e,cache:t,gitdir:i,oid:f}),d=sP.from({object:f,type:h,tag:n.replace("refs/tags/",""),tagger:a,message:o,gpgsig:s});u&&(d=await sP.sign(d,r,u));let p=await s2({fs:e,gitdir:i,type:"tag",object:d.toObject()});await oW.writeRef({fs:e,gitdir:i,ref:n,value:p})}async function lc({fs:e,onSign:t,dir:r,gitdir:i=ox(r,".git"),ref:n,tagger:a,message:o=n,gpgsig:s,object:l,signingKey:u,force:c=!1,cache:f={}}){try{sZ("fs",e),sZ("gitdir",i),sZ("ref",n),u&&sZ("onSign",t);let r=new sV(e),h=await ln({fs:r,gitdir:i,author:a});if(!h)throw new sm("tagger");return await lu({fs:r,cache:f,onSign:t,gitdir:i,ref:n,tagger:h,message:o,gpgsig:s,object:l,signingKey:u,force:c})}catch(e){throw e.caller="git.annotatedTag",e}}async function lf({fs:e,gitdir:t,ref:r,object:i,checkout:n=!1,force:a=!1}){let o;if(r!==aZ.clean(r))throw new sh(r,aZ.clean(r));let s=`refs/heads/${r}`;if(!a){let i=await oW.exists({fs:e,gitdir:t,ref:s});if(i)throw new si("branch",r,!1)}try{o=await oW.resolve({fs:e,gitdir:t,ref:i||"HEAD"})}catch(e){}o&&await oW.writeRef({fs:e,gitdir:t,ref:s,value:o}),n&&await oW.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:s})}async function lh({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i,object:n,checkout:a=!1,force:o=!1}){try{return sZ("fs",e),sZ("gitdir",r),sZ("ref",i),await lf({fs:new sV(e),gitdir:r,ref:i,object:n,checkout:a,force:o})}catch(e){throw e.caller="git.branch",e}}const ld=(e,t)=>"."===e||null==t||0===t.length||"."===t||(t.length>=e.length?t.startsWith(e):e.startsWith(t));async function lp({fs:e,cache:t,onProgress:r,dir:i,gitdir:n,remote:a,ref:o,filepaths:s,noCheckout:l,noUpdateHead:u,dryRun:c,force:f,track:h=!0}){let d;try{d=await oW.resolve({fs:e,gitdir:n,ref:o})}catch(r){if("HEAD"===o)throw r;let t=`${a}/${o}`;if(d=await oW.resolve({fs:e,gitdir:n,ref:t}),h){let t=await oU.get({fs:e,gitdir:n});await t.set(`branch.${o}.remote`,a),await t.set(`branch.${o}.merge`,`refs/heads/${o}`),await oU.save({fs:e,gitdir:n,config:t})}await oW.writeRef({fs:e,gitdir:n,ref:`refs/heads/${o}`,value:d})}if(!l){let a;try{a=await lg({fs:e,cache:t,onProgress:r,dir:i,gitdir:n,ref:o,force:f,filepaths:s})}catch(e){if(e instanceof og&&e.data.what===d)throw new so(o,d);throw e}let l=a.filter(([e])=>"conflict"===e).map(([e,t])=>t);if(l.length>0)throw new sa(l);let u=a.filter(([e])=>"error"===e).map(([e,t])=>t);if(u.length>0)throw new a0(u.join(", "));if(c)return;let h=0,p=a.length;await ol.acquire({fs:e,gitdir:n,cache:t},async function(t){await Promise.all(a.filter(([e])=>"delete"===e||"delete-index"===e).map(async function([n,a]){let o=`${i}/${a}`;"delete"===n&&await e.rm(o),t.delete({filepath:a}),r&&await r({phase:"Updating workdir",loaded:++h,total:p})}))}),await ol.acquire({fs:e,gitdir:n,cache:t},async function(t){for(let[n,o]of a)if("rmdir"===n||"rmdir-index"===n){let a=`${i}/${o}`;try{"rmdir-index"===n&&t.delete({filepath:o}),await e.rmdir(a),r&&await r({phase:"Updating workdir",loaded:++h,total:p})}catch(e){if("ENOTEMPTY"===e.code)console.log(`Did not delete ${o} because directory is not empty`);else throw e}}}),await Promise.all(a.filter(([e])=>"mkdir"===e||"mkdir-index"===e).map(async function([t,n]){let a=`${i}/${n}`;await e.mkdir(a),r&&await r({phase:"Updating workdir",loaded:++h,total:p})})),await ol.acquire({fs:e,gitdir:n,cache:t},async function(o){await Promise.all(a.filter(([e])=>"create"===e||"create-index"===e||"update"===e||"mkdir-index"===e).map(async function([a,s,l,u,c]){let f=`${i}/${s}`;try{if("create-index"!==a&&"mkdir-index"!==a){let{object:r}=await sr({fs:e,cache:t,gitdir:n,oid:l});if(c&&await e.rm(f),33188===u)await e.write(f,r);else if(33261===u)await e.write(f,r,{mode:511});else if(40960===u)await e.writelink(f,r);else throw new a0(`Invalid mode 0o${u.toString(8)} detected in blob ${l}`)}let i=await e.lstat(f);33261===u&&(i.mode=493),"mkdir-index"===a&&(i.mode=57344),o.insert({filepath:s,stats:i,oid:l}),r&&await r({phase:"Updating workdir",loaded:++h,total:p})}catch(e){console.log(e)}}))})}if(!u){let t=await oW.expand({fs:e,gitdir:n,ref:o});t.startsWith("refs/heads")?await oW.writeSymbolicRef({fs:e,gitdir:n,ref:"HEAD",value:t}):await oW.writeRef({fs:e,gitdir:n,ref:"HEAD",value:d})}}async function lg({fs:e,cache:t,onProgress:r,dir:i,gitdir:n,ref:a,force:o,filepaths:s}){let l=0;return sF({fs:e,cache:t,dir:i,gitdir:n,trees:[sL({ref:a}),sD(),op()],map:async function(e,[t,i,n]){if("."===e)return;if(s&&!s.some(t=>ld(e,t)))return null;r&&await r({phase:"Analyzing workdir",loaded:++l});let a=[!!n,!!t,!!i].map(Number).join("");switch(a){case"000":return;case"001":if(o&&s&&s.includes(e))return["delete",e];return;case"010":switch(await t.type()){case"tree":return["mkdir",e];case"blob":return["create",e,await t.oid(),await t.mode()];case"commit":return["mkdir-index",e,await t.oid(),await t.mode()];default:return["error",`new entry Unhandled type ${await t.type()}`]}case"011":switch(`${await t.type()}-${await i.type()}`){case"tree-tree":case"commit-tree":return;case"tree-blob":case"blob-tree":case"commit-blob":return["conflict",e];case"blob-blob":if(await t.oid()!==await i.oid()){if(o)return["update",e,await t.oid(),await t.mode(),await t.mode()!==await i.mode()];return["conflict",e]}if(await t.mode()===await i.mode())return["create-index",e,await t.oid(),await t.mode()];if(o)return["update",e,await t.oid(),await t.mode(),!0];return["conflict",e];default:return["error",`new entry Unhandled type ${t.type}`]}case"100":return["delete-index",e];case"101":switch(await n.type()){case"tree":return["rmdir",e];case"blob":if(await n.oid()===await i.oid()||o)return["delete",e];return["conflict",e];case"commit":return["rmdir-index",e];default:return["error",`delete entry Unhandled type ${await n.type()}`]}case"110":case"111":switch(`${await n.type()}-${await t.type()}`){case"tree-tree":return;case"blob-blob":if(await n.oid()===await t.oid()&&await n.mode()===await t.mode()&&!o)return;if(i){if(await i.oid()!==await n.oid()&&await i.oid()!==await t.oid()){if(o)return["update",e,await t.oid(),await t.mode(),await t.mode()!==await i.mode()];return["conflict",e]}}else if(o)return["update",e,await t.oid(),await t.mode(),await t.mode()!==await n.mode()];if(await t.mode()!==await n.mode())return["update",e,await t.oid(),await t.mode(),!0];if(await t.oid()!==await n.oid())return["update",e,await t.oid(),await t.mode(),!1];return;case"tree-blob":return["update-dir-to-blob",e,await t.oid()];case"blob-tree":return["update-blob-to-tree",e];case"commit-commit":return["mkdir-index",e,await t.oid(),await t.mode()];default:return["error",`update entry Unhandled type ${await n.type()}-${await t.type()}`]}}},reduce:async function(e,t){return t=sN(t),e&&(e&&"rmdir"===e[0]?t.push(e):t.unshift(e)),t}})}async function lm({fs:e,onProgress:t,dir:r,gitdir:i=ox(r,".git"),remote:n="origin",ref:a,filepaths:o,noCheckout:s=!1,noUpdateHead:l=void 0===a,dryRun:u=!1,force:c=!1,track:f=!0,cache:h={}}){try{sZ("fs",e),sZ("dir",r),sZ("gitdir",i);let d=a||"HEAD";return await lp({fs:new sV(e),cache:h,onProgress:t,dir:r,gitdir:i,remote:n,ref:d,filepaths:o,noCheckout:s,noUpdateHead:l,dryRun:u,force:c,track:f})}catch(e){throw e.caller="git.checkout",e}}const lw=RegExp("^refs/(heads/|tags/|remotes/)?(.*)");function l_(e){let t=lw.exec(e);return t?"remotes/"===t[1]&&e.endsWith("/HEAD")?t[2].slice(0,-5):t[2]:e}async function ly({fs:e,gitdir:t,fullname:r=!1,test:i=!1}){let n=await oW.resolve({fs:e,gitdir:t,ref:"HEAD",depth:2});if(i)try{await oW.resolve({fs:e,gitdir:t,ref:n})}catch(e){return}if(n.startsWith("refs/"))return r?n:l_(n)}function lb({username:e="",password:t=""}){return`Basic ${Buffer.from(`${e}:${t}`).toString("base64")}`}async function lv(e,t){let r=o2(e);for(;;){let{value:e,done:i}=await r.next();if(e&&await t(e),i)break}r.return&&r.return()}async function lE(e){let t=0,r=[];await lv(e,e=>{r.push(e),t+=e.byteLength});let i=new Uint8Array(t),n=0;for(let e of r)i.set(e,n),n+=e.byteLength;return i}function lS(e){let t=e.match(/^https?:\/\/([^/]+)@/);if(null==t)return{url:e,auth:{}};t=t[1];let[r,i]=t.split(":");return{url:e=e.replace(`${t}@`,""),auth:{username:r,password:i}}}function lx(e,t){let r=t.toString(16);return"0".repeat(e-r.length)+r}class lk{static flush(){return Buffer.from("0000","utf8")}static delim(){return Buffer.from("0001","utf8")}static encode(e){"string"==typeof e&&(e=Buffer.from(e));let t=e.length+4,r=lx(4,t);return Buffer.concat([Buffer.from(r,"utf8"),e])}static streamReader(e){let t=new o5(e);return async function(){try{let e=await t.read(4);if(null==e)return!0;if(e=parseInt(e.toString("utf8"),16),0===e||1===e)return null;let r=await t.read(e-4);if(null==r)return!0;return r}catch(e){return console.log("error",e),!0}}}}async function lA(e){let t;let r={};for(;!0!==(t=await e());){if(null===t)continue;t=t.toString("utf8").replace(/\n$/,"");let e=t.indexOf("=");if(e>-1){let i=t.slice(0,e),n=t.slice(e+1);r[i]=n}else r[t]=!0}return{protocolVersion:2,capabilities2:r}}async function lR(e,{service:t}){let r=new Set,i=new Map,n=new Map,a=lk.streamReader(e),o=await a();for(;null===o;)o=await a();if(!0===o)throw new ss;if(o.includes("version 2"))return lA(a);if(o.toString("utf8").replace(/\n$/,"")!==`# service=${t}`)throw new sy(`# service=${t}\\n`,o.toString("utf8"));let s=await a();for(;null===s;)s=await a();if(!0===s)return{capabilities:r,refs:i,symrefs:n};if((s=s.toString("utf8")).includes("version 2"))return lA(a);let[l,u]=lO(s,"\x00","\\x00");u.split(" ").map(e=>r.add(e));let[c,f]=lO(l," "," ");for(i.set(f,c);;){let e=await a();if(!0===e)break;if(null!==e){let[t,r]=lO(e.toString("utf8")," "," ");i.set(r,t)}}for(let e of r)if(e.startsWith("symref=")){let t=e.match(/symref=([^:]+):(.*)/);3===t.length&&n.set(t[1],t[2])}return{protocolVersion:1,capabilities:r,refs:i,symrefs:n}}function lO(e,t,r){let i=e.trim().split(t);if(2!==i.length)throw new sy(`Two strings separated by '${r}'`,e.toString("utf8"));return i}const l$=(e,t)=>e.endsWith("?")?`${e}${t}`:`${e}/${t.replace(/^https?:\/\//,"")}`,lC=(e,t)=>{(t.username||t.password)&&(e.Authorization=lb(t)),t.headers&&Object.assign(e,t.headers)},lP=async e=>{try{let t=Buffer.from(await lE(e.body)),r=t.toString("utf8"),i=r.length<256?r:r.slice(0,256)+"...";return{preview:i,response:r,data:t}}catch(e){return{}}};class lT{static async capabilities(){return["discover","connect"]}static async discover({http:e,onProgress:t,onAuth:r,onAuthSuccess:i,onAuthFailure:n,corsProxy:a,service:o,url:s,headers:l,protocolVersion:u}){let c,f,{url:h,auth:d}=lS(s),p=a?l$(a,h):h;(d.username||d.password)&&(l.Authorization=lb(d)),2===u&&(l["Git-Protocol"]="version=2");let g=!1;do if(c=await e.request({onProgress:t,method:"GET",url:`${p}/info/refs?service=${o}`,headers:l}),f=!1,401===c.statusCode||203===c.statusCode){let e=g?n:r;if(e){if((d=await e(h,{...d,headers:{...l}}))&&d.cancel)throw new sk;d&&(lC(l,d),g=!0,f=!0)}}else 200===c.statusCode&&g&&i&&await i(h,d);while(f)if(200!==c.statusCode){let{response:e}=await lP(c);throw new sc(c.statusCode,c.statusMessage,e)}if(c.headers["content-type"]===`application/x-${o}-advertisement`){let e=await lR(c.body,{service:o});return e.auth=d,e}{let{preview:e,response:t,data:r}=await lP(c);try{let e=await lR([r],{service:o});return e.auth=d,e}catch(r){throw new sE(e,t)}}}static async connect({http:e,onProgress:t,corsProxy:r,service:i,url:n,auth:a,body:o,headers:s}){let l=lS(n);l&&(n=l.url),r&&(n=l$(r,n)),s["content-type"]=`application/x-${i}-request`,s.accept=`application/x-${i}-result`,lC(s,a);let u=await e.request({onProgress:t,method:"POST",url:`${n}/${i}`,body:o,headers:s});if(200!==u.statusCode){let{response:e}=lP(u);throw new sc(u.statusCode,u.statusMessage,e)}return u}}class lM{static getRemoteHelperFor({url:e}){let t=new Map;t.set("http",lT),t.set("https",lT);let r=function({url:e}){if(e.startsWith("git@"))return{transport:"ssh",address:e};let t=e.match(/(\w+)(:\/\/|::)(.*)/);if(null!==t){if("://"===t[2])return{transport:t[1],address:t[0]};if("::"===t[2])return{transport:t[1],address:t[3]}}}({url:e});if(!r)throw new sx(e);if(t.has(r.transport))return t.get(r.transport);throw new sS(e,r.transport,"ssh"===r.transport?e.replace(/^git@([^:]+):/,"https://$1/").replace(/^ssh:\/\//,"https://"):void 0)}}let lI=null;class lB{static async read({fs:e,gitdir:t}){null===lI&&(lI=new iU);let r=ox(t,"shallow"),i=new Set;return await lI.acquire(r,async function(){let t=await e.read(r,{encoding:"utf8"});if(null===t||""===t.trim())return i;t.trim().split("\n").map(e=>i.add(e))}),i}static async write({fs:e,gitdir:t,oids:r}){null===lI&&(lI=new iU);let i=ox(t,"shallow");if(r.size>0){let t=[...r].join("\n")+"\n";await lI.acquire(i,async function(){await e.write(i,t,{encoding:"utf8"})})}else await lI.acquire(i,async function(){await e.rm(i)})}}async function lL({fs:e,gitdir:t,oid:r}){let i=`objects/${r.slice(0,2)}/${r.slice(2)}`;return e.exists(`${t}/${i}`)}async function lj({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:n}){let a=await e.readdir(ox(r,"objects/pack"));for(let o of a=a.filter(e=>e.endsWith(".idx"))){let a=`${r}/objects/pack/${o}`,s=await se({fs:e,cache:t,filename:a,getExternalRefDelta:n});if(s.error)throw new a0(s.error);if(s.offsets.has(i))return!0}return!1}async function lD({fs:e,cache:t,gitdir:r,oid:i,format:n="content"}){let a=await lL({fs:e,gitdir:r,oid:i});return a||(a=await lj({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:i=>sr({fs:e,cache:t,gitdir:r,oid:i})})),a}function lN(e,t){let r=e.map(e=>e.split("=",1)[0]);return t.filter(e=>{let t=e.split("=",1)[0];return r.includes(t)})}const lH={version:"1.25.0",agent:"git/isomorphic-git@1.25.0"};class lF{constructor(){this._queue=[]}write(e){if(this._ended)throw Error("You cannot write to a FIFO that has already been ended!");if(this._waiting){let t=this._waiting;this._waiting=null,t({value:e})}else this._queue.push(e)}end(){if(this._ended=!0,this._waiting){let e=this._waiting;this._waiting=null,e({done:!0})}}destroy(e){this._ended=!0,this.error=e}async next(){if(this._queue.length>0)return{value:this._queue.shift()};if(this._ended)return{done:!0};if(this._waiting)throw Error("You cannot call read until the previous call to read has returned!");return new Promise(e=>{this._waiting=e})}}function lU(e){let t=new lF,r="";return(async()=>{await lv(e,e=>{for(e=e.toString("utf8"),r+=e;;){let e=function(e){let t=e.indexOf("\r"),r=e.indexOf("\n");return -1===t&&-1===r?-1:-1===t?r+1:-1===r?t+1:r===t+1?r+1:Math.min(t,r)+1}(r);if(-1===e)break;t.write(r.slice(0,e)),r=r.slice(e)}}),r.length>0&&t.write(r),t.end()})(),t}class lz{static demux(e){let t=lk.streamReader(e),r=new lF,i=new lF,n=new lF,a=async function(){let e=await t();if(null===e)return a();if(!0===e){r.end(),n.end(),i.end();return}switch(e[0]){case 1:i.write(e.slice(1));break;case 2:n.write(e.slice(1));break;case 3:{let t=e.slice(1);n.write(t),i.destroy(Error(t.toString("utf8")));return}default:r.write(e.slice(0))}a()};return a(),{packetlines:r,packfile:i,progress:n}}}async function lG(e){let{packetlines:t,packfile:r,progress:i}=lz.demux(e),n=[],a=[],o=[],s=!1,l=!1;return new Promise((e,u)=>{lv(t,t=>{let c=t.toString("utf8").trim();if(c.startsWith("shallow")){let e=c.slice(-41).trim();40!==e.length&&u(new ow(e)),n.push(e)}else if(c.startsWith("unshallow")){let e=c.slice(-41).trim();40!==e.length&&u(new ow(e)),a.push(e)}else if(c.startsWith("ACK")){let[,e,t]=c.split(" ");o.push({oid:e,status:t}),t||(l=!0)}else c.startsWith("NAK")&&(s=!0,l=!0);l&&e({shallows:n,unshallows:a,acks:o,nak:s,packfile:r,progress:i})})})}async function lW({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,gitdir:l,ref:u,remoteRef:c,remote:f,url:h,corsProxy:d,depth:p=null,since:g=null,exclude:m=[],relative:w=!1,tags:_=!1,singleBranch:y=!1,headers:b={},prune:v=!1,pruneTags:E=!1}){let S=u||await ly({fs:e,gitdir:l,test:!0}),x=await oU.get({fs:e,gitdir:l}),k=f||S&&await x.get(`branch.${S}.remote`)||"origin",A=h||await x.get(`remote.${k}.url`);if(void 0===A)throw new sw("remote OR url");let R=c||S&&await x.get(`branch.${S}.merge`)||u||"HEAD";void 0===d&&(d=await x.get("http.corsProxy"));let O=lM.getRemoteHelperFor({url:A}),$=await O.discover({http:r,onAuth:a,onAuthSuccess:o,onAuthFailure:s,corsProxy:d,service:"git-upload-pack",url:A,headers:b,protocolVersion:1}),C=$.auth,P=$.refs;if(0===P.size)return{defaultBranch:null,fetchHead:null,fetchHeadDescription:null};if(null!==p&&!$.capabilities.has("shallow"))throw new sv("shallow","depth");if(null!==g&&!$.capabilities.has("deepen-since"))throw new sv("deepen-since","since");if(m.length>0&&!$.capabilities.has("deepen-not"))throw new sv("deepen-not","exclude");if(!0===w&&!$.capabilities.has("deepen-relative"))throw new sv("deepen-relative","relative");let{oid:T,fullref:M}=oW.resolveAgainstMap({ref:R,map:P});for(let e of P.keys())e===M||"HEAD"===e||e.startsWith("refs/heads/")||_&&e.startsWith("refs/tags/")||P.delete(e);let I=lN([...$.capabilities],["multi_ack_detailed","no-done","side-band-64k","ofs-delta",`agent=${lH.agent}`]);w&&I.push("deepen-relative");let B=y?[T]:P.values(),L=y?[S]:await oW.listRefs({fs:e,gitdir:l,filepath:"refs"}),j=[];for(let r of L)try{r=await oW.expand({fs:e,gitdir:l,ref:r});let i=await oW.resolve({fs:e,gitdir:l,ref:r});await lD({fs:e,cache:t,gitdir:l,oid:i})&&j.push(i)}catch(e){}j=[...new Set(j)];let D=await lB.read({fs:e,gitdir:l}),N=$.capabilities.has("shallow")?[...D]:[],H=function({capabilities:e=[],wants:t=[],haves:r=[],shallows:i=[],depth:n=null,since:a=null,exclude:o=[]}){let s=[];t=[...new Set(t)];let l=` ${e.join(" ")}`;for(let e of t)s.push(lk.encode(`want ${e}${l}
`)),l="";for(let e of i)s.push(lk.encode(`shallow ${e}
`));for(let e of(null!==n&&s.push(lk.encode(`deepen ${n}
`)),null!==a&&s.push(lk.encode(`deepen-since ${Math.floor(a.valueOf()/1e3)}
`)),o))s.push(lk.encode(`deepen-not ${e}
`));for(let e of(s.push(lk.flush()),r))s.push(lk.encode(`have ${e}
`));return s.push(lk.encode(`done
`)),s}({capabilities:I,wants:B,haves:j,shallows:N,depth:p,since:g,exclude:m}),F=Buffer.from(await lE(H)),U=await O.connect({http:r,onProgress:i,corsProxy:d,service:"git-upload-pack",url:A,auth:C,body:[F],headers:b}),z=await lG(U.body);for(let r of(U.headers&&(z.headers=U.headers),z.shallows))if(!D.has(r))try{let{object:i}=await sr({fs:e,cache:t,gitdir:l,oid:r}),n=new sM(i),a=await Promise.all(n.headers().parent.map(r=>lD({fs:e,cache:t,gitdir:l,oid:r}))),o=0===a.length||a.every(e=>e);o||D.add(r)}catch(e){D.add(r)}for(let e of z.unshallows)D.delete(e);if(await lB.write({fs:e,gitdir:l,oids:D}),y){let t=new Map([[M,T]]),r=new Map,i=10,n=M;for(;i--;){let e=$.symrefs.get(n);if(void 0===e)break;r.set(n,e),n=e}let a=P.get(n);a&&t.set(n,a);let{pruned:o}=await oW.updateRemoteRefs({fs:e,gitdir:l,remote:k,refs:t,symrefs:r,tags:_,prune:v});v&&(z.pruned=o)}else{let{pruned:t}=await oW.updateRemoteRefs({fs:e,gitdir:l,remote:k,refs:P,symrefs:$.symrefs,tags:_,prune:v,pruneTags:E});v&&(z.pruned=t)}if(z.HEAD=$.symrefs.get("HEAD"),void 0===z.HEAD){let{oid:e}=oW.resolveAgainstMap({ref:"HEAD",map:P});for(let[t,r]of P.entries())if("HEAD"!==t&&r===e){z.HEAD=t;break}}let G=M.startsWith("refs/tags")?"tag":"branch";if(z.FETCH_HEAD={oid:T,description:`${G} '${l_(M)}' of ${A}`},i||n){let e=lU(z.progress);lv(e,async e=>{if(n&&await n(e),i){let t=e.match(/([^:]*).*\((\d+?)\/(\d+?)\)/);t&&await i({phase:t[1].trim(),loaded:parseInt(t[2],10),total:parseInt(t[3],10)})}})}let W=Buffer.from(await lE(z.packfile)),q=W.slice(-20).toString("hex"),V={defaultBranch:z.HEAD,fetchHead:z.FETCH_HEAD.oid,fetchHeadDescription:z.FETCH_HEAD.description};if(z.headers&&(V.headers=z.headers),v&&(V.pruned=z.pruned),""!==q&&"5041434b0000000200000000"!==W.slice(0,12).toString("hex")){V.packfile=`objects/pack/pack-${q}.pack`;let r=ox(l,V.packfile);await e.write(r,W);let n=await o4.fromPack({pack:W,getExternalRefDelta:r=>sr({fs:e,cache:t,gitdir:l,oid:r}),onProgress:i});await e.write(r.replace(/\.pack$/,".idx"),await n.toBuffer())}return V}async function lq({fs:e,bare:t=!1,dir:r,gitdir:i=t?r:ox(r,".git"),defaultBranch:n="master"}){if(await e.exists(i+"/config"))return;let a=["hooks","info","objects/info","objects/pack","refs/heads","refs/tags"];for(let t of a=a.map(e=>i+"/"+e))await e.mkdir(t);await e.write(i+"/config",`[core]
	repositoryformatversion = 0
	filemode = false
	bare = ${t}
`+(t?"":"	logallrefupdates = true\n")+"	symlinks = false\n	ignorecase = true\n"),await e.write(i+"/HEAD",`ref: refs/heads/${n}
`)}async function lV({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,dir:l,gitdir:u,url:c,corsProxy:f,ref:h,remote:d,depth:p,since:g,exclude:m,relative:w,singleBranch:_,noCheckout:y,noTags:b,headers:v}){try{if(await lq({fs:e,gitdir:u}),await ls({fs:e,gitdir:u,remote:d,url:c,force:!1}),f){let t=await oU.get({fs:e,gitdir:u});await t.set("http.corsProxy",f),await oU.save({fs:e,gitdir:u,config:t})}let{defaultBranch:E,fetchHead:S}=await lW({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,gitdir:u,ref:h,remote:d,corsProxy:f,depth:p,since:g,exclude:m,relative:w,singleBranch:_,headers:v,tags:!b});if(null===S)return;h=(h=h||E).replace("refs/heads/",""),await lp({fs:e,cache:t,onProgress:i,dir:l,gitdir:u,ref:h,remote:d,noCheckout:y})}catch(t){throw await e.rmdir(u,{recursive:!0,maxRetries:10}).catch(()=>void 0),t}}async function lZ({fs:e,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l=ox(s,".git"),url:u,corsProxy:c,ref:f,remote:h="origin",depth:d,since:p,exclude:g=[],relative:m=!1,singleBranch:w=!1,noCheckout:_=!1,noTags:y=!1,headers:b={},cache:v={}}){try{return sZ("fs",e),sZ("http",t),sZ("gitdir",l),_||sZ("dir",s),sZ("url",u),await lV({fs:new sV(e),cache:v,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l,url:u,corsProxy:c,ref:f,remote:h,depth:d,since:p,exclude:g,relative:m,singleBranch:w,noCheckout:_,noTags:y,headers:b})}catch(e){throw e.caller="git.clone",e}}async function lK({fs:e,onSign:t,dir:r,gitdir:i=ox(r,".git"),message:n,author:a,committer:o,signingKey:s,dryRun:l=!1,noUpdateBranch:u=!1,ref:c,parent:f,tree:h,cache:d={}}){try{sZ("fs",e),sZ("message",n),s&&sZ("onSign",t);let r=new sV(e),p=await ln({fs:r,gitdir:i,author:a});if(!p)throw new sm("author");let g=await la({fs:r,gitdir:i,author:p,committer:o});if(!g)throw new sm("committer");return await s8({fs:r,cache:d,onSign:t,gitdir:i,message:n,author:p,committer:g,signingKey:s,dryRun:l,noUpdateBranch:u,ref:c,parent:f,tree:h})}catch(e){throw e.caller="git.commit",e}}async function lQ({fs:e,dir:t,gitdir:r=ox(t,".git"),fullname:i=!1,test:n=!1}){try{return sZ("fs",e),sZ("gitdir",r),await ly({fs:new sV(e),gitdir:r,fullname:i,test:n})}catch(e){throw e.caller="git.currentBranch",e}}async function lY({fs:e,gitdir:t,ref:r}){r=r.startsWith("refs/heads/")?r:`refs/heads/${r}`;let i=await oW.exists({fs:e,gitdir:t,ref:r});if(!i)throw new og(r);let n=await oW.expand({fs:e,gitdir:t,ref:r}),a=await ly({fs:e,gitdir:t,fullname:!0});if(n===a){let r=await oW.resolve({fs:e,gitdir:t,ref:n});await oW.writeRef({fs:e,gitdir:t,ref:"HEAD",value:r})}await oW.deleteRef({fs:e,gitdir:t,ref:n})}async function lX({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i}){try{return sZ("fs",e),sZ("ref",i),await lY({fs:new sV(e),gitdir:r,ref:i})}catch(e){throw e.caller="git.deleteBranch",e}}async function lJ({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i}){try{sZ("fs",e),sZ("ref",i),await oW.deleteRef({fs:new sV(e),gitdir:r,ref:i})}catch(e){throw e.caller="git.deleteRef",e}}async function l0({fs:e,gitdir:t,remote:r}){let i=await oU.get({fs:e,gitdir:t});await i.deleteSection("remote",r),await oU.save({fs:e,gitdir:t,config:i})}async function l1({fs:e,dir:t,gitdir:r=ox(t,".git"),remote:i}){try{return sZ("fs",e),sZ("remote",i),await l0({fs:new sV(e),gitdir:r,remote:i})}catch(e){throw e.caller="git.deleteRemote",e}}async function l2({fs:e,gitdir:t,ref:r}){r=r.startsWith("refs/tags/")?r:`refs/tags/${r}`,await oW.deleteRef({fs:e,gitdir:t,ref:r})}async function l5({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i}){try{return sZ("fs",e),sZ("ref",i),await l2({fs:new sV(e),gitdir:r,ref:i})}catch(e){throw e.caller="git.deleteTag",e}}async function l3({fs:e,gitdir:t,oid:r}){let i=r.slice(0,2),n=await e.readdir(`${t}/objects/${i}`);return n.map(e=>`${i}${e}`).filter(e=>e.startsWith(r))}async function l6({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:n}){let a=[],o=await e.readdir(ox(r,"objects/pack"));for(let s of o=o.filter(e=>e.endsWith(".idx"))){let o=`${r}/objects/pack/${s}`,l=await se({fs:e,cache:t,filename:o,getExternalRefDelta:n});if(l.error)throw new a0(l.error);for(let e of l.offsets.keys())e.startsWith(i)&&a.push(e)}return a}async function l8({fs:e,cache:t,gitdir:r,oid:i}){let n=await l3({fs:e,gitdir:r,oid:i}),a=await l6({fs:e,cache:t,gitdir:r,oid:i,getExternalRefDelta:i=>sr({fs:e,cache:t,gitdir:r,oid:i})});for(let e of a)-1===n.indexOf(e)&&n.push(e);if(1===n.length)return n[0];if(n.length>1)throw new sn("oids",i,n);throw new og(`an object matching "${i}"`)}async function l4({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,cache:n={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oid",i),await l8({fs:new sV(e),cache:n,gitdir:r,oid:i})}catch(e){throw e.caller="git.expandOid",e}}async function l9({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("ref",i),await oW.expand({fs:new sV(e),gitdir:r,ref:i})}catch(e){throw e.caller="git.expandRef",e}}async function l7({fs:e,cache:t,gitdir:r,oids:i}){let n={},a=i.length,o=i.map((e,t)=>({index:t,oid:e}));for(;o.length;){let i=new Set;for(let{oid:e,index:t}of o)n[e]||(n[e]=new Set),n[e].add(t),n[e].size===a&&i.add(e);if(i.size>0)return[...i];let s=new Map;for(let{oid:i,index:a}of o)try{let{object:o}=await sr({fs:e,cache:t,gitdir:r,oid:i}),l=sM.from(o),{parent:u}=l.parseHeaders();for(let e of u)n[e]&&n[e].has(a)||s.set(e+":"+a,{oid:e,index:a})}catch(e){}o=Array.from(s.values())}return[]}const ue=/^.*(\r?\n|$)/gm;function ut({branches:e,contents:t}){let r=e[1],i=e[2],n=t[0],a=t[1],o=t[2],s=a.match(ue),l=n.match(ue),u=o.match(ue),c=aY(s,l,u),f="",h=!0;for(let e of c)e.ok&&(f+=e.ok.join("")),e.conflict&&(h=!1,f+=`${"<".repeat(7)} ${r}
`+e.conflict.a.join("")+`${"=".repeat(7)}
`+e.conflict.b.join("")+`${">".repeat(7)} ${i}
`);return{cleanMerge:h,mergedText:f}}async function ur({fs:e,cache:t,dir:r,gitdir:i=ox(r,".git"),index:n,ourOid:a,baseOid:o,theirOid:s,ourName:l="ours",baseName:u="base",theirName:c="theirs",dryRun:f=!1,abortOnConflict:h=!0,mergeDriver:d}){let p=sL({ref:a}),g=sL({ref:o}),m=sL({ref:s}),w=[],_=[],y=[],b=[],v=await sF({fs:e,cache:t,dir:r,gitdir:i,trees:[p,g,m],map:async function(t,[r,a,o]){let s=ou(t),f=await sK(r,a),p=await sK(o,a);switch(`${f}-${p}`){case"false-false":return{mode:await a.mode(),path:s,oid:await a.oid(),type:await a.type()};case"false-true":return o?{mode:await o.mode(),path:s,oid:await o.oid(),type:await o.type()}:void 0;case"true-false":return r?{mode:await r.mode(),path:s,oid:await r.oid(),type:await r.type()}:void 0;case"true-true":if(r&&a&&o&&await r.type()==="blob"&&await a.type()==="blob"&&await o.type()==="blob")return ui({fs:e,gitdir:i,path:s,ours:r,base:a,theirs:o,ourName:l,baseName:u,theirName:c,mergeDriver:d}).then(async e=>{if(e.cleanMerge)h||n.insert({filepath:t,oid:e.mergeResult.oid,stage:0});else if(w.push(t),_.push(t),!h){let e=await a.oid(),i=await r.oid(),s=await o.oid();n.delete({filepath:t}),n.insert({filepath:t,oid:e,stage:1}),n.insert({filepath:t,oid:i,stage:2}),n.insert({filepath:t,oid:s,stage:3})}return e.mergeResult});if(a&&!r&&o&&await a.type()==="blob"&&await o.type()==="blob"){if(w.push(t),y.push(t),!h){let e=await a.oid(),r=await o.oid();n.delete({filepath:t}),n.insert({filepath:t,oid:e,stage:1}),n.insert({filepath:t,oid:r,stage:3})}return{mode:await o.mode(),oid:await o.oid(),type:"blob",path:s}}if(a&&r&&!o&&await a.type()==="blob"&&await r.type()==="blob"){if(w.push(t),b.push(t),!h){let e=await a.oid(),i=await r.oid();n.delete({filepath:t}),n.insert({filepath:t,oid:e,stage:1}),n.insert({filepath:t,oid:i,stage:2})}return{mode:await r.mode(),oid:await r.oid(),type:"blob",path:s}}if(a&&!r&&!o&&await a.type()==="blob")return;throw new sp}},reduce:0!==w.length&&(!r||h)?void 0:async(t,r)=>{let n=r.filter(Boolean);if(t&&(!t||"tree"!==t.type||0!==n.length)){if(n.length>0){let r=new oQ(n),a=r.toObject(),o=await s2({fs:e,gitdir:i,type:"tree",object:a,dryRun:f});t.oid=o}return t}}});return 0!==w.length?(r&&!h&&await sF({fs:e,cache:t,dir:r,gitdir:i,trees:[sL({ref:v.oid})],map:async function(t,[i]){let n=`${r}/${t}`;if(await i.type()==="blob"){let t=await i.mode(),r=new TextDecoder().decode(await i.content());await e.write(n,r,{mode:t})}return!0}}),new sg(w,_,y,b)):v.oid}async function ui({fs:e,gitdir:t,path:r,ours:i,base:n,theirs:a,ourName:o,theirName:s,baseName:l,dryRun:u,mergeDriver:c=ut}){let f="blob",h=await n.mode()===await i.mode()?await a.mode():await i.mode();if(await i.oid()===await a.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:r,oid:await i.oid(),type:f}};if(await i.oid()===await n.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:r,oid:await a.oid(),type:f}};if(await a.oid()===await n.oid())return{cleanMerge:!0,mergeResult:{mode:h,path:r,oid:await i.oid(),type:f}};let d=Buffer.from(await i.content()).toString("utf8"),p=Buffer.from(await n.content()).toString("utf8"),g=Buffer.from(await a.content()).toString("utf8"),{mergedText:m,cleanMerge:w}=await c({branches:[l,o,s],contents:[p,d,g],path:r}),_=await s2({fs:e,gitdir:t,type:"blob",object:Buffer.from(m,"utf8"),dryRun:u});return{cleanMerge:w,mergeResult:{mode:h,path:r,oid:_,type:f}}}async function un({fs:e,cache:t,dir:r,gitdir:i,ours:n,theirs:a,fastForward:o=!0,fastForwardOnly:s=!1,dryRun:l=!1,noUpdateBranch:u=!1,abortOnConflict:c=!0,message:f,author:h,committer:d,signingKey:p,onSign:g,mergeDriver:m}){void 0===n&&(n=await ly({fs:e,gitdir:i,fullname:!0})),n=await oW.expand({fs:e,gitdir:i,ref:n}),a=await oW.expand({fs:e,gitdir:i,ref:a});let w=await oW.resolve({fs:e,gitdir:i,ref:n}),_=await oW.resolve({fs:e,gitdir:i,ref:a}),y=await l7({fs:e,cache:t,gitdir:i,oids:[w,_]});if(1!==y.length)throw new sp;let b=y[0];if(b===_)return{oid:w,alreadyMerged:!0};if(o&&b===w)return l||u||await oW.writeRef({fs:e,gitdir:i,ref:n,value:_}),{oid:_,fastForward:!0};{if(s)throw new sl;let o=await ol.acquire({fs:e,gitdir:i,cache:t,allowUnmerged:!1},async o=>ur({fs:e,cache:t,dir:r,gitdir:i,index:o,ourOid:w,theirOid:_,baseOid:b,ourName:l_(n),baseName:"base",theirName:l_(a),dryRun:l,abortOnConflict:c,mergeDriver:m}));if(o instanceof sg)throw o;f||(f=`Merge branch '${l_(a)}' into ${l_(n)}`);let y=await s8({fs:e,cache:t,gitdir:i,message:f,ref:n,tree:o,parent:[w,_],author:h,committer:d,signingKey:p,onSign:g,dryRun:l,noUpdateBranch:u});return{oid:y,tree:o,mergeCommit:!0}}}async function ua({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,dir:l,gitdir:u,ref:c,url:f,remote:h,remoteRef:d,prune:p,pruneTags:g,fastForward:m,fastForwardOnly:w,corsProxy:_,singleBranch:y,headers:b,author:v,committer:E,signingKey:S}){try{if(!c){let t=await ly({fs:e,gitdir:u});if(!t)throw new sw("ref");c=t}let{fetchHead:x,fetchHeadDescription:k}=await lW({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,gitdir:u,corsProxy:_,ref:c,url:f,remote:h,remoteRef:d,singleBranch:y,headers:b,prune:p,pruneTags:g});await un({fs:e,cache:t,gitdir:u,ours:c,theirs:x,fastForward:m,fastForwardOnly:w,message:`Merge ${k}`,author:v,committer:E,signingKey:S,dryRun:!1,noUpdateBranch:!1}),await lp({fs:e,cache:t,onProgress:i,dir:l,gitdir:u,ref:c,remote:h,noCheckout:!1})}catch(e){throw e.caller="git.pull",e}}async function uo({fs:e,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l=ox(s,".git"),ref:u,url:c,remote:f,remoteRef:h,corsProxy:d,singleBranch:p,headers:g={},cache:m={}}){try{sZ("fs",e),sZ("http",t),sZ("gitdir",l);let w={name:"",email:"",timestamp:Date.now(),timezoneOffset:0};return await ua({fs:new sV(e),cache:m,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l,ref:u,url:c,remote:f,remoteRef:h,fastForwardOnly:!0,corsProxy:d,singleBranch:p,headers:g,author:w,committer:w})}catch(e){throw e.caller="git.fastForward",e}}async function us({fs:e,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l=ox(s,".git"),ref:u,remote:c,remoteRef:f,url:h,corsProxy:d,depth:p=null,since:g=null,exclude:m=[],relative:w=!1,tags:_=!1,singleBranch:y=!1,headers:b={},prune:v=!1,pruneTags:E=!1,cache:S={}}){try{return sZ("fs",e),sZ("http",t),sZ("gitdir",l),await lW({fs:new sV(e),cache:S,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,gitdir:l,ref:u,remote:c,remoteRef:f,url:h,corsProxy:d,depth:p,since:g,exclude:m,relative:w,tags:_,singleBranch:y,headers:b,prune:v,pruneTags:E})}catch(e){throw e.caller="git.fetch",e}}async function ul({fs:e,dir:t,gitdir:r=ox(t,".git"),oids:i,cache:n={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oids",i),await l7({fs:new sV(e),cache:n,gitdir:r,oids:i})}catch(e){throw e.caller="git.findMergeBase",e}}async function uu({fs:e,filepath:t}){if(await e.exists(ox(t,".git")))return t;{let r=oc(t);if(r===t)throw new og(`git root for ${t}`);return uu({fs:e,filepath:r})}}async function uc({fs:e,filepath:t}){try{return sZ("fs",e),sZ("filepath",t),await uu({fs:new sV(e),filepath:t})}catch(e){throw e.caller="git.findRoot",e}}async function uf({fs:e,dir:t,gitdir:r=ox(t,".git"),path:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("path",i),await li({fs:new sV(e),gitdir:r,path:i})}catch(e){throw e.caller="git.getConfig",e}}async function uh({fs:e,gitdir:t,path:r}){let i=await oU.get({fs:e,gitdir:t});return i.getall(r)}async function ud({fs:e,dir:t,gitdir:r=ox(t,".git"),path:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("path",i),await uh({fs:new sV(e),gitdir:r,path:i})}catch(e){throw e.caller="git.getConfigAll",e}}async function up({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:i,corsProxy:n,url:a,headers:o={},forPush:s=!1}){try{sZ("http",e),sZ("url",a);let l=lM.getRemoteHelperFor({url:a}),u=await l.discover({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:i,corsProxy:n,service:s?"git-receive-pack":"git-upload-pack",url:a,headers:o,protocolVersion:1}),c={capabilities:[...u.capabilities]};for(let[e,t]of u.refs){let r=e.split("/"),i=r.pop(),n=c;for(let e of r)n[e]=n[e]||{},n=n[e];n[i]=t}for(let[e,t]of u.symrefs){let r=e.split("/"),i=r.pop(),n=c;for(let e of r)n[e]=n[e]||{},n=n[e];n[i]=t}return c}catch(e){throw e.caller="git.getRemoteInfo",e}}function ug(e,t,r,i){let n=[];for(let[a,o]of e.refs){if(t&&!a.startsWith(t))continue;if(a.endsWith("^{}")){if(i){let e=a.replace("^{}",""),t=n[n.length-1],r=t.ref===e?t:n.find(t=>t.ref===e);if(void 0===r)throw Error("I did not expect this to happen");r.peeled=o}continue}let s={ref:a,oid:o};r&&e.symrefs.has(a)&&(s.target=e.symrefs.get(a)),n.push(s)}return n}async function um({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:i,corsProxy:n,url:a,headers:o={},forPush:s=!1,protocolVersion:l=2}){try{sZ("http",e),sZ("url",a);let u=lM.getRemoteHelperFor({url:a}),c=await u.discover({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:i,corsProxy:n,service:s?"git-receive-pack":"git-upload-pack",url:a,headers:o,protocolVersion:l});if(2===c.protocolVersion)return{protocolVersion:c.protocolVersion,capabilities:c.capabilities2};let f={};for(let e of c.capabilities){let[t,r]=e.split("=");r?f[t]=r:f[t]=!0}return{protocolVersion:1,capabilities:f,refs:ug(c,void 0,!0,!0)}}catch(e){throw e.caller="git.getRemoteInfo2",e}}async function uw({type:e,object:t,format:r="content",oid:i}){return"deflated"!==r&&("wrapped"!==r&&(t=oY.wrap({type:e,object:t})),i=await a7(t)),{oid:i,object:t}}async function u_({object:e}){try{sZ("object",e),e="string"==typeof e?Buffer.from(e,"utf8"):Buffer.from(e);let{oid:t,object:r}=await uw({type:"blob",format:"content",object:e});return{oid:t,type:"blob",object:new Uint8Array(r),format:"wrapped"}}catch(e){throw e.caller="git.hashBlob",e}}async function uy({fs:e,cache:t,onProgress:r,dir:i,gitdir:n,filepath:a}){try{a=ox(i,a);let o=await e.read(a),s=await o4.fromPack({pack:o,getExternalRefDelta:r=>sr({fs:e,cache:t,gitdir:n,oid:r}),onProgress:r});return await e.write(a.replace(/\.pack$/,".idx"),await s.toBuffer()),{oids:[...s.hashes]}}catch(e){throw e.caller="git.indexPack",e}}async function ub({fs:e,onProgress:t,dir:r,gitdir:i=ox(r,".git"),filepath:n,cache:a={}}){try{return sZ("fs",e),sZ("dir",r),sZ("gitdir",r),sZ("filepath",n),await uy({fs:new sV(e),cache:a,onProgress:t,dir:r,gitdir:i,filepath:n})}catch(e){throw e.caller="git.indexPack",e}}async function uv({fs:e,bare:t=!1,dir:r,gitdir:i=t?r:ox(r,".git"),defaultBranch:n="master"}){try{return sZ("fs",e),sZ("gitdir",i),t||sZ("dir",r),await lq({fs:new sV(e),bare:t,dir:r,gitdir:i,defaultBranch:n})}catch(e){throw e.caller="git.init",e}}async function uE({fs:e,cache:t,gitdir:r,oid:i,ancestor:n,depth:a}){let o=await lB.read({fs:e,gitdir:r});if(!i)throw new sw("oid");if(!n)throw new sw("ancestor");if(i===n)return!1;let s=[i],l=new Set,u=0;for(;s.length;){if(u++===a)throw new sd(a);let i=s.shift(),{type:c,object:f}=await sr({fs:e,cache:t,gitdir:r,oid:i});if("commit"!==c)throw new om(i,c,"commit");let h=sM.from(f).parse();for(let e of h.parent)if(e===n)return!0;if(!o.has(i))for(let e of h.parent)l.has(e)||(s.push(e),l.add(e))}return!1}async function uS({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,ancestor:n,depth:a=-1,cache:o={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oid",i),sZ("ancestor",n),await uE({fs:new sV(e),cache:o,gitdir:r,oid:i,ancestor:n,depth:a})}catch(e){throw e.caller="git.isDescendent",e}}async function ux({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i}){try{return sZ("fs",e),sZ("dir",t),sZ("gitdir",r),sZ("filepath",i),sY.isIgnored({fs:new sV(e),dir:t,gitdir:r,filepath:i})}catch(e){throw e.caller="git.isIgnored",e}}async function uk({fs:e,dir:t,gitdir:r=ox(t,".git"),remote:i}){try{return sZ("fs",e),sZ("gitdir",r),oW.listBranches({fs:new sV(e),gitdir:r,remote:i})}catch(e){throw e.caller="git.listBranches",e}}async function uA({fs:e,gitdir:t,ref:r,cache:i}){if(!r)return ol.acquire({fs:e,gitdir:t,cache:i},async function(e){return e.entries.map(e=>e.path)});{let n=await oW.resolve({gitdir:t,fs:e,ref:r}),a=[];return await uR({fs:e,cache:i,gitdir:t,oid:n,filenames:a,prefix:""}),a}}async function uR({fs:e,cache:t,gitdir:r,oid:i,filenames:n,prefix:a}){let{tree:o}=await le({fs:e,cache:t,gitdir:r,oid:i});for(let i of o)"tree"===i.type?await uR({fs:e,cache:t,gitdir:r,oid:i.oid,filenames:n,prefix:ox(a,i.path)}):n.push(ox(a,i.path))}async function uO({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i,cache:n={}}){try{return sZ("fs",e),sZ("gitdir",r),await uA({fs:new sV(e),cache:n,gitdir:r,ref:i})}catch(e){throw e.caller="git.listFiles",e}}async function u$({fs:e,cache:t,gitdir:r,ref:i}){let n;try{n=await oW.resolve({gitdir:r,fs:e,ref:i})}catch(e){if(e instanceof og)return[]}let a=await le({fs:e,cache:t,gitdir:r,oid:n}),o=a.tree.map(e=>({target:e.path,note:e.oid}));return o}async function uC({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i="refs/notes/commits",cache:n={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("ref",i),await u$({fs:new sV(e),cache:n,gitdir:r,ref:i})}catch(e){throw e.caller="git.listNotes",e}}async function uP({fs:e,gitdir:t}){let r=await oU.get({fs:e,gitdir:t}),i=await r.getSubsections("remote"),n=Promise.all(i.map(async e=>{let t=await r.get(`remote.${e}.url`);return{remote:e,url:t}}));return n}async function uT({fs:e,dir:t,gitdir:r=ox(t,".git")}){try{return sZ("fs",e),sZ("gitdir",r),await uP({fs:new sV(e),gitdir:r})}catch(e){throw e.caller="git.listRemotes",e}}async function uM(e){let t;let r=lk.streamReader(e),i=[];for(;!0!==(t=await r());){if(null===t)continue;t=t.toString("utf8").replace(/\n$/,"");let[e,r,...n]=t.split(" "),a={ref:r,oid:e};for(let e of n){let[t,r]=e.split(":");"symref-target"===t?a.target=r:"peeled"===t&&(a.peeled=r)}i.push(a)}return i}async function uI({prefix:e,symrefs:t,peelTags:r}){let i=[];return i.push(lk.encode("command=ls-refs\n")),i.push(lk.encode(`agent=${lH.agent}
`)),(r||t||e)&&i.push(lk.delim()),r&&i.push(lk.encode("peel")),t&&i.push(lk.encode("symrefs")),e&&i.push(lk.encode(`ref-prefix ${e}`)),i.push(lk.flush()),i}async function uB({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:i,corsProxy:n,url:a,headers:o={},forPush:s=!1,protocolVersion:l=2,prefix:u,symrefs:c,peelTags:f}){try{sZ("http",e),sZ("url",a);let h=await lT.discover({http:e,onAuth:t,onAuthSuccess:r,onAuthFailure:i,corsProxy:n,service:s?"git-receive-pack":"git-upload-pack",url:a,headers:o,protocolVersion:l});if(1===h.protocolVersion)return ug(h,u,c,f);let d=await uI({prefix:u,symrefs:c,peelTags:f}),p=await lT.connect({http:e,auth:h.auth,headers:o,corsProxy:n,service:s?"git-receive-pack":"git-upload-pack",url:a,body:d});return uM(p.body)}catch(e){throw e.caller="git.listServerRefs",e}}async function uL({fs:e,dir:t,gitdir:r=ox(t,".git")}){try{return sZ("fs",e),sZ("gitdir",r),oW.listTags({fs:new sV(e),gitdir:r})}catch(e){throw e.caller="git.listTags",e}}async function uj({fs:e,cache:t,gitdir:r,oid:i}){let{type:n,object:a}=await sr({fs:e,cache:t,gitdir:r,oid:i});if("tag"===n)return uj({fs:e,cache:t,gitdir:r,oid:i=sP.from(a).parse().object});if("commit"!==n)throw new om(i,n,"commit");return{commit:sM.from(a),oid:i}}async function uD({fs:e,cache:t,gitdir:r,oid:i}){let{commit:n,oid:a}=await uj({fs:e,cache:t,gitdir:r,oid:i}),o={oid:a,commit:n.parse(),payload:n.withoutSignature()};return o}async function uN({fs:e,cache:t,gitdir:r,oid:i,fileId:n}){let a;if("e69de29bb2d1d6434b8b29ae775ad8c2e48c5391"===n)return;let o=await sI({fs:e,cache:t,gitdir:r,oid:i}),s=o.tree;return n===o.oid?a=o.path:Array.isArray(a=await uH({fs:e,cache:t,gitdir:r,tree:s,fileId:n,oid:i}))&&(0===a.length?a=void 0:1===a.length&&(a=a[0])),a}async function uH({fs:e,cache:t,gitdir:r,tree:i,fileId:n,oid:a,filepaths:o=[],parentPath:s=""}){let l=i.entries().map(function(i){let l;return i.oid===n?(l=ox(s,i.path),o.push(l)):"tree"===i.type&&(l=sr({fs:e,cache:t,gitdir:r,oid:i.oid}).then(function({object:l}){return uH({fs:e,cache:t,gitdir:r,tree:oQ.from(l),fileId:n,oid:a,filepaths:o,parentPath:ox(s,i.path)})})),l});return await Promise.all(l),o}async function uF({fs:e,cache:t,gitdir:r,filepath:i,ref:n,depth:a,since:o,force:s,follow:l}){let u,c,f;let h=void 0===o?void 0:Math.floor(o.valueOf()/1e3),d=[],p=await lB.read({fs:e,gitdir:r}),g=await oW.resolve({fs:e,gitdir:r,ref:n}),m=[await uD({fs:e,cache:t,gitdir:r,oid:g})];function w(e){f&&i&&d.push(e)}for(;m.length>0;){let n=m.pop();if(void 0!==h&&n.commit.committer.timestamp<=h)break;if(i){let a;try{a=await s9({fs:e,cache:t,gitdir:r,oid:n.commit.tree,filepath:i}),c&&u!==a&&d.push(c),u=a,c=n,f=!0}catch(a){if(a instanceof og){let o=l&&u;if(o&&(o=await uN({fs:e,cache:t,gitdir:r,oid:n.commit.tree,fileId:u}))){if(Array.isArray(o)){if(c){let n=await uN({fs:e,cache:t,gitdir:r,oid:c.commit.tree,fileId:u});if(Array.isArray(n)){if(1===(o=o.filter(e=>-1===n.indexOf(e))).length)i=o=o[0],c&&d.push(c);else{o=!1,c&&d.push(c);break}}}}else i=o,c&&d.push(c)}if(!o){if(f&&u&&(d.push(c),!s))break;if(!s&&!l)throw a}c=n,f=!1}else throw a}}else d.push(n);if(void 0!==a&&d.length===a){w(n);break}if(!p.has(n.oid))for(let i of n.commit.parent){let n=await uD({fs:e,cache:t,gitdir:r,oid:i});m.map(e=>e.oid).includes(n.oid)||m.push(n)}0===m.length&&w(n),m.sort((e,t)=>{var r,i;return r=e.commit,i=t.commit,r.committer.timestamp-i.committer.timestamp})}return d}async function uU({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i,ref:n="HEAD",depth:a,since:o,force:s,follow:l,cache:u={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("ref",n),await uF({fs:new sV(e),cache:u,gitdir:r,filepath:i,ref:n,depth:a,since:o,force:s,follow:l})}catch(e){throw e.caller="git.log",e}}async function uz({fs:e,onSign:t,dir:r,gitdir:i=ox(r,".git"),ours:n,theirs:a,fastForward:o=!0,fastForwardOnly:s=!1,dryRun:l=!1,noUpdateBranch:u=!1,abortOnConflict:c=!0,message:f,author:h,committer:d,signingKey:p,cache:g={},mergeDriver:m}){try{sZ("fs",e),p&&sZ("onSign",t);let w=new sV(e),_=await ln({fs:w,gitdir:i,author:h});if(!_&&(!s||!o))throw new sm("author");let y=await la({fs:w,gitdir:i,author:_,committer:d});if(!y&&(!s||!o))throw new sm("committer");return await un({fs:w,cache:g,dir:r,gitdir:i,ours:n,theirs:a,fastForward:o,fastForwardOnly:s,dryRun:l,noUpdateBranch:u,abortOnConflict:c,message:f,author:_,committer:y,signingKey:p,onSign:t,mergeDriver:m})}catch(e){throw e.caller="git.merge",e}}const uG={commit:16,tree:32,blob:48,tag:64,ofs_delta:96,ref_delta:112};async function uW({fs:e,cache:t,dir:r,gitdir:i=ox(r,".git"),oids:n}){let a=new i1,o=[];function s(e,t){let r=Buffer.from(e,t);o.push(r),a.update(r)}async function l({stype:e,object:t}){let r=uG[e],i=t.length,n=i>15?128:0,a=15&i;i>>>=4;let o=(n|r|a).toString(16);for(s(o,"hex");n;)s(lx(2,o=(n=i>127?128:0)|127&i),"hex"),i>>>=7;s(Buffer.from(await s0(t)))}for(let r of(s("PACK"),s("00000002","hex"),s(lx(8,n.length),"hex"),n)){let{type:n,object:a}=await sr({fs:e,cache:t,gitdir:i,oid:r});await l({write:s,object:a,stype:n})}let u=a.digest();return o.push(u),o}async function uq({fs:e,cache:t,gitdir:r,oids:i,write:n}){let a=await uW({fs:e,cache:t,gitdir:r,oids:i}),o=Buffer.from(await lE(a)),s=o.slice(-20).toString("hex"),l=`pack-${s}.pack`;return n?(await e.write(ox(r,`objects/pack/${l}`),o),{filename:l}):{filename:l,packfile:new Uint8Array(o)}}async function uV({fs:e,cache:t,dir:r,gitdir:i=ox(r,".git"),start:n,finish:a}){let o=await lB.read({fs:e,gitdir:i}),s=new Set,l=new Set;for(let t of n)s.add(await oW.resolve({fs:e,gitdir:i,ref:t}));for(let t of a)try{let r=await oW.resolve({fs:e,gitdir:i,ref:t});l.add(r)}catch(e){}let u=new Set;async function c(r){u.add(r);let{type:n,object:a}=await sr({fs:e,cache:t,gitdir:i,oid:r});if("tag"===n){let e=sP.from(a),t=e.headers().object;return c(t)}if("commit"!==n)throw new om(r,n,"commit");if(!o.has(r)){let e=sM.from(a),t=e.headers().parent;for(r of t)l.has(r)||u.has(r)||await c(r)}}for(let e of s)await c(e);return u}async function uZ({fs:e,cache:t,dir:r,gitdir:i=ox(r,".git"),oids:n}){let a=new Set;async function o(r){if(a.has(r))return;a.add(r);let{type:n,object:s}=await sr({fs:e,cache:t,gitdir:i,oid:r});if("tag"===n){let e=sP.from(s),t=e.headers().object;await o(t)}else if("commit"===n){let e=sM.from(s),t=e.headers().tree;await o(t)}else if("tree"===n){let e=oQ.from(s);for(let t of e)"blob"===t.type&&a.add(t.oid),"tree"===t.type&&await o(t.oid)}}for(let e of n)await o(e);return a}async function uK(e){let t={},r="",i=lk.streamReader(e),n=await i();for(;!0!==n;)null!==n&&(r+=n.toString("utf8")+"\n"),n=await i();let a=r.toString("utf8").split("\n");if(!(n=a.shift()).startsWith("unpack "))throw new sy('unpack ok" or "unpack [error message]',n);for(let e of(t.ok="unpack ok"===n,t.ok||(t.error=n.slice(7)),t.refs={},a)){if(""===e.trim())continue;let r=e.slice(0,2),i=e.slice(3),n=i.indexOf(" ");-1===n&&(n=i.length);let a=i.slice(0,n),o=i.slice(n+1);t.refs[a]={ok:"ok"===r,error:o}}return t}async function uQ({capabilities:e=[],triplets:t=[]}){let r=[],i=`\0 ${e.join(" ")}`;for(let e of t)r.push(lk.encode(`${e.oldoid} ${e.oid} ${e.fullRef}${i}
`)),i="";return r.push(lk.flush()),r}async function uY({fs:e,cache:t,http:r,onProgress:i,onMessage:n,onAuth:a,onAuthSuccess:o,onAuthFailure:s,gitdir:l,ref:u,remoteRef:c,remote:f,url:h,force:d=!1,delete:p=!1,corsProxy:g,headers:m={}}){let w;let _=u||await ly({fs:e,gitdir:l});if(void 0===_)throw new sw("ref");let y=await oU.get({fs:e,gitdir:l});f=f||await y.get(`branch.${_}.pushRemote`)||await y.get("remote.pushDefault")||await y.get(`branch.${_}.remote`)||"origin";let b=h||await y.get(`remote.${f}.pushurl`)||await y.get(`remote.${f}.url`);if(void 0===b)throw new sw("remote OR url");let v=c||await y.get(`branch.${_}.merge`);if(void 0===b)throw new sw("remoteRef");void 0===g&&(g=await y.get("http.corsProxy"));let E=await oW.expand({fs:e,gitdir:l,ref:_}),S=p?"0000000000000000000000000000000000000000":await oW.resolve({fs:e,gitdir:l,ref:E}),x=lM.getRemoteHelperFor({url:b}),k=await x.discover({http:r,onAuth:a,onAuthSuccess:o,onAuthFailure:s,corsProxy:g,service:"git-receive-pack",url:b,headers:m,protocolVersion:1}),A=k.auth;if(v)try{w=await oW.expandAgainstMap({ref:v,map:k.refs})}catch(e){if(e instanceof og)w=v.startsWith("refs/")?v:`refs/heads/${v}`;else throw e}else w=E;let R=k.refs.get(w)||"0000000000000000000000000000000000000000",O=!k.capabilities.has("no-thin"),$=new Set;if(!p){let r=[...k.refs.values()],i=new Set;if("0000000000000000000000000000000000000000"!==R){let n=await l7({fs:e,cache:t,gitdir:l,oids:[S,R]});for(let e of n)r.push(e);O&&(i=await uZ({fs:e,cache:t,gitdir:l,oids:n}))}if(!r.includes(S)){let i=await uV({fs:e,cache:t,gitdir:l,start:[S],finish:r});$=await uZ({fs:e,cache:t,gitdir:l,oids:i})}if(O){try{let r=await oW.resolve({fs:e,gitdir:l,ref:`refs/remotes/${f}/HEAD`,depth:2}),{oid:n}=await oW.resolveAgainstMap({ref:r.replace(`refs/remotes/${f}/`,""),fullref:r,map:k.refs}),a=[n];for(let r of(await uZ({fs:e,cache:t,gitdir:l,oids:a})))i.add(r)}catch(e){}for(let e of i)$.delete(e)}if(S===R&&(d=!0),!d){if(E.startsWith("refs/tags")&&"0000000000000000000000000000000000000000"!==R)throw new sb("tag-exists");if("0000000000000000000000000000000000000000"!==S&&"0000000000000000000000000000000000000000"!==R&&!await uE({fs:e,cache:t,gitdir:l,oid:S,ancestor:R,depth:-1}))throw new sb("not-fast-forward")}}let C=lN([...k.capabilities],["report-status","side-band-64k",`agent=${lH.agent}`]),P=await uQ({capabilities:C,triplets:[{oldoid:R,oid:S,fullRef:w}]}),T=p?[]:await uW({fs:e,cache:t,gitdir:l,oids:[...$]}),M=await x.connect({http:r,onProgress:i,corsProxy:g,service:"git-receive-pack",url:b,auth:A,headers:m,body:[...P,...T]}),{packfile:I,progress:B}=await lz.demux(M.body);if(n){let e=lU(B);lv(e,async e=>{await n(e)})}let L=await uK(I);if(M.headers&&(L.headers=M.headers),f&&L.ok&&L.refs[w].ok){let t=`refs/remotes/${f}/${w.replace("refs/heads","")}`;p?await oW.deleteRef({fs:e,gitdir:l,ref:t}):await oW.writeRef({fs:e,gitdir:l,ref:t,value:S})}if(L.ok&&Object.values(L.refs).every(e=>e.ok))return L;{let e=Object.entries(L.refs).filter(([e,t])=>!t.ok).map(([e,t])=>`
  - ${e}: ${t.error}`).join("");throw new su(e,L)}}async function uX({fs:e,cache:t,gitdir:r,oid:i}){let{type:n,object:a}=await sr({fs:e,cache:t,gitdir:r,oid:i});if("tag"===n)return uX({fs:e,cache:t,gitdir:r,oid:i=sP.from(a).parse().object});if("blob"!==n)throw new om(i,n,"blob");return{oid:i,blob:new Uint8Array(a)}}async function uJ({fs:e,cache:t,gitdir:r,oid:i,filepath:n}){void 0!==n&&(i=await s9({fs:e,cache:t,gitdir:r,oid:i,filepath:n}));let a=await uX({fs:e,cache:t,gitdir:r,oid:i});return a}async function u0({fs:e,cache:t,gitdir:r,ref:i="refs/notes/commits",oid:n}){let a=await oW.resolve({gitdir:r,fs:e,ref:i}),{blob:o}=await uJ({fs:e,cache:t,gitdir:r,oid:a,filepath:n});return o}async function u1({fs:e,cache:t,gitdir:r,oid:i}){let{type:n,object:a}=await sr({fs:e,cache:t,gitdir:r,oid:i,format:"content"});if("tag"!==n)throw new om(i,n,"tag");let o=sP.from(a),s={oid:i,tag:o.parse(),payload:o.payload()};return s}async function u2({fs:e,cache:t,onSign:r,gitdir:i,ref:n="refs/notes/commits",oid:a,author:o,committer:s,signingKey:l}){let u;try{u=await oW.resolve({gitdir:i,fs:e,ref:n})}catch(e){if(!(e instanceof og))throw e}let c=await le({fs:e,gitdir:i,oid:u||"4b825dc642cb6eb9a060e54bf8d69288fbee4904"}),f=c.tree;f=f.filter(e=>e.path!==a);let h=await lt({fs:e,gitdir:i,tree:f}),d=await s8({fs:e,cache:t,onSign:r,gitdir:i,ref:n,tree:h,parent:u&&[u],message:`Note removed by 'isomorphic-git removeNote'
`,author:o,committer:s,signingKey:l});return d}async function u5({fs:e,gitdir:t,oldref:r,ref:i,checkout:n=!1}){if(i!==aZ.clean(i))throw new sh(i,aZ.clean(i));if(r!==aZ.clean(r))throw new sh(r,aZ.clean(r));let a=`refs/heads/${r}`,o=`refs/heads/${i}`,s=await oW.exists({fs:e,gitdir:t,ref:o});if(s)throw new si("branch",i,!1);let l=await oW.resolve({fs:e,gitdir:t,ref:a,depth:1});await oW.writeRef({fs:e,gitdir:t,ref:o,value:l}),await oW.deleteRef({fs:e,gitdir:t,ref:a});let u=await ly({fs:e,gitdir:t,fullname:!0}),c=u===a;(n||c)&&await oW.writeSymbolicRef({fs:e,gitdir:t,ref:"HEAD",value:o})}async function u3({gitdir:e,type:t,object:r}){return a7(oY.wrap({type:t,object:r}))}async function u6({fs:e,cache:t,gitdir:r,tree:i,path:n}){"string"==typeof n&&(n=n.split("/"));let a=n.shift();for(let o of i)if(o.path===a){if(0===n.length)return o.oid;let{type:i,object:a}=await sr({fs:e,cache:t,gitdir:r,oid:o.oid});if("tree"===i){let i=oQ.from(a);return u6({fs:e,cache:t,gitdir:r,tree:i,path:n})}if("blob"===i)throw new om(o.oid,i,"blob",n.join("/"))}return null}async function u8({fs:e,cache:t,gitdir:r}){let i;try{i=await oW.resolve({fs:e,gitdir:r,ref:"HEAD"})}catch(e){if(e instanceof og)return[]}let{tree:n}=await le({fs:e,cache:t,gitdir:r,oid:i});return n}async function u4({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i="HEAD",filepaths:n=["."],filter:a,cache:o={},ignored:s=!1}){try{sZ("fs",e),sZ("gitdir",r),sZ("ref",i);let l=new sV(e);return await sF({fs:l,cache:o,dir:t,gitdir:r,trees:[sL({ref:i}),sD(),op()],map:async function(e,[r,i,o]){let u;if(!r&&!o&&i&&!s){let r=await sY.isIgnored({fs:l,dir:t,filepath:e});if(r)return null}if(!n.some(t=>ld(e,t)))return null;if(a&&!a(e))return;let[c,f,h]=await Promise.all([r&&r.type(),i&&i.type(),o&&o.type()]),d=[c,f,h].includes("blob");if(("tree"===c||"special"===c)&&!d)return;if("commit"===c)return null;if(("tree"===f||"special"===f)&&!d)return;if("commit"===h)return null;if(("tree"===h||"special"===h)&&!d)return;let p="blob"===c?await r.oid():void 0,g="blob"===h?await o.oid():void 0;"blob"!==c&&"blob"===f&&"blob"!==h?u="42":"blob"===f&&(u=await i.oid());let m=[void 0,p,u,g],w=m.map(e=>m.indexOf(e));return w.shift(),[e,...w]}})}catch(e){throw e.caller="git.statusMatrix",e}}async function u9({fs:e,gitdir:t,commit:r}){let i=sM.from(r).toObject(),n=await s2({fs:e,gitdir:t,type:"commit",object:i,format:"content"});return n}async function u7({fs:e,gitdir:t,tag:r}){let i=sP.from(r).toObject(),n=await s2({fs:e,gitdir:t,type:"tag",object:i,format:"content"});return n}var ce={Errors:sR,STAGE:op,TREE:sL,WORKDIR:sD,add:s3,abortMerge:sQ,addNote:lo,addRemote:ll,annotatedTag:lc,branch:lh,checkout:lm,clone:lZ,commit:lK,getConfig:uf,getConfigAll:ud,setConfig:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),path:i,value:n,append:a=!1}){try{sZ("fs",e),sZ("gitdir",r),sZ("path",i);let t=new sV(e),o=await oU.get({fs:t,gitdir:r});a?await o.append(i,n):await o.set(i,n),await oU.save({fs:t,gitdir:r,config:o})}catch(e){throw e.caller="git.setConfig",e}},currentBranch:lQ,deleteBranch:lX,deleteRef:lJ,deleteRemote:l1,deleteTag:l5,expandOid:l4,expandRef:l9,fastForward:uo,fetch:us,findMergeBase:ul,findRoot:uc,getRemoteInfo:up,getRemoteInfo2:um,hashBlob:u_,indexPack:ub,init:uv,isDescendent:uS,isIgnored:ux,listBranches:uk,listFiles:uO,listNotes:uC,listRemotes:uT,listServerRefs:uB,listTags:uL,log:uU,merge:uz,packObjects:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),oids:i,write:n=!1,cache:a={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oids",i),await uq({fs:new sV(e),cache:a,gitdir:r,oids:i,write:n})}catch(e){throw e.caller="git.packObjects",e}},pull:async function({fs:e,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l=ox(s,".git"),ref:u,url:c,remote:f,remoteRef:h,prune:d=!1,pruneTags:p=!1,fastForward:g=!0,fastForwardOnly:m=!1,corsProxy:w,singleBranch:_,headers:y={},author:b,committer:v,signingKey:E,cache:S={}}){try{sZ("fs",e),sZ("gitdir",l);let x=new sV(e),k=await ln({fs:x,gitdir:l,author:b});if(!k)throw new sm("author");let A=await la({fs:x,gitdir:l,author:k,committer:v});if(!A)throw new sm("committer");return await ua({fs:x,cache:S,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l,ref:u,url:c,remote:f,remoteRef:h,fastForward:g,fastForwardOnly:m,corsProxy:w,singleBranch:_,headers:y,author:k,committer:A,signingKey:E,prune:d,pruneTags:p})}catch(e){throw e.caller="git.pull",e}},push:async function({fs:e,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,dir:s,gitdir:l=ox(s,".git"),ref:u,remoteRef:c,remote:f="origin",url:h,force:d=!1,delete:p=!1,corsProxy:g,headers:m={},cache:w={}}){try{return sZ("fs",e),sZ("http",t),sZ("gitdir",l),await uY({fs:new sV(e),cache:w,http:t,onProgress:r,onMessage:i,onAuth:n,onAuthSuccess:a,onAuthFailure:o,gitdir:l,ref:u,remoteRef:c,remote:f,url:h,force:d,delete:p,corsProxy:g,headers:m})}catch(e){throw e.caller="git.push",e}},readBlob:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,filepath:n,cache:a={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oid",i),await uJ({fs:new sV(e),cache:a,gitdir:r,oid:i,filepath:n})}catch(e){throw e.caller="git.readBlob",e}},readCommit:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,cache:n={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oid",i),await uD({fs:new sV(e),cache:n,gitdir:r,oid:i})}catch(e){throw e.caller="git.readCommit",e}},readNote:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i="refs/notes/commits",oid:n,cache:a={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("ref",i),sZ("oid",n),await u0({fs:new sV(e),cache:a,gitdir:r,ref:i,oid:n})}catch(e){throw e.caller="git.readNote",e}},readObject:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,format:n="parsed",filepath:a,encoding:o,cache:s={}}){try{sZ("fs",e),sZ("gitdir",r),sZ("oid",i);let t=new sV(e);void 0!==a&&(i=await s9({fs:t,cache:s,gitdir:r,oid:i,filepath:a}));let l=await sr({fs:t,cache:s,gitdir:r,oid:i,format:"parsed"===n?"content":n});if(l.oid=i,"parsed"===n)switch(l.format="parsed",l.type){case"commit":l.object=sM.from(l.object).parse();break;case"tree":l.object=oQ.from(l.object).entries();break;case"blob":o?l.object=l.object.toString(o):(l.object=new Uint8Array(l.object),l.format="content");break;case"tag":l.object=sP.from(l.object).parse();break;default:throw new om(l.oid,l.type,"blob|commit|tag|tree")}else("deflated"===l.format||"wrapped"===l.format)&&(l.type=l.format);return l}catch(e){throw e.caller="git.readObject",e}},readTag:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,cache:n={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oid",i),await u1({fs:new sV(e),cache:n,gitdir:r,oid:i})}catch(e){throw e.caller="git.readTag",e}},readTree:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),oid:i,filepath:n,cache:a={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("oid",i),await le({fs:new sV(e),cache:a,gitdir:r,oid:i,filepath:n})}catch(e){throw e.caller="git.readTree",e}},remove:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i,cache:n={}}){try{sZ("fs",e),sZ("gitdir",r),sZ("filepath",i),await ol.acquire({fs:new sV(e),gitdir:r,cache:n},async function(e){e.delete({filepath:i})})}catch(e){throw e.caller="git.remove",e}},removeNote:async function({fs:e,onSign:t,dir:r,gitdir:i=ox(r,".git"),ref:n="refs/notes/commits",oid:a,author:o,committer:s,signingKey:l,cache:u={}}){try{sZ("fs",e),sZ("gitdir",i),sZ("oid",a);let r=new sV(e),c=await ln({fs:r,gitdir:i,author:o});if(!c)throw new sm("author");let f=await la({fs:r,gitdir:i,author:c,committer:s});if(!f)throw new sm("committer");return await u2({fs:r,cache:u,onSign:t,gitdir:i,ref:n,oid:a,author:c,committer:f,signingKey:l})}catch(e){throw e.caller="git.removeNote",e}},renameBranch:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i,oldref:n,checkout:a=!1}){try{return sZ("fs",e),sZ("gitdir",r),sZ("ref",i),sZ("oldref",n),await u5({fs:new sV(e),gitdir:r,ref:i,oldref:n,checkout:a})}catch(e){throw e.caller="git.renameBranch",e}},resetIndex:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i,ref:n,cache:a={}}){try{let o,s;sZ("fs",e),sZ("gitdir",r),sZ("filepath",i);let l=new sV(e);try{o=await oW.resolve({fs:l,gitdir:r,ref:n||"HEAD"})}catch(e){if(n)throw e}if(o)try{o=await s9({fs:l,cache:a,gitdir:r,oid:o,filepath:i})}catch(e){o=null}let u={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:0,uid:0,gid:0,size:0},c=t&&await l.read(ox(t,i));c&&(s=await u3({gitdir:r,type:"blob",object:c}),o===s&&(u=await l.lstat(ox(t,i)))),await ol.acquire({fs:l,gitdir:r,cache:a},async function(e){e.delete({filepath:i}),o&&e.insert({filepath:i,stats:u,oid:o})})}catch(e){throw e.caller="git.reset",e}},updateIndex:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),cache:i={},filepath:n,oid:a,mode:o,add:s,remove:l,force:u}){try{let c;sZ("fs",e),sZ("gitdir",r),sZ("filepath",n);let f=new sV(e);if(l)return await ol.acquire({fs:f,gitdir:r,cache:i},async function(e){let r;if(!u&&(r=await f.lstat(ox(t,n)))){if(r.isDirectory())throw new sf("directory");return}e.has({filepath:n})&&e.delete({filepath:n})});if(!a){if(!(c=await f.lstat(ox(t,n))))throw new og(`file at "${n}" on disk and "remove" not set`);if(c.isDirectory())throw new sf("directory")}return await ol.acquire({fs:f,gitdir:r,cache:i},async function(e){if(!s&&!e.has({filepath:n}))throw new og(`file at "${n}" in index and "add" not set`);let i={ctime:new Date(0),mtime:new Date(0),dev:0,ino:0,mode:o,uid:0,gid:0,size:0};if(!a){i=c;let e=i.isSymbolicLink()?await f.readlink(ox(t,n)):await f.read(ox(t,n));a=await s2({fs:f,gitdir:r,type:"blob",format:"content",object:e})}return e.insert({filepath:n,oid:a,stats:i}),a})}catch(e){throw e.caller="git.updateIndex",e}},resolveRef:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i,depth:n}){try{sZ("fs",e),sZ("gitdir",r),sZ("ref",i);let t=await oW.resolve({fs:new sV(e),gitdir:r,ref:i,depth:n});return t}catch(e){throw e.caller="git.resolveRef",e}},status:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),filepath:i,cache:n={}}){try{sZ("fs",e),sZ("gitdir",r),sZ("filepath",i);let a=new sV(e),o=await sY.isIgnored({fs:a,gitdir:r,dir:t,filepath:i});if(o)return"ignored";let s=await u8({fs:a,cache:n,gitdir:r}),l=await u6({fs:a,cache:n,gitdir:r,tree:s,path:i}),u=await ol.acquire({fs:a,gitdir:r,cache:n},async function(e){for(let t of e)if(t.path===i)return t;return null}),c=await a.lstat(ox(t,i)),f=null!==l,h=null!==u,d=null!==c,p=async()=>{if(h&&!oi(u,c))return u.oid;{let e=await a.read(ox(t,i)),o=await u3({gitdir:r,type:"blob",object:e});return h&&u.oid===o&&-1!==c.size&&ol.acquire({fs:a,gitdir:r,cache:n},async function(e){e.insert({filepath:i,stats:c,oid:o})}),o}};if(!f&&!d&&!h)return"absent";if(!f&&!d&&h)return"*absent";if(!f&&d&&!h)return"*added";if(!f&&d&&h){let e=await p();return e===u.oid?"added":"*added"}if(f&&!d&&!h)return"deleted";if(f&&!d&&h)return u.oid,"*deleted";if(f&&d&&!h){let e=await p();return e===l?"*undeleted":"*undeletemodified"}if(f&&d&&h){let e=await p();if(e===l)return e===u.oid?"unmodified":"*unmodified";return e===u.oid?"modified":"*modified"}}catch(e){throw e.caller="git.status",e}},statusMatrix:u4,tag:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i,object:n,force:a=!1}){try{sZ("fs",e),sZ("gitdir",r),sZ("ref",i);let t=new sV(e);if(void 0===i)throw new sw("ref");i=i.startsWith("refs/tags/")?i:`refs/tags/${i}`;let o=await oW.resolve({fs:t,gitdir:r,ref:n||"HEAD"});if(!a&&await oW.exists({fs:t,gitdir:r,ref:i}))throw new si("tag",i);await oW.writeRef({fs:t,gitdir:r,ref:i,value:o})}catch(e){throw e.caller="git.tag",e}},version:function(){try{return lH.version}catch(e){throw e.caller="git.version",e}},walk:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),trees:i,map:n,reduce:a,iterate:o,cache:s={}}){try{return sZ("fs",e),sZ("gitdir",r),sZ("trees",i),await sF({fs:new sV(e),cache:s,dir:t,gitdir:r,trees:i,map:n,reduce:a,iterate:o})}catch(e){throw e.caller="git.walk",e}},writeBlob:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),blob:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("blob",i),await s2({fs:new sV(e),gitdir:r,type:"blob",object:i,format:"content"})}catch(e){throw e.caller="git.writeBlob",e}},writeCommit:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),commit:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("commit",i),await u9({fs:new sV(e),gitdir:r,commit:i})}catch(e){throw e.caller="git.writeCommit",e}},writeObject:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),type:i,object:n,format:a="parsed",oid:o,encoding:s}){try{let t=new sV(e);if("parsed"===a){switch(i){case"commit":n=sM.from(n).toObject();break;case"tree":n=oQ.from(n).toObject();break;case"blob":n=Buffer.from(n,s);break;case"tag":n=sP.from(n).toObject();break;default:throw new om(o||"",i,"blob|commit|tag|tree")}a="content"}return o=await s2({fs:t,gitdir:r,type:i,object:n,oid:o,format:a})}catch(e){throw e.caller="git.writeObject",e}},writeRef:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),ref:i,value:n,force:a=!1,symbolic:o=!1}){try{sZ("fs",e),sZ("gitdir",r),sZ("ref",i),sZ("value",n);let t=new sV(e);if(i!==aZ.clean(i))throw new sh(i,aZ.clean(i));if(!a&&await oW.exists({fs:t,gitdir:r,ref:i}))throw new si("ref",i);o?await oW.writeSymbolicRef({fs:t,gitdir:r,ref:i,value:n}):(n=await oW.resolve({fs:t,gitdir:r,ref:n}),await oW.writeRef({fs:t,gitdir:r,ref:i,value:n}))}catch(e){throw e.caller="git.writeRef",e}},writeTag:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),tag:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("tag",i),await u7({fs:new sV(e),gitdir:r,tag:i})}catch(e){throw e.caller="git.writeTag",e}},writeTree:async function({fs:e,dir:t,gitdir:r=ox(t,".git"),tree:i}){try{return sZ("fs",e),sZ("gitdir",r),sZ("tree",i),await lt({fs:new sV(e),gitdir:r,tree:i})}catch(e){throw e.caller="git.writeTree",e}}},ct={},cr={};!function(e){var t,r=G&&G.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),i=G&&G.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=G&&G.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0}),e.getCmdPath=e.tryGetExecutablePath=e.isRooted=e.isDirectory=e.exists=e.READONLY=e.UV_FS_O_EXLOCK=e.IS_WINDOWS=e.unlink=e.symlink=e.stat=e.rmdir=e.rm=e.rename=e.readlink=e.readdir=e.open=e.mkdir=e.lstat=e.copyFile=e.chmod=void 0;let o=n(L),s=n(T);function l(e){return(1&e.mode)>0||(8&e.mode)>0&&e.gid===process.getgid()||(64&e.mode)>0&&e.uid===process.getuid()}t=o.promises,e.chmod=t.chmod,e.copyFile=t.copyFile,e.lstat=t.lstat,e.mkdir=t.mkdir,e.open=t.open,e.readdir=t.readdir,e.readlink=t.readlink,e.rename=t.rename,e.rm=t.rm,e.rmdir=t.rmdir,e.stat=t.stat,e.symlink=t.symlink,e.unlink=t.unlink,e.IS_WINDOWS="win32"===process.platform,e.UV_FS_O_EXLOCK=268435456,e.READONLY=o.constants.O_RDONLY,e.exists=function(t){return a(this,void 0,void 0,function*(){try{yield e.stat(t)}catch(e){if("ENOENT"===e.code)return!1;throw e}return!0})},e.isDirectory=function(t,r=!1){return a(this,void 0,void 0,function*(){let i=r?yield e.stat(t):yield e.lstat(t);return i.isDirectory()})},e.isRooted=function(t){var r;if(r=(r=t)||"",!(t=e.IS_WINDOWS?(r=r.replace(/\//g,"\\")).replace(/\\\\+/g,"\\"):r.replace(/\/\/+/g,"/")))throw Error('isRooted() parameter "p" cannot be empty');return e.IS_WINDOWS?t.startsWith("\\")||/^[A-Z]:/i.test(t):t.startsWith("/")},e.tryGetExecutablePath=function(t,r){return a(this,void 0,void 0,function*(){let i;try{i=yield e.stat(t)}catch(e){"ENOENT"!==e.code&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}if(i&&i.isFile()){if(e.IS_WINDOWS){let e=s.extname(t).toUpperCase();if(r.some(t=>t.toUpperCase()===e))return t}else if(l(i))return t}let n=t;for(let a of r){t=n+a,i=void 0;try{i=yield e.stat(t)}catch(e){"ENOENT"!==e.code&&console.log(`Unexpected error attempting to determine if executable file exists '${t}': ${e}`)}if(i&&i.isFile()){if(e.IS_WINDOWS){try{let r=s.dirname(t),i=s.basename(t).toUpperCase();for(let n of yield e.readdir(r))if(i===n.toUpperCase()){t=s.join(r,n);break}}catch(e){console.log(`Unexpected error attempting to determine the actual case of the file '${t}': ${e}`)}return t}if(l(i))return t}}return""})},e.getCmdPath=function(){var e;return null!==(e=process.env.COMSPEC)&&void 0!==e?e:"cmd.exe"}}(cr);var ci=G&&G.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),cn=G&&G.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ca=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&ci(t,e,r);return cn(t,e),t},co=G&&G.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(ct,"__esModule",{value:!0}),ct.findInPath=ct.which=ch=ct.mkdirP=ct.rmRF=ct.mv=cu=ct.cp=void 0;const cs=ca(T),cl=ca(cr);var cu=ct.cp=function(e,t,r={}){return co(this,void 0,void 0,function*(){let{force:i,recursive:n,copySourceDirectory:a}=function(e){let t=null==e.force||e.force,r=!!e.recursive,i=null==e.copySourceDirectory||!!e.copySourceDirectory;return{force:t,recursive:r,copySourceDirectory:i}}(r),o=(yield cl.exists(t))?yield cl.stat(t):null;if(o&&o.isFile()&&!i)return;let s=o&&o.isDirectory()&&a?cs.join(t,cs.basename(e)):t;if(!(yield cl.exists(e)))throw Error(`no such file or directory: ${e}`);let l=yield cl.stat(e);if(l.isDirectory()){if(n)yield function e(t,r,i,n){return co(this,void 0,void 0,function*(){if(i>=255)return;i++,yield cf(r);let a=yield cl.readdir(t);for(let o of a){let a=`${t}/${o}`,s=`${r}/${o}`,l=yield cl.lstat(a);l.isDirectory()?yield e(a,s,i,n):yield cp(a,s,n)}yield cl.chmod(r,(yield cl.stat(t)).mode)})}(e,s,0,i);else throw Error(`Failed to copy. ${e} is a directory, but tried to copy without recursive flag.`)}else{if(""===cs.relative(e,s))throw Error(`'${s}' and '${e}' are the same file`);yield cp(e,s,i)}})};function cc(e){return co(this,void 0,void 0,function*(){if(cl.IS_WINDOWS&&/[*"<>|]/.test(e))throw Error('File path must not contain `*`, `"`, `<`, `>` or `|` on Windows');try{yield cl.rm(e,{force:!0,maxRetries:3,recursive:!0,retryDelay:300})}catch(e){throw Error(`File was unable to be removed ${e}`)}})}function cf(e){return co(this,void 0,void 0,function*(){D.ok(e,"a path argument must be provided"),yield cl.mkdir(e,{recursive:!0})})}ct.mv=function(e,t,r={}){return co(this,void 0,void 0,function*(){if(yield cl.exists(t)){let i=!0;if((yield cl.isDirectory(t))&&(t=cs.join(t,cs.basename(e)),i=yield cl.exists(t)),i){if(null==r.force||r.force)yield cc(t);else throw Error("Destination already exists")}}yield cf(cs.dirname(t)),yield cl.rename(e,t)})},ct.rmRF=cc;var ch=ct.mkdirP=cf;function cd(e){return co(this,void 0,void 0,function*(){if(!e)throw Error("parameter 'tool' is required");let t=[];if(cl.IS_WINDOWS&&process.env.PATHEXT)for(let e of process.env.PATHEXT.split(cs.delimiter))e&&t.push(e);if(cl.isRooted(e)){let r=yield cl.tryGetExecutablePath(e,t);return r?[r]:[]}if(e.includes(cs.sep))return[];let r=[];if(process.env.PATH)for(let e of process.env.PATH.split(cs.delimiter))e&&r.push(e);let i=[];for(let n of r){let r=yield cl.tryGetExecutablePath(cs.join(n,e),t);r&&i.push(r)}return i})}function cp(e,t,r){return co(this,void 0,void 0,function*(){if((yield cl.lstat(e)).isSymbolicLink()){try{yield cl.lstat(t),yield cl.unlink(t)}catch(e){"EPERM"===e.code&&(yield cl.chmod(t,"0666"),yield cl.unlink(t))}let r=yield cl.readlink(e);yield cl.symlink(r,t,cl.IS_WINDOWS?"junction":null)}else(!(yield cl.exists(t))||r)&&(yield cl.copyFile(e,t))})}ct.which=function e(t,r){return co(this,void 0,void 0,function*(){if(!t)throw Error("parameter 'tool' is required");if(r){let r=yield e(t,!1);if(!r){if(cl.IS_WINDOWS)throw Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also verify the file has a valid extension for an executable file.`);throw Error(`Unable to locate executable file: ${t}. Please verify either the file path exists or the file can be found within a directory specified by the PATH environment variable. Also check the file mode to verify the file is executable.`)}return r}let i=yield cd(t);return i&&i.length>0?i[0]:""})},ct.findInPath=cd;var cg={},cm={},cw=G&&G.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),c_=G&&G.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cy=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&cw(t,e,r);return c_(t,e),t},cb=G&&G.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(cm,"__esModule",{value:!0}),cm.argStringToArray=cm.ToolRunner=void 0;const cv=cy(P),cE=cy(B),cS=cy(C),cx=cy(T),ck=cy(ct),cA=cy(cr),cR="win32"===process.platform;class cO extends cE.EventEmitter{constructor(e,t,r){if(super(),!e)throw Error("Parameter 'toolPath' cannot be null or empty.");this.toolPath=e,this.args=t||[],this.options=r||{}}_debug(e){this.options.listeners&&this.options.listeners.debug&&this.options.listeners.debug(e)}_getCommandString(e,t){let r=this._getSpawnFileName(),i=this._getSpawnArgs(e),n=t?"":"[command]";if(cR){if(this._isCmdFile())for(let e of(n+=r,i))n+=` ${e}`;else if(e.windowsVerbatimArguments)for(let e of(n+=`"${r}"`,i))n+=` ${e}`;else for(let e of(n+=this._windowsQuoteCmdArg(r),i))n+=` ${this._windowsQuoteCmdArg(e)}`}else for(let e of(n+=r,i))n+=` ${e}`;return n}_processLineBuffer(e,t,r){try{let i=t+e.toString(),n=i.indexOf(cv.EOL);for(;n>-1;){let e=i.substring(0,n);r(e),n=(i=i.substring(n+cv.EOL.length)).indexOf(cv.EOL)}return i}catch(e){return this._debug(`error processing line. Failed with error ${e}`),""}}_getSpawnFileName(){return cR&&this._isCmdFile()?process.env.COMSPEC||"cmd.exe":this.toolPath}_getSpawnArgs(e){if(cR&&this._isCmdFile()){let t=`/D /S /C "${this._windowsQuoteCmdArg(this.toolPath)}`;for(let r of this.args)t+=" "+(e.windowsVerbatimArguments?r:this._windowsQuoteCmdArg(r));return[t+='"']}return this.args}_endsWith(e,t){return e.endsWith(t)}_isCmdFile(){let e=this.toolPath.toUpperCase();return this._endsWith(e,".CMD")||this._endsWith(e,".BAT")}_windowsQuoteCmdArg(e){if(!this._isCmdFile())return this._uvQuoteCmdArg(e);if(!e)return'""';let t=[" ","	","&","(",")","[","]","{","}","^","=",";","!","'","+",",","`","~","|","<",">",'"'],r=!1;for(let i of e)if(t.some(e=>e===i)){r=!0;break}if(!r)return e;let i='"',n=!0;for(let t=e.length;t>0;t--)i+=e[t-1],n&&"\\"===e[t-1]?i+="\\":'"'===e[t-1]?(n=!0,i+='"'):n=!1;return(i+='"').split("").reverse().join("")}_uvQuoteCmdArg(e){if(!e)return'""';if(!e.includes(" ")&&!e.includes("	")&&!e.includes('"'))return e;if(!e.includes('"')&&!e.includes("\\"))return`"${e}"`;let t='"',r=!0;for(let i=e.length;i>0;i--)t+=e[i-1],r&&"\\"===e[i-1]?t+="\\":'"'===e[i-1]?(r=!0,t+="\\"):r=!1;return(t+='"').split("").reverse().join("")}_cloneExecOptions(e){e=e||{};let t={cwd:e.cwd||process.cwd(),env:e.env||process.env,silent:e.silent||!1,windowsVerbatimArguments:e.windowsVerbatimArguments||!1,failOnStdErr:e.failOnStdErr||!1,ignoreReturnCode:e.ignoreReturnCode||!1,delay:e.delay||1e4};return t.outStream=e.outStream||process.stdout,t.errStream=e.errStream||process.stderr,t}_getSpawnOptions(e,t){e=e||{};let r={};return r.cwd=e.cwd,r.env=e.env,r.windowsVerbatimArguments=e.windowsVerbatimArguments||this._isCmdFile(),e.windowsVerbatimArguments&&(r.argv0=`"${t}"`),r}exec(){return cb(this,void 0,void 0,function*(){return!cA.isRooted(this.toolPath)&&(this.toolPath.includes("/")||cR&&this.toolPath.includes("\\"))&&(this.toolPath=cx.resolve(process.cwd(),this.options.cwd||process.cwd(),this.toolPath)),this.toolPath=yield ck.which(this.toolPath,!0),new Promise((e,t)=>cb(this,void 0,void 0,function*(){for(let e of(this._debug(`exec tool: ${this.toolPath}`),this._debug("arguments:"),this.args))this._debug(`   ${e}`);let r=this._cloneExecOptions(this.options);!r.silent&&r.outStream&&r.outStream.write(this._getCommandString(r)+cv.EOL);let i=new c$(r,this.toolPath);if(i.on("debug",e=>{this._debug(e)}),this.options.cwd&&!(yield cA.exists(this.options.cwd)))return t(Error(`The cwd: ${this.options.cwd} does not exist!`));let n=this._getSpawnFileName(),a=cS.spawn(n,this._getSpawnArgs(r),this._getSpawnOptions(this.options,n)),o="";a.stdout&&a.stdout.on("data",e=>{this.options.listeners&&this.options.listeners.stdout&&this.options.listeners.stdout(e),!r.silent&&r.outStream&&r.outStream.write(e),o=this._processLineBuffer(e,o,e=>{this.options.listeners&&this.options.listeners.stdline&&this.options.listeners.stdline(e)})});let s="";if(a.stderr&&a.stderr.on("data",e=>{if(i.processStderr=!0,this.options.listeners&&this.options.listeners.stderr&&this.options.listeners.stderr(e),!r.silent&&r.errStream&&r.outStream){let t=r.failOnStdErr?r.errStream:r.outStream;t.write(e)}s=this._processLineBuffer(e,s,e=>{this.options.listeners&&this.options.listeners.errline&&this.options.listeners.errline(e)})}),a.on("error",e=>{i.processError=e.message,i.processExited=!0,i.processClosed=!0,i.CheckComplete()}),a.on("exit",e=>{i.processExitCode=e,i.processExited=!0,this._debug(`Exit code ${e} received from tool '${this.toolPath}'`),i.CheckComplete()}),a.on("close",e=>{i.processExitCode=e,i.processExited=!0,i.processClosed=!0,this._debug(`STDIO streams have closed for tool '${this.toolPath}'`),i.CheckComplete()}),i.on("done",(r,i)=>{o.length>0&&this.emit("stdline",o),s.length>0&&this.emit("errline",s),a.removeAllListeners(),r?t(r):e(i)}),this.options.input){if(!a.stdin)throw Error("child process missing stdin");a.stdin.end(this.options.input)}}))})}}cm.ToolRunner=cO,cm.argStringToArray=function(e){let t=[],r=!1,i=!1,n="";function a(e){i&&'"'!==e&&(n+="\\"),n+=e,i=!1}for(let o=0;o<e.length;o++){let s=e.charAt(o);if('"'===s){i?a(s):r=!r;continue}if("\\"===s&&i){a(s);continue}if("\\"===s&&r){i=!0;continue}if(" "===s&&!r){n.length>0&&(t.push(n),n="");continue}a(s)}return n.length>0&&t.push(n.trim()),t};class c$ extends cE.EventEmitter{constructor(e,t){if(super(),this.processClosed=!1,this.processError="",this.processExitCode=0,this.processExited=!1,this.processStderr=!1,this.delay=1e4,this.done=!1,this.timeout=null,!t)throw Error("toolPath must not be empty");this.options=e,this.toolPath=t,e.delay&&(this.delay=e.delay)}CheckComplete(){!this.done&&(this.processClosed?this._setResult():this.processExited&&(this.timeout=H.setTimeout(c$.HandleTimeout,this.delay,this)))}_debug(e){this.emit("debug",e)}_setResult(){let e;this.processExited&&(this.processError?e=Error(`There was an error when attempting to execute the process '${this.toolPath}'. This may indicate the process failed to start. Error: ${this.processError}`):0===this.processExitCode||this.options.ignoreReturnCode?this.processStderr&&this.options.failOnStdErr&&(e=Error(`The process '${this.toolPath}' failed because one or more lines were written to the STDERR stream`)):e=Error(`The process '${this.toolPath}' failed with exit code ${this.processExitCode}`)),this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.done=!0,this.emit("done",e,this.processExitCode)}static HandleTimeout(e){if(!e.done){if(!e.processClosed&&e.processExited){let t=`The STDIO streams did not close within ${e.delay/1e3} seconds of the exit event from process '${e.toolPath}'. This may indicate a child process inherited the STDIO streams and has not yet exited.`;e._debug(t)}e._setResult()}}}var cC=G&&G.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),cP=G&&G.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cT=G&&G.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&cC(t,e,r);return cP(t,e),t},cM=G&&G.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(n,a){function o(e){try{l(i.next(e))}catch(e){a(e)}}function s(e){try{l(i.throw(e))}catch(e){a(e)}}function l(e){var t;e.done?n(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(o,s)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(cg,"__esModule",{value:!0}),cg.getExecOutput=cL=cg.exec=void 0;const cI=cT(cm);function cB(e,t,r){return cM(this,void 0,void 0,function*(){let i=cI.argStringToArray(e);if(0===i.length)throw Error("Parameter 'commandLine' cannot be null or empty.");let n=i[0];t=i.slice(1).concat(t||[]);let a=new cI.ToolRunner(n,t,r);return a.exec()})}var cL=cg.exec=cB;cg.getExecOutput=function(e,t,r){var i,n;return cM(this,void 0,void 0,function*(){let a="",o="",s=new N.StringDecoder("utf8"),l=new N.StringDecoder("utf8"),u=null===(i=null==r?void 0:r.listeners)||void 0===i?void 0:i.stdout,c=null===(n=null==r?void 0:r.listeners)||void 0===n?void 0:n.stderr,f=Object.assign(Object.assign({},null==r?void 0:r.listeners),{stdout:e=>{a+=s.write(e),u&&u(e)},stderr:e=>{o+=l.write(e),c&&c(e)}}),h=yield cB(e,t,Object.assign(Object.assign({},r),{listeners:f}));return a+=s.end(),o+=l.end(),{exitCode:h,stdout:a,stderr:o}})};class cj extends I.Writable{get output(){return this.data}constructor(){var e;let t;super({decodeStrings:!0,write(e,r,i){t.data+=e}}),(e="data")in this?Object.defineProperty(this,e,{value:"",enumerable:!0,configurable:!0,writable:!0}):this[e]="",t=this}}const cD=`
##[warning] KNOWN_HOSTS_FILE not set
This will probably mean that host verification will fail later on
`,cN=e=>`
##[error] Host key verification failed!
This is probably because you forgot to supply a value for KNOWN_HOSTS_FILE
or the file is invalid or doesn't correctly verify the host ${e}
`,cH=`
##[error] Permission denied (publickey)
Make sure that the ssh private key is set correctly, and
that the public key has been added to the target repo
`,cF=z.join(z.dirname(__dirname),"resources"),cU=z.join(cF,"known_hosts_github.com"),cz=z.join(P.homedir(),".ssh"),cG=z.join(cz,"known_hosts"),cW=/SSH_AGENT_PID=([0-9]+);/,cq=(e=process.env)=>{if(!e.REPO)throw Error("REPO must be specified");if(!e.BRANCH)throw Error("BRANCH must be specified");if(!e.FOLDER)throw Error("FOLDER must be specified");let t=e.REPO,r=e.BRANCH,i=e.FOLDER,n="true"===e.SQUASH_HISTORY,a="true"===e.SKIP_EMPTY_COMMITS,o=e.MESSAGE||"Update {target-branch} to output generated at {sha}",s=e.TAG;if("self"===t){if(!e.GITHUB_TOKEN)throw Error("GITHUB_TOKEN must be specified when REPO == self");if(!e.GITHUB_REPOSITORY)throw Error("GITHUB_REPOSITORY must be specified when REPO == self");let t=`https://x-access-token:${e.GITHUB_TOKEN}@github.com/${e.GITHUB_REPOSITORY}.git`;return{repo:t,branch:r,folder:i,squashHistory:n,skipEmptyCommits:a,mode:"self",message:o,tag:s}}let l=iH(t);if("ssh"===l.protocol){if(!e.SSH_PRIVATE_KEY)throw Error("SSH_PRIVATE_KEY must be specified when REPO uses ssh");let u={repo:t,branch:r,folder:i,squashHistory:n,skipEmptyCommits:a,mode:"ssh",parsedUrl:l,privateKey:e.SSH_PRIVATE_KEY,knownHostsFile:e.KNOWN_HOSTS_FILE,message:o,tag:s};return u}throw Error("Unsupported REPO URL")},cV=(e,t,r)=>new Promise((i,n)=>{let a=U.spawn(e,t,{env:r.env,stdio:"pipe"});a.stdin.setDefaultEncoding("utf-8"),a.stdin.write(r.data),a.stdin.end(),a.on("error",n);let o="";a.stdout.on("data",e=>{r.log.log(e.toString())}),a.stderr.on("data",e=>{o+=e,r.log.error(e.toString())}),a.on("close",e=>{0===e?i():n(Error(o))})}),cZ=async({env:e=process.env,log:t})=>{let r=cq(e),i=await L.promises.mkdtemp(z.join(e.TEMP_DIR??P.tmpdir(),"git-publish-subdir-action-")),n=z.join(i,"repo"),a=z.join(i,"ssh_agent.sock");if(!e.GITHUB_EVENT_PATH)throw Error("Expected GITHUB_EVENT_PATH");let o=JSON.parse((await L.promises.readFile(e.GITHUB_EVENT_PATH)).toString()),s=e.COMMIT_NAME||o.pusher?.name||e.GITHUB_ACTOR||"Git Publish Subdirectory",l=e.COMMIT_EMAIL||o.pusher?.email||(e.GITHUB_ACTOR?`${e.GITHUB_ACTOR}@users.noreply.github.com`:"nobody@nowhere"),u=e.TAG;await cL(`git config --global user.name "${s}"`),await cL(`git config --global user.email "${l}"`);let c=async()=>{let e=process.cwd();for(;;){let r=await L.promises.stat(z.join(e,".git")).then(e=>e.isDirectory()).catch(()=>!1);if(r)break;let i=z.dirname(e);if(i===e)return t.log("##[info] Not running in git directory, unable to get information about source commit"),{commitMessage:"",sha:""};e=i}let r=await ce.log({fs:L,depth:1,dir:e}),i=r.length>0?r[0]:void 0;return i?{commitMessage:i.commit.message.trim(),sha:i.oid}:(t.log("##[info] Unable to get information about HEAD commit"),{commitMessage:"",sha:""})},f=await c(),h=Object.assign({},process.env,{SSH_AUTH_SOCK:a});if("ssh"===r.mode){let e=r.knownHostsFile;e||"github.com"!==r.parsedUrl.resource||(e=cU),e?(await ch(cz),await L.promises.copyFile(e,cG)):t.warn(cD),t.log(`Setting up ssh-agent on ${a}`);let i=new cj;await cL(`ssh-agent -a ${a}`,void 0,{outStream:i,env:h});let n=cW.exec(i.output);if(!n)throw Error("Unexpected output from ssh-agent");h.SSH_AGENT_PID=n[1],t.log(`Adding private key to ssh-agent at ${a}`),await cV("ssh-add",["-"],{data:r.privateKey+"\n",env:h,log:t}),t.log("Private key added")}if(await cL(`git clone "${r.repo}" "${n}" --depth 1 --no-checkout --filter=blob:none -b ${r.branch} --single-branch`,void 0,{env:h}).catch(e=>{let i=e.toString();throw"ssh"===r.mode&&(-1!==i.indexOf("Host key verification failed")?t.error(cN(r.parsedUrl.resource)):-1!==i.indexOf("Permission denied (publickey")&&t.error(cH)),e}),r.squashHistory)t.log("Checking out temp branch"),await cL(`git checkout -b "${Math.random().toString(36).substring(2)}"`,void 0,{env:h,cwd:n}),await cL(`git branch -D "${r.branch}"`,void 0,{env:h,cwd:n}).catch(e=>{}),await cL(`git checkout --orphan "${r.branch}"`,void 0,{env:h,cwd:n}),t.log("Checked out orphan");else{await cL(`git fetch -u origin ${r.branch}:${r.branch}`,void 0,{env:h,cwd:n}).catch(e=>{let r=e.toString();-1===r.indexOf("Couldn't find remote ref")&&(t.error("##[warning] Failed to fetch target branch, probably doesn't exist"),t.error(e))}),t.log(`##[info] Checking if branch ${r.branch} exists already`);let e=new cj;await cL(`git branch --list "${r.branch}"`,void 0,{outStream:e,env:h,cwd:n}),""===e.output.trim()?(t.log(`##[info] ${r.branch} does not exist, creating as orphan`),await cL(`git checkout --orphan "${r.branch}"`,void 0,{env:h,cwd:n})):await cL(`git checkout "${r.branch}"`,void 0,{env:h,cwd:n})}t.log(`##[info] Updating branch ${r.branch}`);let d=await (async()=>{if(e.CLEAR_GLOBS_FILE){t.log(`##[info] Using custom glob file to clear target branch ${e.CLEAR_GLOBS_FILE}`);let r=(await L.promises.readFile(e.CLEAR_GLOBS_FILE)).toString().split("\n").map(e=>e.trim()).filter(e=>""!==e);return r}return e.TARGET_DIR?(t.log(`##[info] Removing all files from target dir ${e.TARGET_DIR} on target branch`),[`${e.TARGET_DIR}/**/*`,"!.git"]):(t.log("##[info] Removing all files from target branch"),["**/*","!.git"])})(),p=iP.stream(d,{absolute:!0,dot:!0,followSymbolicLinks:!1,cwd:n});for await(let e of p)await L.promises.unlink(e);let g=z.resolve(process.cwd(),r.folder),m=e.TARGET_DIR?e.TARGET_DIR:"./";await ch(z.resolve(n,m)),t.log(`##[info] Copying all files from ${g}`),await cu(`${g}/`,`${n}/${m}/`,{recursive:!0,copySourceDirectory:!1}),await cL("git add -A .",void 0,{env:h,cwd:n});let w=r.message.replace(/\{target\-branch\}/g,r.branch).replace(/\{sha\}/g,f.sha.substr(0,7)).replace(/\{long\-sha\}/g,f.sha).replace(/\{msg\}/g,f.commitMessage);if(await ce.commit({fs:L,dir:n,message:w,author:{email:l,name:s}}),u&&(t.log(`##[info] Tagging commit with ${u}`),await ce.tag({fs:L,dir:n,ref:u,force:!0})),r.skipEmptyCommits){t.log("##[info] Checking whether contents have changed before pushing");let e=await ce.resolveRef({fs:L,dir:n,ref:"HEAD"}),r=await ce.readCommit({fs:L,dir:n,oid:e});if(1===r.commit.parent.length){let e=await ce.readCommit({fs:L,dir:n,oid:r.commit.parent[0]});if(r.commit.tree===e.commit.tree){t.log("##[info] Contents of target repo unchanged, exiting.");return}}}t.log("##[info] Pushing");let _=r.squashHistory?"-f":"",y=u?"--tags":"",b=new cj;await cL(`git push ${_} origin "${r.branch}" ${y}`,void 0,{outStream:b,env:h,cwd:n}),t.log(b.output),t.log("##[info] Deployment Successful"),"ssh"===r.mode&&(t.log("##[info] Killing ssh-agent"),await cL("ssh-agent -k",void 0,{env:h}))};Promise.resolve().then(function(){return fb}).then(e=>e.install()),cZ({log:console,env:process.env}).catch(e=>{console.error(e),process.exit(1)});var cK={exports:{}},cQ={},cY={},cX={},cJ={},c0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");cJ.encode=function(e){if(0<=e&&e<c0.length)return c0[e];throw TypeError("Must be between 0 and 63: "+e)},cJ.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1},cX.encode=function(e){var t,r="",i=e<0?(-e<<1)+1:(e<<1)+0;do t=31&i,(i>>>=5)>0&&(t|=32),r+=cJ.encode(t);while(i>0)return r},cX.decode=function(e,t,r){var i,n,a,o,s=e.length,l=0,u=0;do{if(t>=s)throw Error("Expected more digits in base 64 VLQ value.");if(-1===(o=cJ.decode(e.charCodeAt(t++))))throw Error("Invalid base64 digit: "+e.charAt(t-1));a=!!(32&o),o&=31,l+=o<<u,u+=5}while(a)r.value=(n=(i=l)>>1,(1&i)==1?-n:n),r.rest=t};var c1={};!function(e){e.getArg=function(e,t,r){if(t in e)return e[t];if(3==arguments.length)return r;throw Error('"'+t+'" is a required argument.')};var t=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,r=/^data:.+\,.+$/;function i(e){var r=e.match(t);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function n(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function a(t){var r=t,a=i(t);if(a){if(!a.path)return t;r=a.path}for(var o,s=e.isAbsolute(r),l=r.split(/\/+/),u=0,c=l.length-1;c>=0;c--)"."===(o=l[c])?l.splice(c,1):".."===o?u++:u>0&&(""===o?(l.splice(c+1,u),u=0):(l.splice(c,2),u--));return(""===(r=l.join("/"))&&(r=s?"/":"."),a)?(a.path=r,n(a)):r}function o(e,t){""===e&&(e="."),""===t&&(t=".");var o=i(t),s=i(e);if(s&&(e=s.path||"/"),o&&!o.scheme)return s&&(o.scheme=s.scheme),n(o);if(o||t.match(r))return t;if(s&&!s.host&&!s.path)return s.host=t,n(s);var l="/"===t.charAt(0)?t:a(e.replace(/\/+$/,"")+"/"+t);return s?(s.path=l,n(s)):l}e.urlParse=i,e.urlGenerate=n,e.normalize=a,e.join=o,e.isAbsolute=function(e){return"/"===e.charAt(0)||t.test(e)},e.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var r=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0||(e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++r}return Array(r+1).join("../")+t.substr(e.length+1)};var s=!("__proto__"in Object.create(null));function l(e){return e}function u(e){if(!e)return!1;var t=e.length;if(t<9||95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var r=t-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function c(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}e.toSetString=s?l:function(e){return u(e)?"$"+e:e},e.fromSetString=s?l:function(e){return u(e)?e.slice(1):e},e.compareByOriginalPositions=function(e,t,r){var i=c(e.source,t.source);return 0!==i||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)||r||0!=(i=e.generatedColumn-t.generatedColumn)||0!=(i=e.generatedLine-t.generatedLine)?i:c(e.name,t.name)},e.compareByGeneratedPositionsDeflated=function(e,t,r){var i=e.generatedLine-t.generatedLine;return 0!==i||0!=(i=e.generatedColumn-t.generatedColumn)||r||0!==(i=c(e.source,t.source))||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)?i:c(e.name,t.name)},e.compareByGeneratedPositionsInflated=function(e,t){var r=e.generatedLine-t.generatedLine;return 0!==r||0!=(r=e.generatedColumn-t.generatedColumn)||0!==(r=c(e.source,t.source))||0!=(r=e.originalLine-t.originalLine)||0!=(r=e.originalColumn-t.originalColumn)?r:c(e.name,t.name)},e.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},e.computeSourceURL=function(e,t,r){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),r){var s=i(r);if(!s)throw Error("sourceMapURL could not be parsed");if(s.path){var l=s.path.lastIndexOf("/");l>=0&&(s.path=s.path.substring(0,l+1))}t=o(n(s),t)}return a(t)}}(c1);var c2={},c5=Object.prototype.hasOwnProperty,c3="undefined"!=typeof Map;function c6(){this._array=[],this._set=c3?new Map:Object.create(null)}c6.fromArray=function(e,t){for(var r=new c6,i=0,n=e.length;i<n;i++)r.add(e[i],t);return r},c6.prototype.size=function(){return c3?this._set.size:Object.getOwnPropertyNames(this._set).length},c6.prototype.add=function(e,t){var r=c3?e:c1.toSetString(e),i=c3?this.has(e):c5.call(this._set,r),n=this._array.length;(!i||t)&&this._array.push(e),i||(c3?this._set.set(e,n):this._set[r]=n)},c6.prototype.has=function(e){if(c3)return this._set.has(e);var t=c1.toSetString(e);return c5.call(this._set,t)},c6.prototype.indexOf=function(e){if(c3){var t=this._set.get(e);if(t>=0)return t}else{var r=c1.toSetString(e);if(c5.call(this._set,r))return this._set[r]}throw Error('"'+e+'" is not in the set.')},c6.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw Error("No element indexed by "+e)},c6.prototype.toArray=function(){return this._array.slice()},c2.ArraySet=c6;var c8={};function c4(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}c4.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},c4.prototype.add=function(e){var t,r,i,n,a;(r=(t=this._last).generatedLine,i=e.generatedLine,n=t.generatedColumn,a=e.generatedColumn,i>r||i==r&&a>=n||0>=c1.compareByGeneratedPositionsInflated(t,e))?this._last=e:this._sorted=!1,this._array.push(e)},c4.prototype.toArray=function(){return this._sorted||(this._array.sort(c1.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},c8.MappingList=c4;var c9=c2.ArraySet,c7=c8.MappingList;function fe(e){e||(e={}),this._file=c1.getArg(e,"file",null),this._sourceRoot=c1.getArg(e,"sourceRoot",null),this._skipValidation=c1.getArg(e,"skipValidation",!1),this._sources=new c9,this._names=new c9,this._mappings=new c7,this._sourcesContents=null}fe.prototype._version=3,fe.fromSourceMap=function(e){var t=e.sourceRoot,r=new fe({file:e.file,sourceRoot:t});return e.eachMapping(function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=c1.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),r.addMapping(i)}),e.sources.forEach(function(i){var n=i;null!==t&&(n=c1.relative(t,i)),r._sources.has(n)||r._sources.add(n);var a=e.sourceContentFor(i);null!=a&&r.setSourceContent(i,a)}),r},fe.prototype.addMapping=function(e){var t=c1.getArg(e,"generated"),r=c1.getArg(e,"original",null),i=c1.getArg(e,"source",null),n=c1.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,r,i,n),null==i||(i=String(i),this._sources.has(i)||this._sources.add(i)),null==n||(n=String(n),this._names.has(n)||this._names.add(n)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:i,name:n})},fe.prototype.setSourceContent=function(e,t){var r=e;null!=this._sourceRoot&&(r=c1.relative(this._sourceRoot,r)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[c1.toSetString(r)]=t):this._sourcesContents&&(delete this._sourcesContents[c1.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},fe.prototype.applySourceMap=function(e,t,r){var i=t;if(null==t){if(null==e.file)throw Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var n=this._sourceRoot;null!=n&&(i=c1.relative(n,i));var a=new c9,o=new c9;this._mappings.unsortedForEach(function(t){if(t.source===i&&null!=t.originalLine){var s=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=s.source&&(t.source=s.source,null!=r&&(t.source=c1.join(r,t.source)),null!=n&&(t.source=c1.relative(n,t.source)),t.originalLine=s.line,t.originalColumn=s.column,null!=s.name&&(t.name=s.name))}var l=t.source;null==l||a.has(l)||a.add(l);var u=t.name;null==u||o.has(u)||o.add(u)},this),this._sources=a,this._names=o,e.sources.forEach(function(t){var i=e.sourceContentFor(t);null!=i&&(null!=r&&(t=c1.join(r,t)),null!=n&&(t=c1.relative(n,t)),this.setSourceContent(t,i))},this)},fe.prototype._validateMapping=function(e,t,r,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!e||!("line"in e)||!("column"in e)||!(e.line>0)||!(e.column>=0)||t||r||i)&&(!e||!("line"in e)||!("column"in e)||!t||!("line"in t)||!("column"in t)||!(e.line>0)||!(e.column>=0)||!(t.line>0)||!(t.column>=0)||!r))throw Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:t,name:i}))},fe.prototype._serializeMappings=function(){for(var e,t,r,i,n=0,a=1,o=0,s=0,l=0,u=0,c="",f=this._mappings.toArray(),h=0,d=f.length;h<d;h++){if(t=f[h],e="",t.generatedLine!==a)for(n=0;t.generatedLine!==a;)e+=";",a++;else if(h>0){if(!c1.compareByGeneratedPositionsInflated(t,f[h-1]))continue;e+=","}e+=cX.encode(t.generatedColumn-n),n=t.generatedColumn,null!=t.source&&(i=this._sources.indexOf(t.source),e+=cX.encode(i-u),u=i,e+=cX.encode(t.originalLine-1-s),s=t.originalLine-1,e+=cX.encode(t.originalColumn-o),o=t.originalColumn,null!=t.name&&(r=this._names.indexOf(t.name),e+=cX.encode(r-l),l=r)),c+=e}return c},fe.prototype._generateSourcesContent=function(e,t){return e.map(function(e){if(!this._sourcesContents)return null;null!=t&&(e=c1.relative(t,e));var r=c1.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},fe.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},fe.prototype.toString=function(){return JSON.stringify(this.toJSON())},cY.SourceMapGenerator=fe;var ft={},fr={};fr.GREATEST_LOWER_BOUND=1,fr.LEAST_UPPER_BOUND=2,fr.search=function(e,t,r,i){if(0===t.length)return -1;var n=function e(t,r,i,n,a,o){var s=Math.floor((r-t)/2)+t,l=a(i,n[s],!0);return 0===l?s:l>0?r-s>1?e(s,r,i,n,a,o):o==fr.LEAST_UPPER_BOUND?r<n.length?r:-1:s:s-t>1?e(t,s,i,n,a,o):o==fr.LEAST_UPPER_BOUND?s:t<0?-1:t}(-1,t.length,e,t,r,i||fr.GREATEST_LOWER_BOUND);if(n<0)return -1;for(;n-1>=0&&0===r(t[n],t[n-1],!0);)--n;return n};var fi={};function fn(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}fi.quickSort=function(e,t){!function e(t,r,i,n){if(i<n){var a=Math.round(i+Math.random()*(n-i)),o=i-1;fn(t,a,n);for(var s=t[n],l=i;l<n;l++)0>=r(t[l],s)&&fn(t,o+=1,l);fn(t,o+1,l);var u=o+1;e(t,r,i,u-1),e(t,r,u+1,n)}}(e,t,0,e.length-1)};var fa=c2.ArraySet,fo=fi.quickSort;function fs(e,t){var r=e;return"string"==typeof e&&(r=c1.parseSourceMapInput(e)),null!=r.sections?new fc(r,t):new fl(r,t)}function fl(e,t){var r=e;"string"==typeof e&&(r=c1.parseSourceMapInput(e));var i=c1.getArg(r,"version"),n=c1.getArg(r,"sources"),a=c1.getArg(r,"names",[]),o=c1.getArg(r,"sourceRoot",null),s=c1.getArg(r,"sourcesContent",null),l=c1.getArg(r,"mappings"),u=c1.getArg(r,"file",null);if(i!=this._version)throw Error("Unsupported version: "+i);o&&(o=c1.normalize(o)),n=n.map(String).map(c1.normalize).map(function(e){return o&&c1.isAbsolute(o)&&c1.isAbsolute(e)?c1.relative(o,e):e}),this._names=fa.fromArray(a.map(String),!0),this._sources=fa.fromArray(n,!0),this._absoluteSources=this._sources.toArray().map(function(e){return c1.computeSourceURL(o,e,t)}),this.sourceRoot=o,this.sourcesContent=s,this._mappings=l,this._sourceMapURL=t,this.file=u}function fu(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function fc(e,t){var r=e;"string"==typeof e&&(r=c1.parseSourceMapInput(e));var i=c1.getArg(r,"version"),n=c1.getArg(r,"sections");if(i!=this._version)throw Error("Unsupported version: "+i);this._sources=new fa,this._names=new fa;var a={line:-1,column:0};this._sections=n.map(function(e){if(e.url)throw Error("Support for url field in sections not implemented.");var r=c1.getArg(e,"offset"),i=c1.getArg(r,"line"),n=c1.getArg(r,"column");if(i<a.line||i===a.line&&n<a.column)throw Error("Section offsets must be ordered and non-overlapping.");return a=r,{generatedOffset:{generatedLine:i+1,generatedColumn:n+1},consumer:new fs(c1.getArg(e,"map"),t)}})}fs.fromSourceMap=function(e,t){return fl.fromSourceMap(e,t)},fs.prototype._version=3,fs.prototype.__generatedMappings=null,Object.defineProperty(fs.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),fs.prototype.__originalMappings=null,Object.defineProperty(fs.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),fs.prototype._charIsMappingSeparator=function(e,t){var r=e.charAt(t);return";"===r||","===r},fs.prototype._parseMappings=function(e,t){throw Error("Subclasses must implement _parseMappings")},fs.GENERATED_ORDER=1,fs.ORIGINAL_ORDER=2,fs.GREATEST_LOWER_BOUND=1,fs.LEAST_UPPER_BOUND=2,fs.prototype.eachMapping=function(e,t,r){var i,n=t||null;switch(r||fs.GENERATED_ORDER){case fs.GENERATED_ORDER:i=this._generatedMappings;break;case fs.ORIGINAL_ORDER:i=this._originalMappings;break;default:throw Error("Unknown order of iteration.")}var a=this.sourceRoot;i.map(function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=c1.computeSourceURL(a,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,n)},fs.prototype.allGeneratedPositionsFor=function(e){var t=c1.getArg(e,"line"),r={source:c1.getArg(e,"source"),originalLine:t,originalColumn:c1.getArg(e,"column",0)};if(r.source=this._findSourceIndex(r.source),r.source<0)return[];var i=[],n=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",c1.compareByOriginalPositions,fr.LEAST_UPPER_BOUND);if(n>=0){var a=this._originalMappings[n];if(void 0===e.column)for(var o=a.originalLine;a&&a.originalLine===o;)i.push({line:c1.getArg(a,"generatedLine",null),column:c1.getArg(a,"generatedColumn",null),lastColumn:c1.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++n];else for(var s=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==s;)i.push({line:c1.getArg(a,"generatedLine",null),column:c1.getArg(a,"generatedColumn",null),lastColumn:c1.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++n]}return i},ft.SourceMapConsumer=fs,fl.prototype=Object.create(fs.prototype),fl.prototype.consumer=fs,fl.prototype._findSourceIndex=function(e){var t,r=e;if(null!=this.sourceRoot&&(r=c1.relative(this.sourceRoot,r)),this._sources.has(r))return this._sources.indexOf(r);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return -1},fl.fromSourceMap=function(e,t){var r=Object.create(fl.prototype),i=r._names=fa.fromArray(e._names.toArray(),!0),n=r._sources=fa.fromArray(e._sources.toArray(),!0);r.sourceRoot=e._sourceRoot,r.sourcesContent=e._generateSourcesContent(r._sources.toArray(),r.sourceRoot),r.file=e._file,r._sourceMapURL=t,r._absoluteSources=r._sources.toArray().map(function(e){return c1.computeSourceURL(r.sourceRoot,e,t)});for(var a=e._mappings.toArray().slice(),o=r.__generatedMappings=[],s=r.__originalMappings=[],l=0,u=a.length;l<u;l++){var c=a[l],f=new fu;f.generatedLine=c.generatedLine,f.generatedColumn=c.generatedColumn,c.source&&(f.source=n.indexOf(c.source),f.originalLine=c.originalLine,f.originalColumn=c.originalColumn,c.name&&(f.name=i.indexOf(c.name)),s.push(f)),o.push(f)}return fo(r.__originalMappings,c1.compareByOriginalPositions),r},fl.prototype._version=3,Object.defineProperty(fl.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),fl.prototype._parseMappings=function(e,t){for(var r,i,n,a,o,s=1,l=0,u=0,c=0,f=0,h=0,d=e.length,p=0,g={},m={},w=[],_=[];p<d;)if(";"===e.charAt(p))s++,p++,l=0;else if(","===e.charAt(p))p++;else{for((r=new fu).generatedLine=s,a=p;a<d&&!this._charIsMappingSeparator(e,a);a++);if(n=g[i=e.slice(p,a)])p+=i.length;else{for(n=[];p<a;)cX.decode(e,p,m),o=m.value,p=m.rest,n.push(o);if(2===n.length)throw Error("Found a source, but no line and column");if(3===n.length)throw Error("Found a source and line, but no column");g[i]=n}r.generatedColumn=l+n[0],l=r.generatedColumn,n.length>1&&(r.source=f+n[1],f+=n[1],r.originalLine=u+n[2],u=r.originalLine,r.originalLine+=1,r.originalColumn=c+n[3],c=r.originalColumn,n.length>4&&(r.name=h+n[4],h+=n[4])),_.push(r),"number"==typeof r.originalLine&&w.push(r)}fo(_,c1.compareByGeneratedPositionsDeflated),this.__generatedMappings=_,fo(w,c1.compareByOriginalPositions),this.__originalMappings=w},fl.prototype._findMapping=function(e,t,r,i,n,a){if(e[r]<=0)throw TypeError("Line must be greater than or equal to 1, got "+e[r]);if(e[i]<0)throw TypeError("Column must be greater than or equal to 0, got "+e[i]);return fr.search(e,t,n,a)},fl.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(t.generatedLine===r.generatedLine){t.lastGeneratedColumn=r.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},fl.prototype.originalPositionFor=function(e){var t={generatedLine:c1.getArg(e,"line"),generatedColumn:c1.getArg(e,"column")},r=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",c1.compareByGeneratedPositionsDeflated,c1.getArg(e,"bias",fs.GREATEST_LOWER_BOUND));if(r>=0){var i=this._generatedMappings[r];if(i.generatedLine===t.generatedLine){var n=c1.getArg(i,"source",null);null!==n&&(n=this._sources.at(n),n=c1.computeSourceURL(this.sourceRoot,n,this._sourceMapURL));var a=c1.getArg(i,"name",null);return null!==a&&(a=this._names.at(a)),{source:n,line:c1.getArg(i,"originalLine",null),column:c1.getArg(i,"originalColumn",null),name:a}}}return{source:null,line:null,column:null,name:null}},fl.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e})},fl.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var r,i=this._findSourceIndex(e);if(i>=0)return this.sourcesContent[i];var n=e;if(null!=this.sourceRoot&&(n=c1.relative(this.sourceRoot,n)),null!=this.sourceRoot&&(r=c1.urlParse(this.sourceRoot))){var a=n.replace(/^file:\/\//,"");if("file"==r.scheme&&this._sources.has(a))return this.sourcesContent[this._sources.indexOf(a)];if((!r.path||"/"==r.path)&&this._sources.has("/"+n))return this.sourcesContent[this._sources.indexOf("/"+n)]}if(t)return null;throw Error('"'+n+'" is not in the SourceMap.')},fl.prototype.generatedPositionFor=function(e){var t=c1.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var r={source:t,originalLine:c1.getArg(e,"line"),originalColumn:c1.getArg(e,"column")},i=this._findMapping(r,this._originalMappings,"originalLine","originalColumn",c1.compareByOriginalPositions,c1.getArg(e,"bias",fs.GREATEST_LOWER_BOUND));if(i>=0){var n=this._originalMappings[i];if(n.source===r.source)return{line:c1.getArg(n,"generatedLine",null),column:c1.getArg(n,"generatedColumn",null),lastColumn:c1.getArg(n,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},ft.BasicSourceMapConsumer=fl,fc.prototype=Object.create(fs.prototype),fc.prototype.constructor=fs,fc.prototype._version=3,Object.defineProperty(fc.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var r=0;r<this._sections[t].consumer.sources.length;r++)e.push(this._sections[t].consumer.sources[r]);return e}}),fc.prototype.originalPositionFor=function(e){var t={generatedLine:c1.getArg(e,"line"),generatedColumn:c1.getArg(e,"column")},r=fr.search(t,this._sections,function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn}),i=this._sections[r];return i?i.consumer.originalPositionFor({line:t.generatedLine-(i.generatedOffset.generatedLine-1),column:t.generatedColumn-(i.generatedOffset.generatedLine===t.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},fc.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},fc.prototype.sourceContentFor=function(e,t){for(var r=0;r<this._sections.length;r++){var i=this._sections[r].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw Error('"'+e+'" is not in the SourceMap.')},fc.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var r=this._sections[t];if(-1!==r.consumer._findSourceIndex(c1.getArg(e,"source"))){var i=r.consumer.generatedPositionFor(e);if(i)return{line:i.line+(r.generatedOffset.generatedLine-1),column:i.column+(r.generatedOffset.generatedLine===i.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},fc.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var i=this._sections[r],n=i.consumer._generatedMappings,a=0;a<n.length;a++){var o=n[a],s=i.consumer._sources.at(o.source);s=c1.computeSourceURL(i.consumer.sourceRoot,s,this._sourceMapURL),this._sources.add(s),s=this._sources.indexOf(s);var l=null;o.name&&(l=i.consumer._names.at(o.name),this._names.add(l),l=this._names.indexOf(l));var u={source:s,generatedLine:o.generatedLine+(i.generatedOffset.generatedLine-1),generatedColumn:o.generatedColumn+(i.generatedOffset.generatedLine===o.generatedLine?i.generatedOffset.generatedColumn-1:0),originalLine:o.originalLine,originalColumn:o.originalColumn,name:l};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u)}fo(this.__generatedMappings,c1.compareByGeneratedPositionsDeflated),fo(this.__originalMappings,c1.compareByOriginalPositions)},ft.IndexedSourceMapConsumer=fc;var ff={},fh=cY.SourceMapGenerator,fd=/(\r?\n)/,fp="$$$isSourceNode$$$";function fg(e,t,r,i,n){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==r?null:r,this.name=null==n?null:n,this[fp]=!0,null!=i&&this.add(i)}fg.fromStringWithSourceMap=function(e,t,r){var i=new fg,n=e.split(fd),a=0,o=function(){return e()+(e()||"");function e(){return a<n.length?n[a++]:void 0}},s=1,l=0,u=null;return t.eachMapping(function(e){if(null!==u){if(s<e.generatedLine)c(u,o()),s++,l=0;else{var t=n[a]||"",r=t.substr(0,e.generatedColumn-l);n[a]=t.substr(e.generatedColumn-l),l=e.generatedColumn,c(u,r),u=e;return}}for(;s<e.generatedLine;)i.add(o()),s++;if(l<e.generatedColumn){var t=n[a]||"";i.add(t.substr(0,e.generatedColumn)),n[a]=t.substr(e.generatedColumn),l=e.generatedColumn}u=e},this),a<n.length&&(u&&c(u,o()),i.add(n.splice(a).join(""))),t.sources.forEach(function(e){var n=t.sourceContentFor(e);null!=n&&(null!=r&&(e=c1.join(r,e)),i.setSourceContent(e,n))}),i;function c(e,t){if(null===e||void 0===e.source)i.add(t);else{var n=r?c1.join(r,e.source):e.source;i.add(new fg(e.originalLine,e.originalColumn,n,t,e.name))}}},fg.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else if(e[fp]||"string"==typeof e)e&&this.children.push(e);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},fg.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else if(e[fp]||"string"==typeof e)this.children.unshift(e);else throw TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);return this},fg.prototype.walk=function(e){for(var t,r=0,i=this.children.length;r<i;r++)(t=this.children[r])[fp]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},fg.prototype.join=function(e){var t,r,i=this.children.length;if(i>0){for(r=0,t=[];r<i-1;r++)t.push(this.children[r]),t.push(e);t.push(this.children[r]),this.children=t}return this},fg.prototype.replaceRight=function(e,t){var r=this.children[this.children.length-1];return r[fp]?r.replaceRight(e,t):"string"==typeof r?this.children[this.children.length-1]=r.replace(e,t):this.children.push("".replace(e,t)),this},fg.prototype.setSourceContent=function(e,t){this.sourceContents[c1.toSetString(e)]=t},fg.prototype.walkSourceContents=function(e){for(var t=0,r=this.children.length;t<r;t++)this.children[t][fp]&&this.children[t].walkSourceContents(e);for(var i=Object.keys(this.sourceContents),t=0,r=i.length;t<r;t++)e(c1.fromSetString(i[t]),this.sourceContents[i[t]])},fg.prototype.toString=function(){var e="";return this.walk(function(t){e+=t}),e},fg.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},r=new fh(e),i=!1,n=null,a=null,o=null,s=null;return this.walk(function(e,l){t.code+=e,null!==l.source&&null!==l.line&&null!==l.column?((n!==l.source||a!==l.line||o!==l.column||s!==l.name)&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name}),n=l.source,a=l.line,o=l.column,s=l.name,i=!0):i&&(r.addMapping({generated:{line:t.line,column:t.column}}),n=null,i=!1);for(var u=0,c=e.length;u<c;u++)10===e.charCodeAt(u)?(t.line++,t.column=0,u+1===c?(n=null,i=!1):i&&r.addMapping({source:l.source,original:{line:l.line,column:l.column},generated:{line:t.line,column:t.column},name:l.name})):t.column++}),this.walkSourceContents(function(e,t){r.setSourceContent(e,t)}),{code:t.code,map:r}},ff.SourceNode=fg,cQ.SourceMapGenerator=cY.SourceMapGenerator,cQ.SourceMapConsumer=ft.SourceMapConsumer,cQ.SourceNode=ff.SourceNode;var fm=Object.prototype.toString,fw="undefined"!=typeof Buffer&&"function"==typeof Buffer.alloc&&"function"==typeof Buffer.allocUnsafe&&"function"==typeof Buffer.from,f_=function(e,t,r){if("number"==typeof e)throw TypeError('"value" argument must not be a number');return"ArrayBuffer"===fm.call(e).slice(8,-1)?function(e,t,r){t>>>=0;var i=e.byteLength-t;if(i<0)throw RangeError("'offset' is out of bounds");if(void 0===r)r=i;else if((r>>>=0)>i)throw RangeError("'length' is out of bounds");return fw?Buffer.from(e.slice(t,t+r)):new Buffer(new Uint8Array(e.slice(t,t+r)))}(e,t,r):"string"==typeof e?function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!Buffer.isEncoding(t))throw TypeError('"encoding" must be a valid string encoding');return fw?Buffer.from(e,t):new Buffer(e,t)}(e,t):fw?Buffer.from(e):new Buffer(e)};cK.exports,function(e,t){var r,i=cQ.SourceMapConsumer;try{(r=require("fs")).existsSync&&r.readFileSync||(r=null)}catch(e){}var n=!1,a=!1,o=!1,s="auto",l={},u={},c=/^data:application\/json[^,]+base64,/,f=[],h=[];function d(){return"browser"===s||"node"!==s&&"undefined"!=typeof window&&"function"==typeof XMLHttpRequest&&!(window.require&&window.module&&window.process&&"renderer"===window.process.type)}function p(e){return function(t){for(var r=0;r<e.length;r++){var i=e[r](t);if(i)return i}return null}}var g=p(f);function m(e,t){if(!e)return t;var r=T.dirname(e),i=/^\w+:\/\/[^\/]*/.exec(r),n=i?i[0]:"",a=r.slice(n.length);return n&&/^\/\w\:/.test(a)?(n+="/")+T.resolve(r.slice(n.length),t).replace(/\\/g,"/"):n+T.resolve(r.slice(n.length),t)}f.push(function(e){if(e=e.trim(),/^file:/.test(e)&&(e=e.replace(/file:\/\/\/(\w:)?/,function(e,t){return t?"":"/"})),e in l)return l[e];var t="";try{if(r)r.existsSync(e)&&(t=r.readFileSync(e,"utf8"));else{var i=new XMLHttpRequest;i.open("GET",e,!1),i.send(null),4===i.readyState&&200===i.status&&(t=i.responseText)}}catch(e){}return l[e]=t});var w=p(h);function _(e){var t=u[e.source];if(!t){var r=w(e.source);r?(t=u[e.source]={url:r.url,map:new i(r.map)}).map.sourcesContent&&t.map.sources.forEach(function(e,r){var i=t.map.sourcesContent[r];i&&(l[m(t.url,e)]=i)}):t=u[e.source]={url:null,map:null}}if(t&&t.map&&"function"==typeof t.map.originalPositionFor){var n=t.map.originalPositionFor(e);if(null!==n.source)return n.source=m(t.url,n.source),n}return e}function y(){var e,t="";if(this.isNative())t="native";else{!(e=this.getScriptNameOrSourceURL())&&this.isEval()&&(t=this.getEvalOrigin()+", "),e?t+=e:t+="<anonymous>";var r=this.getLineNumber();if(null!=r){t+=":"+r;var i=this.getColumnNumber();i&&(t+=":"+i)}}var n="",a=this.getFunctionName(),o=!0,s=this.isConstructor();if(this.isToplevel()||s)s?n+="new "+(a||"<anonymous>"):a?n+=a:(n+=t,o=!1);else{var l=this.getTypeName();"[object Object]"===l&&(l="null");var u=this.getMethodName();a?(l&&0!=a.indexOf(l)&&(n+=l+"."),n+=a,u&&a.indexOf("."+u)!=a.length-u.length-1&&(n+=" [as "+u+"]")):n+=l+"."+(u||"<anonymous>")}return o&&(n+=" ("+t+")"),n}function b(e){var t={};return Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(function(r){t[r]=/^(?:is|get)/.test(r)?function(){return e[r].call(e)}:e[r]}),t.toString=y,t}function v(e,t){if(void 0===t&&(t={nextPosition:null,curPosition:null}),e.isNative())return t.curPosition=null,e;var r=e.getFileName()||e.getScriptNameOrSourceURL();if(r){var i=e.getLineNumber(),n=e.getColumnNumber()-1,a=/^v(10\.1[6-9]|10\.[2-9][0-9]|10\.[0-9]{3,}|1[2-9]\d*|[2-9]\d|\d{3,}|11\.11)/.test("object"==typeof process&&null!==process?process.version:"")?0:62;1!==i||!(n>a)||d()||e.isEval()||(n-=a);var o=_({source:r,line:i,column:n});t.curPosition=o;var s=(e=b(e)).getFunctionName;return e.getFunctionName=function(){return null==t.nextPosition?s():t.nextPosition.name||s()},e.getFileName=function(){return o.source},e.getLineNumber=function(){return o.line},e.getColumnNumber=function(){return o.column+1},e.getScriptNameOrSourceURL=function(){return o.source},e}var l=e.isEval()&&e.getEvalOrigin();return l&&(l=function e(t){var r=/^eval at ([^(]+) \((.+):(\d+):(\d+)\)$/.exec(t);if(r){var i=_({source:r[2],line:+r[3],column:r[4]-1});return"eval at "+r[1]+" ("+i.source+":"+i.line+":"+(i.column+1)+")"}return(r=/^eval at ([^(]+) \((.+)\)$/.exec(t))?"eval at "+r[1]+" ("+e(r[2])+")":t}(l),(e=b(e)).getEvalOrigin=function(){return l}),e}function E(e,t){o&&(l={},u={});for(var r=e.name||"Error",i=e.message||"",n={nextPosition:null,curPosition:null},a=[],s=t.length-1;s>=0;s--)a.push("\n    at "+v(t[s],n)),n.nextPosition=n.curPosition;return n.curPosition=n.nextPosition=null,r+": "+i+a.reverse().join("")}function S(e){var t=/\n    at [^(]+ \((.*):(\d+):(\d+)\)/.exec(e.stack);if(t){var i=t[1],n=+t[2],a=+t[3],o=l[i];if(!o&&r&&r.existsSync(i))try{o=r.readFileSync(i,"utf8")}catch(e){o=""}if(o){var s=o.split(/(?:\r\n|\r|\n)/)[n-1];if(s)return i+":"+n+"\n"+s+"\n"+Array(a).join(" ")+"^"}}return null}h.push(function(e){var t,r=function(e){if(d())try{var t,r,i,n=new XMLHttpRequest;n.open("GET",e,!1),n.send(null),t=4===n.readyState?n.responseText:null;var a=n.getResponseHeader("SourceMap")||n.getResponseHeader("X-SourceMap");if(a)return a}catch(e){}t=g(e);for(var o=/(?:\/\/[@#][\s]*sourceMappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*sourceMappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/mg;i=o.exec(t);)r=i;return r?r[1]:null}(e);return r&&(c.test(r)?(t=f_(r.slice(r.indexOf(",")+1),"base64").toString(),r=e):(r=m(e,r),t=g(r)),t)?{url:r,map:t}:null});var x=f.slice(0),k=h.slice(0);t.wrapCallSite=v,t.getErrorSource=S,t.mapSourcePosition=_,t.retrieveSourceMap=w,t.install=function(t){if((t=t||{}).environment&&-1===["node","browser","auto"].indexOf(s=t.environment))throw Error("environment "+s+" was unknown. Available options are {auto, browser, node}");if(t.retrieveFile&&(t.overrideRetrieveFile&&(f.length=0),f.unshift(t.retrieveFile)),t.retrieveSourceMap&&(t.overrideRetrieveSourceMap&&(h.length=0),h.unshift(t.retrieveSourceMap)),t.hookRequire&&!d()){var r=e.require("module"),i=r.prototype._compile;i.__sourceMapSupport||(r.prototype._compile=function(e,t){return l[t]=e,u[t]=void 0,i.call(this,e,t)},r.prototype._compile.__sourceMapSupport=!0)}if(o||(o="emptyCacheBetweenOperations"in t&&t.emptyCacheBetweenOperations),n||(n=!0,Error.prepareStackTrace=E),!a){var c,p=!("handleUncaughtExceptions"in t)||t.handleUncaughtExceptions;try{var g=e.require("worker_threads");!1===g.isMainThread&&(p=!1)}catch(e){}p&&"object"==typeof process&&null!==process&&"function"==typeof process.on&&(a=!0,c=process.emit,process.emit=function(e){if("uncaughtException"===e){var t,r,i,n=arguments[1]&&arguments[1].stack,a=this.listeners(e).length>0;if(n&&!a)return t=arguments[1],r=S(t),void((i=function(){if("object"==typeof process&&null!==process)return process.stderr}())&&i._handle&&i._handle.setBlocking&&i._handle.setBlocking(!0),r&&(console.error(),console.error(r)),console.error(t.stack),"object"==typeof process&&null!==process&&"function"==typeof process.exit&&process.exit(1))}return c.apply(this,arguments)})}},t.resetRetrieveHandlers=function(){f.length=0,h.length=0,f=x.slice(0),w=p(h=k.slice(0)),g=p(f)}}(cK,cK.exports);var fy=cK.exports,fb=(E={__proto__:null,default:W(fy)},[fy].forEach(function(e){e&&"string"!=typeof e&&!Array.isArray(e)&&Object.keys(e).forEach(function(t){if("default"!==t&&!(t in E)){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(E,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})}),E);
//# sourceMappingURL=index.js.map
